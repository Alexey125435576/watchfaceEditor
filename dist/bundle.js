!function(e){var t={};function a(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";function o(e){if(null===e||""===e)throw{name:"Get element error: no element",element:e};switch(e[0]){case"<":return document.getElementsByTagName(e.slice(1));case".":return document.getElementsByClassName(e.slice(1));default:{let t=document.getElementById(e);if(null===t)throw{name:"Get element error",element:e};return t}}}a.r(t);let n=e=>o(e).cloneNode(!1),r=(e,t)=>(e-e%t)/t;function s(e){for(let t=0,a=o("."+e);a.length;t++)o("watchface").removeChild(a[0])}var i={height:176,width:176,tabs:["editor-tab","jsonEditor-tab","analog-watch-tab","resources-tab"],images:{watchface_block:{left:43,top:163,height:353,width:233,image:"b.png"}},data:{import:function(e){let t={};return"Background"in e&&(t.bg=e.Background),"Time"in e&&(t.time=e.Time,"Seconds"in e.Time&&(t.seconds=e.Time.Seconds,delete t.time.Seconds),"AmPm"in e.Time&&(t.amPm=e.Time.AmPm,delete t.time.AmPm)),"Date"in e?(t.date=!0,"WeekDay"in e.Date&&(t.weekDay=e.Date.WeekDay),"MonthAndDay"in e.Date&&(t.monthandday=e.Date.MonthAndDay,"Separate"in e.Date.MonthAndDay&&("Day"in e.Date.MonthAndDay.Separate&&(t.dateDay=e.Date.MonthAndDay.Separate.Day),"Month"in e.Date.MonthAndDay.Separate&&(t.dateMonth=e.Date.MonthAndDay.Separate.Month),delete t.monthandday.Separate),"OneLine"in e.Date.MonthAndDay&&(t.dateOneLine=e.Date.MonthAndDay.OneLine,delete t.monthandday.OneLine))):t.date=!1,"Battery"in e?(t.battery=!0,"Icon"in e.Battery&&(t.batteryIcon=e.Battery.Icon),"Text"in e.Battery&&(t.batteryText=e.Battery.Text),"Scale"in e.Battery&&(t.batteryScale=e.Battery.Scale)):t.battery=!1,"Status"in e?(t.status=!0,"Alarm"in e.Status&&(t.statAlarm=e.Status.Alarm),"Bluetooth"in e.Status&&(t.statBt=e.Status.Bluetooth),"DoNotDisturb"in e.Status&&(t.statDnd=e.Status.DoNotDisturb),"Lock"in e.Status&&(t.statLock=e.Status.Lock)):t.status=!1,"Activity"in e?(t.activity=!0,"Calories"in e.Activity&&(t.actCal=e.Activity.Calories),"Steps"in e.Activity&&(t.actSteps=e.Activity.Steps),"StepsGoal"in e.Activity&&(t.actStepsGoal=e.Activity.StepsGoal),"Pulse"in e.Activity&&(t.actPulse=e.Activity.Pulse),"Distance"in e.Activity&&(t.actDistance=e.Activity.Distance)):t.activity=!1,"Weather"in e?(t.weather=!0,"Icon"in e.Weather&&(t.weathericon=e.Weather.Icon),"Temperature"in e.Weather&&("Today"in e.Weather.Temperature&&("OneLine"in e.Weather.Temperature.Today&&(t.weatherOneLine=e.Weather.Temperature.Today.OneLine),"Separate"in e.Weather.Temperature.Today&&("Day"in e.Weather.Temperature.Today.Separate&&(t.weatherDay=e.Weather.Temperature.Today.Separate.Day),"Night"in e.Weather.Temperature.Today.Separate&&(t.weatherNight=e.Weather.Temperature.Today.Separate.Night),"DayAlt"in e.Weather.Temperature.Today.Separate&&(t.weatherDayAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Day)),t.weatherDayAlt.Number.BottomRightX=t.weatherDayAlt.Number.BottomRightX-t.weatherDayAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.DayAlt.X,t.weatherDayAlt.Number.BottomRightY=t.weatherDayAlt.Number.BottomRightY-t.weatherDayAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.DayAlt.Y,t.weatherDayAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.DayAlt.X,t.weatherDayAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.DayAlt.Y),"NightAlt"in e.Weather.Temperature.Today.Separate&&(t.weatherNightAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Night)),t.weatherNightAlt.Number.BottomRightX=t.weatherNightAlt.Number.BottomRightX-t.weatherNightAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.NightAlt.X,t.weatherNightAlt.Number.BottomRightY=t.weatherNightAlt.Number.BottomRightY-t.weatherNightAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.NightAlt.Y,t.weatherNightAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.NightAlt.X,t.weatherNightAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.NightAlt.Y))),"Current"in e.Weather.Temperature&&(t.weatherCurrent=e.Weather.Temperature.Current)),"AirPollution"in e.Weather&&("Icon"in e.Weather.AirPollution&&(t.weatherAirIcon=e.Weather.AirPollution.Icon),"Index"in e.Weather.AirPollution&&(t.weatherAirText=e.Weather.AirPollution.Index))):t.weather=!1,"StepsProgress"in e?(t.stepsprogress=!0,"Circle"in e.StepsProgress&&(t.stepscircle=e.StepsProgress.Circle),"Linear"in e.StepsProgress&&(t.stepsLinear=e.StepsProgress.Linear),"GoalImage"in e.StepsProgress&&(t.stepsGoal=e.StepsProgress.GoalImage)):t.stepsprogress=!1,"AnalogDialFace"in e?(t.analog=!0,"Hours"in e.AnalogDialFace&&(t.analoghours=e.AnalogDialFace.Hours),"Minutes"in e.AnalogDialFace&&(t.analogminutes=e.AnalogDialFace.Minutes),"Seconds"in e.AnalogDialFace&&(t.analogseconds=e.AnalogDialFace.Seconds)):t.analog=!1,t},export:function(e){let t=JSON.parse(JSON.stringify(e)),a={};return"bg"in t&&(a.Background=t.bg),"time"in t&&(a.Time=t.time,"seconds"in t&&(a.Time.Seconds=t.seconds),"amPm"in t&&(a.Time.AmPm=t.amPm)),t.date&&(a.Date={},"weekDay"in t&&(a.Date.WeekDay=t.weekDay),"monthandday"in t&&(a.Date.MonthAndDay=t.monthandday,("dateDay"in t||"dateMonth"in t)&&(a.Date.MonthAndDay.Separate={},"dateDay"in t&&(a.Date.MonthAndDay.Separate.Day=t.dateDay),"dateMonth"in t&&(a.Date.MonthAndDay.Separate.Month=t.dateMonth)),"dateOneLine"in t&&(a.Date.MonthAndDay.OneLine=t.dateOneLine))),t.status&&(a.Status={},"statAlarm"in t&&(a.Status.Alarm=t.statAlarm),"statBt"in t&&(a.Status.Bluetooth=t.statBt),"statDnd"in t&&(a.Status.DoNotDisturb=t.statDnd),"statLock"in t&&(a.Status.Lock=t.statLock)),t.battery&&(a.Battery={},"batteryIcon"in t&&(a.Battery.Icon=t.batteryIcon),"batteryText"in t&&(a.Battery.Text=t.batteryText),"batteryScale"in t&&(a.Battery.Scale=t.batteryScale)),t.activity&&(a.Activity={},"actCal"in t&&(a.Activity.Calories=t.actCal),"actSteps"in t&&(a.Activity.Steps=t.actSteps),"actStepsGoal"in t&&(a.Activity.StepsGoal=t.actStepsGoal),"actPulse"in t&&(a.Activity.Pulse=t.actPulse),"actDistance"in t&&(a.Activity.Distance=t.actDistance)),t.weather&&(a.Weather={},"weathericon"in t&&(a.Weather.Icon=t.weathericon),("weatherCurrent"in t||"weatherDay"in t||"weatherNight"in t||"weatherOneLine"in t)&&(a.Weather.Temperature={},("weatherDay"in t||"weatherNight"in t||"weatherOneLine"in t)&&(a.Weather.Temperature.Today={},"weatherOneLine"in t&&(a.Weather.Temperature.Today.OneLine=t.weatherOneLine),("weatherDay"in t||"weatherNight"in t)&&(a.Weather.Temperature.Today.Separate={},"weatherDay"in t&&(a.Weather.Temperature.Today.Separate.Day=t.weatherDay),"weatherNight"in t&&(a.Weather.Temperature.Today.Separate.Night=t.weatherNight),"weatherDayAlt"in t&&(a.Weather.Temperature.Today.Separate.DayAlt={},a.Weather.Temperature.Today.Separate.DayAlt.X=t.weatherDayAlt.Number.TopLeftX,a.Weather.Temperature.Today.Separate.DayAlt.Y=t.weatherDayAlt.Number.TopLeftY),"weatherNightAlt"in t&&(a.Weather.Temperature.Today.Separate.NightAlt={},a.Weather.Temperature.Today.Separate.NightAlt.X=t.weatherNightAlt.Number.TopLeftX,a.Weather.Temperature.Today.Separate.NightAlt.Y=t.weatherNightAlt.Number.TopLeftY))),"weatherCurrent"in t&&(a.Weather.Temperature.Current=t.weatherCurrent)),("weatherAirIcon"in t||"weatherAirText"in t)&&(a.Weather.AirPollution={},"weatherAirIcon"in t&&(a.Weather.AirPollution.Icon=t.weatherAirIcon),"weatherAirText"in t&&(a.Weather.AirPollution.Index=t.weatherAirText))),t.stepsprogress&&(a.StepsProgress={},"stepscircle"in t&&(a.StepsProgress.Circle=t.stepscircle),"stepsLinear"in t&&(a.StepsProgress.Linear=t.stepsLinear),"stepsGoal"in t&&(a.StepsProgress.GoalImage=t.stepsGoal)),t.analog&&(a.AnalogDialFace={},"analoghours"in t&&(a.AnalogDialFace.Hours=t.analoghours),"analogminutes"in t&&(a.AnalogDialFace.Minutes=t.analogminutes),"analogseconds"in t&&(a.AnalogDialFace.Seconds=t.analogseconds)),a}},default_coords:JSON.parse('{"bg":{"Image":{"ImageIndex":265,"X":0,"Y":0}},"time":{"Hours":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":87,"Y":26},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":37,"Y":26}},"Minutes":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":112,"Y":77},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":62,"Y":77}}},"date":false,"battery":false,"status":false,"activity":false,"weather":false,"stepsprogress":false,"analog":false}')};let c={height:160,width:80,tabs:["editor-tab","jsonEditor-tab","resources-tab"],images:{watchface_block:{left:24,top:88,height:264,width:105,image:"c.png"}},data:{import:function(e){let t={};return"Background"in e&&(t.bg=e.Background),"Time"in e&&(t.time=e.Time,"Seconds"in e.Time&&(t.seconds=e.Time.Seconds,delete t.time.Seconds),"AmPm"in e.Time&&(t.amPm=e.Time.AmPm,delete t.time.AmPm)),"Date"in e?(t.date=!0,"WeekDay"in e.Date&&(t.weekDay=e.Date.WeekDay),"MonthAndDay"in e.Date&&(t.monthandday=e.Date.MonthAndDay,"Separate"in e.Date.MonthAndDay&&("Day"in e.Date.MonthAndDay.Separate&&(t.dateDay=e.Date.MonthAndDay.Separate.Day),"Month"in e.Date.MonthAndDay.Separate&&(t.dateMonth=e.Date.MonthAndDay.Separate.Month),delete t.monthandday.Separate),"OneLine"in e.Date.MonthAndDay&&(t.dateOneLine=e.Date.MonthAndDay.OneLine,delete t.monthandday.OneLine))):t.date=!1,"Battery"in e?(t.battery=!0,"Icon"in e.Battery&&(t.batteryIcon=e.Battery.Icon),"Text"in e.Battery&&(t.batteryText=e.Battery.Text.Number),"Scale"in e.Battery&&(t.batteryScale=e.Battery.Scale)):t.battery=!1,"Status"in e?(t.status=!0,"Alarm"in e.Status&&(t.statAlarm=e.Status.Alarm),"Bluetooth"in e.Status&&(t.statBt=e.Status.Bluetooth),"DoNotDisturb"in e.Status&&(t.statDnd=e.Status.DoNotDisturb),"Lock"in e.Status&&(t.statLock=e.Status.Lock)):t.status=!1,"Activity"in e?(t.activity=!0,"Calories"in e.Activity&&(t.actCal=(e=>JSON.parse(JSON.stringify(e)))(e.Activity.Calories.Number),delete e.Activity.Calories.Number,t.actCal.cor=e.Activity.Calories),"Steps"in e.Activity&&(t.actSteps=e.Activity.Steps.Number,delete e.Activity.Steps.Number,t.actSteps.cor=e.Activity.Steps),"StepsGoal"in e.Activity&&(t.actStepsGoal=e.Activity.StepsGoal.Number,delete e.Activity.StepsGoal.Number,t.actStepsGoal.cor=e.Activity.StepsGoal),"Pulse"in e.Activity&&(t.actPulse=e.Activity.Pulse.Number,delete e.Activity.Pulse.Number,t.actPulse.cor=e.Activity.Pulse),"Distance"in e.Activity&&(t.actDistance=e.Activity.Distance)):t.activity=!1,"Weather"in e?(t.weather=!0,"Icon"in e.Weather&&(t.weathericon=e.Weather.Icon),"Temperature"in e.Weather&&("Today"in e.Weather.Temperature&&("OneLine"in e.Weather.Temperature.Today&&(t.weatherOneLine=e.Weather.Temperature.Today.OneLine),"Separate"in e.Weather.Temperature.Today&&("Day"in e.Weather.Temperature.Today.Separate&&(t.weatherDay=e.Weather.Temperature.Today.Separate.Day),"Night"in e.Weather.Temperature.Today.Separate&&(t.weatherNight=e.Weather.Temperature.Today.Separate.Night),"DayAlt"in e.Weather.Temperature.Today.Separate&&(t.weatherDayAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Day)),t.weatherDayAlt.Number.BottomRightX=t.weatherDayAlt.Number.BottomRightX-t.weatherDayAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.DayAlt.X,t.weatherDayAlt.Number.BottomRightY=t.weatherDayAlt.Number.BottomRightY-t.weatherDayAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.DayAlt.Y,t.weatherDayAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.DayAlt.X,t.weatherDayAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.DayAlt.Y),"NightAlt"in e.Weather.Temperature.Today.Separate&&(t.weatherNightAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Night)),t.weatherNightAlt.Number.BottomRightX=t.weatherNightAlt.Number.BottomRightX-t.weatherNightAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.NightAlt.X,t.weatherNightAlt.Number.BottomRightY=t.weatherNightAlt.Number.BottomRightY-t.weatherNightAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.NightAlt.Y,t.weatherNightAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.NightAlt.X,t.weatherNightAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.NightAlt.Y))),"Current"in e.Weather.Temperature&&(t.weatherCurrent=e.Weather.Temperature.Current)),"AirPollution"in e.Weather&&("Icon"in e.Weather.AirPollution&&(t.weatherAirIcon=e.Weather.AirPollution.Icon),"Index"in e.Weather.AirPollution&&(t.weatherAirText=e.Weather.AirPollution.Index))):t.weather=!1,"StepsProgress"in e?(t.stepsprogress=!0,"Circle"in e.StepsProgress&&(t.stepscircle=e.StepsProgress.Circle),"Linear"in e.StepsProgress&&(t.stepsLinear=e.StepsProgress.Linear),"GoalImage"in e.StepsProgress&&(t.stepsGoal=e.StepsProgress.GoalImage)):t.stepsprogress=!1,"AnalogDialFace"in e?(t.analog=!0,"Hours"in e.AnalogDialFace&&(t.analoghours=e.AnalogDialFace.Hours),"Minutes"in e.AnalogDialFace&&(t.analogminutes=e.AnalogDialFace.Minutes),"Seconds"in e.AnalogDialFace&&(t.analogseconds=e.AnalogDialFace.Seconds)):t.analog=!1,t},export:function(e){let t=JSON.parse(JSON.stringify(e)),a={};return"bg"in t&&(a.Background=t.bg),"time"in t&&(a.Time=t.time,"seconds"in t&&(a.Time.Seconds=t.seconds),"amPm"in t&&(a.Time.AmPm=t.amPm)),t.date&&(a.Date={},"weekDay"in t&&(a.Date.WeekDay=t.weekDay),"monthandday"in t&&(a.Date.MonthAndDay=t.monthandday,("dateDay"in t||"dateMonth"in t)&&(a.Date.MonthAndDay.Separate={},"dateDay"in t&&(a.Date.MonthAndDay.Separate.Day=t.dateDay),"dateMonth"in t&&(a.Date.MonthAndDay.Separate.Month=t.dateMonth)),"dateOneLine"in t&&(a.Date.MonthAndDay.OneLine=t.dateOneLine))),t.status&&(a.Status={},"statAlarm"in t&&(a.Status.Alarm=t.statAlarm),"statBt"in t&&(a.Status.Bluetooth=t.statBt),"statDnd"in t&&(a.Status.DoNotDisturb=t.statDnd),"statLock"in t&&(a.Status.Lock=t.statLock)),t.battery&&(a.Battery={},"batteryIcon"in t&&(a.Battery.Icon=t.batteryIcon),"batteryText"in t&&(a.Battery.Text={},a.Battery.Text.Number=t.batteryText),"batteryScale"in t&&(a.Battery.Scale=t.batteryScale)),t.activity&&(a.Activity={},"actCal"in t&&(a.Activity.Calories=t.actCal.cor,a.Activity.Calories.Number=t.actCal,delete a.Activity.Calories.Number.cor),"actSteps"in t&&(a.Activity.Steps=t.actSteps.cor,a.Activity.Steps.Number=t.actsteps,delete a.Activity.Steps.Number.cor),"actStepsGoal"in t&&(a.Activity.StepsGoal=t.actStepsGoal.cor,a.Activity.StepsGoal.Number=t.actStepsGoal,delete a.Activity.StepsGoal.Number.cor),"actPulse"in t&&(a.Activity.Pulse=t.actPulse.cor,a.Activity.Pulse.Number=t.actPulse,delete a.Activity.Pulse.Number.cor),"actDistance"in t&&(a.Activity.Distance=t.actDistance)),t.weather&&(a.Weather={},"weathericon"in t&&(a.Weather.Icon=t.weathericon),("weatherCurrent"in t||"weatherDay"in t||"weatherNight"in t||"weatherOneLine"in t)&&(a.Weather.Temperature={},("weatherDay"in t||"weatherNight"in t||"weatherOneLine"in t)&&(a.Weather.Temperature.Today={},"weatherOneLine"in t&&(a.Weather.Temperature.Today.OneLine=t.weatherOneLine),("weatherDay"in t||"weatherNight"in t)&&(a.Weather.Temperature.Today.Separate={},"weatherDay"in t&&(a.Weather.Temperature.Today.Separate.Day=t.weatherDay),"weatherNight"in t&&(a.Weather.Temperature.Today.Separate.Night=t.weatherNight),"weatherDayAlt"in t&&(a.Weather.Temperature.Today.Separate.DayAlt={},a.Weather.Temperature.Today.Separate.DayAlt.X=t.weatherDayAlt.Number.TopLeftX,a.Weather.Temperature.Today.Separate.DayAlt.Y=t.weatherDayAlt.Number.TopLeftY),"weatherNightAlt"in t&&(a.Weather.Temperature.Today.Separate.NightAlt={},a.Weather.Temperature.Today.Separate.NightAlt.X=t.weatherNightAlt.Number.TopLeftX,a.Weather.Temperature.Today.Separate.NightAlt.Y=t.weatherNightAlt.Number.TopLeftY))),"weatherCurrent"in t&&(a.Weather.Temperature.Current=t.weatherCurrent)),("weatherAirIcon"in t||"weatherAirText"in t)&&(a.Weather.AirPollution={},"weatherAirIcon"in t&&(a.Weather.AirPollution.Icon=t.weatherAirIcon),"weatherAirText"in t&&(a.Weather.AirPollution.Index=t.weatherAirText))),t.stepsprogress&&(a.StepsProgress={},"stepscircle"in t&&(a.StepsProgress.Circle=t.stepscircle),"stepsLinear"in t&&(a.StepsProgress.Linear=t.stepsLinear),"stepsGoal"in t&&(a.StepsProgress.GoalImage=t.stepsGoal)),t.analog&&(a.AnalogDialFace={},"analoghours"in t&&(a.AnalogDialFace.Hours=t.analoghours),"analogminutes"in t&&(a.AnalogDialFace.Minutes=t.analogminutes),"analogseconds"in t&&(a.AnalogDialFace.Seconds=t.analogseconds)),a}},default_coords:JSON.parse('{"bg":{"Image":{"ImageIndex":293,"X":0,"Y":0}},"time":{"Hours":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":45,"Y":9},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":8,"Y":9}},"Minutes":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":45,"Y":84},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":8,"Y":83}}},"date":false,"battery":false,"status":false,"activity":false,"weather":false,"stepsprogress":false,"analog":false}')};var d={bip:i,cor:c,band4:{height:240,width:120,tabs:["editor-tab","jsonEditor-tab","resources-tab"],images:{watchface_block:{left:31,top:108,height:402,width:154,image:"b4.png"}},data:{import:function(e){let t={};return"Background"in e&&(t.bg=e.Background),"Time"in e&&(t.time=e.Time,"Seconds"in e.Time&&(t.seconds=e.Time.Seconds,delete t.time.Seconds)),"Date"in e?(t.date=!0,"WeekDay"in e.Date&&(t.weekDay=e.Date.WeekDay),"MonthAndDay"in e.Date&&(t.monthandday=e.Date.MonthAndDay,"Separate"in e.Date.MonthAndDay&&("Day"in e.Date.MonthAndDay.Separate&&(t.dateDay=e.Date.MonthAndDay.Separate.Day),"Month"in e.Date.MonthAndDay.Separate&&(t.dateMonth=e.Date.MonthAndDay.Separate.Month),delete t.monthandday.Separate),"OneLine"in e.Date.MonthAndDay&&(t.dateOneLine=e.Date.MonthAndDay.OneLine,delete t.monthandday.OneLine)),"DayAmPm"in e.Date&&(t.amPm={X:e.Date.DayAmPm.TopLeftX,Y:e.Date.DayAmPm.TopLeftY,ImageIndexAm:e.Date.DayAmPm.ImageIndexAMEN,ImageIndexPm:e.Date.DayAmPm.ImageIndexPMEN})):t.date=!1,"Status"in e?(t.status=!0,"Battery"in e.Status?(t.battery=!0,"BatteryConfig"in e.Status.Battery&&(t.BatteryConfig=e.Status.Battery.BatteryConfig),"Icon"in e.Status.Battery&&(t.batteryIcon=e.Status.Battery.Icon),"Text"in e.Status.Battery&&(t.batteryText=e.Status.Battery.Text),"Scale"in e.Status.Battery&&(t.batteryScale=e.Status.Battery.Scale)):t.battery=!1,"Alarm"in e.Status&&(t.statAlarm=e.Status.Alarm),"Bluetooth"in e.Status&&(t.statBt=e.Status.Bluetooth),"DoNotDisturb"in e.Status&&(t.statDnd=e.Status.DoNotDisturb),"Lock"in e.Status&&(t.statLock=e.Status.Lock)):t.status=!1,"Activity"in e?(t.activity=!0,"Calories"in e.Activity&&(t.actCal=e.Activity.Calories.Number,delete e.Activity.Calories.Number,t.actCal.cor=e.Activity.Calories),"Steps"in e.Activity&&(t.actSteps=e.Activity.Steps.Step,delete e.Activity.Steps.Step,t.actSteps.cor=e.Activity.Steps),"StepsGoal"in e.Activity&&(t.actStepsGoal=e.Activity.StepsGoal.Number,delete e.Activity.StepsGoal.Number,t.actStepsGoal.cor=e.Activity.StepsGoal),"Pulse"in e.Activity&&(t.actPulse=e.Activity.Pulse.Pulse,delete e.Activity.Pulse.Pulse,t.actPulse.cor=e.Activity.Pulse),"Distance"in e.Activity&&(t.actDistance=e.Activity.Distance)):t.activity=!1,"StepsProgress"in e?(t.stepsprogress=!0,"Circle"in e.StepsProgress&&(t.stepscircle=e.StepsProgress.Circle),"Linear"in e.StepsProgress&&(t.stepsLinear=e.StepsProgress.Linear),"GoalImage"in e.StepsProgress&&(t.stepsGoal=e.StepsProgress.GoalImage)):t.stepsprogress=!1,"Other"in e&&"Animation"in e.Other&&(t.Animation=e.Other.Animation),t},export:function(e){(()=>{let e=(new Date).getTime();window.last_time&&e-3e4-window.last_time<0||(window.last_time=e,UIkit.notification("watchfaceEditor for Mi Band 4 is in development. Be careful if you use it!",{status:"danger",pos:"top-left",timeout:7500}))})();let t=(e=>JSON.parse(JSON.stringify(e)))(e),a={};return"bg"in t&&(a.Background=t.bg),"time"in t&&(a.Time=t.time,"seconds"in t&&(a.Time.Seconds=t.seconds)),(t.date||"amPm"in t)&&(a.Date={},"weekDay"in t&&(a.Date.WeekDay=t.weekDay),"monthandday"in t&&(a.Date.MonthAndDay=t.monthandday,("dateDay"in t||"dateMonth"in t)&&(a.Date.MonthAndDay.Separate={},"dateDay"in t&&(a.Date.MonthAndDay.Separate.Day=t.dateDay),"dateMonth"in t&&(a.Date.MonthAndDay.Separate.Month=t.dateMonth)),"dateOneLine"in t&&(a.Date.MonthAndDay.OneLine=t.dateOneLine)),"amPm"in t&&(a.Date.DayAmPm={TopLeftX:t.amPm.X,TopLeftY:t.amPm.Y,ImageIndexAMCN:t.amPm.ImageIndexAm,ImageIndexPMCN:t.amPm.ImageIndexPm,ImageIndexAMEN:t.amPm.ImageIndexAm,ImageIndexPMEN:t.amPm.ImageIndexPm})),(t.status||t.battery)&&(a.Status={},t.battery&&(a.Status.Battery={},"BatteryConfig"in t&&(a.Status.Battery.Icon=t.BatteryConfig),"batteryIcon"in t&&(a.Status.Battery.Icon=t.batteryIcon),"batteryText"in t&&(a.Status.Battery.Text=t.batteryText),"batteryScale"in t&&(a.Status.Battery.Scale=t.batteryScale)),"statAlarm"in t&&(a.Status.Alarm=t.statAlarm),"statBt"in t&&(a.Status.Bluetooth=t.statBt),"statDnd"in t&&(a.Status.DoNotDisturb=t.statDnd),"statLock"in t&&(a.Status.Lock=t.statLock)),t.activity&&(a.Activity={},"actCal"in t&&(a.Activity.Calories=t.actCal.cor,a.Activity.Calories.Number=t.actCal,delete a.Activity.Calories.Number.cor),"actSteps"in t&&(a.Activity.Steps=t.actSteps.cor,a.Activity.Steps.Step=t.actSteps,delete a.Activity.Steps.Step.cor),"actStepsGoal"in t&&(a.Activity.StepsGoal=t.actStepsGoal.cor,a.Activity.StepsGoal.Number=t.actStepsGoal,delete a.Activity.StepsGoal.Number.cor),"actPulse"in t&&(a.Activity.Pulse=t.actPulse.cor,a.Activity.Pulse.Pulse=t.actPulse,delete a.Activity.Pulse.Pulse.cor),"actDistance"in t&&(a.Activity.Distance=t.actDistance)),t.stepsprogress&&(a.StepsProgress={},"stepscircle"in t&&(a.StepsProgress.Circle=t.stepscircle),"stepsLinear"in t&&(a.StepsProgress.Linear=t.stepsLinear),"stepsGoal"in t&&(a.StepsProgress.GoalImage=t.stepsGoal)),t.Animation&&(a.Other={},a.Other.Animation=t.Animation),a}},default_coords:JSON.parse('{"bg":{"Image":{"ImageIndex":301,"X":0,"Y":0}},"time":{"Hours":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":68,"Y":26},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":23,"Y":26}},"Minutes":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":69,"Y":132},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":24,"Y":132}}},"date":false,"battery":false,"status":false,"activity":false,"weather":false,"stepsprogress":false,"analog":false}')}};let l={};function m(e){try{let t=new XMLHttpRequest;if(t.open("GET","assets/translation/"+e+".json",!1),t.send(),200!==t.status)throw"Respanse status: "+t.status;{l=JSON.parse(t.responseText);let e=document.querySelectorAll("[data-translate-id]");for(let t=0;t<e.length;t++)e[t].dataset.translateId in l&&(void 0===e[t].dataset.link?e[t].innerHTML=l[e[t].dataset.translateId]:e[t].innerHTML=l[e[t].dataset.translateId].replace(/\$link/g,e[t].dataset.link))}}catch(e){console.warn("Loading translation error",e),UIkit.notification("<b>Loading translation error: </b>"+e,{status:"danger",pos:"top-left",timeout:5e3})}}function h(e){switch("amazfit"===localStorage.appTheme&&(o(".uk-navbar-left")[0].innerHTML='<a class="uk-navbar-item uk-logo we-white" href="https://v1ack.github.io/watchfaceEditor/"><img src="assets/icon/android-chrome-192x192.png" style="width: auto; height: 60%; margin-right: 10px;">Watchface Editor</a>',o("<html")[0].style.background="",o(".uk-navbar")[0].style.height="",o(".uk-navbar")[0].classList.add("we-white"),o(".uk-navbar")[0].classList.remove("amazfit"),o(".uk-navbar-container")[0].style.background="linear-gradient(to left, #28a5f5, #1e87f0)",o("menu-amazfit").setAttribute("hidden",""),o("tablist-amazfit").setAttribute("hidden",""),o("tablist").removeAttribute("hidden"),o("donate-link").removeAttribute("hidden"),o("theme-settings").removeAttribute("hidden")),e){case"light":localStorage.appTheme="light",document.body.classList.remove("uk-light"),o("<html")[0].classList.remove("uk-background-secondary"),o("vars").classList.remove("uk-card-secondary"),o("modal-howto").childNodes[1].classList.remove("uk-background-secondary"),o("modal-about").childNodes[1].classList.remove("uk-background-secondary"),o("modal-donate").childNodes[1].classList.remove("uk-background-secondary"),o("jsonerrormodal").childNodes[1].classList.remove("uk-background-secondary"),o("modal-preview").childNodes[1].classList.remove("uk-background-secondary"),o("modal-settings").childNodes[1].classList.remove("uk-background-secondary");break;case"dark":localStorage.appTheme="dark",document.body.classList.add("uk-light"),o("<html")[0].classList.add("uk-background-secondary"),o("vars").classList.add("uk-card-secondary"),o("modal-howto").childNodes[1].classList.add("uk-background-secondary"),o("modal-about").childNodes[1].classList.add("uk-background-secondary"),o("modal-donate").childNodes[1].classList.add("uk-background-secondary"),o("jsonerrormodal").childNodes[1].classList.add("uk-background-secondary"),o("modal-preview").childNodes[1].classList.add("uk-background-secondary"),o("modal-settings").childNodes[1].classList.add("uk-background-secondary");break;case"amazfit":h("dark"),o(".uk-navbar-left")[0].innerHTML='<a class="uk-navbar-item uk-logo we-white" href="https://amazfitwatchfaces.com/"><img src="assets/logo.png" style="width: 200px; image-rendering: auto;"></a>',localStorage.appTheme="amazfit",o("<html")[0].style.background="#121314",o(".uk-navbar")[0].style.height="50px",o(".uk-navbar")[0].classList.remove("we-white"),o(".uk-navbar")[0].classList.add("amazfit"),o(".uk-navbar-container")[0].style.background="#222",o("menu-amazfit").removeAttribute("hidden"),o("tablist-amazfit").removeAttribute("hidden"),o("tablist").setAttribute("hidden",""),o("donate-link").setAttribute("hidden",""),o("theme-settings").setAttribute("hidden","")}}o("lang-ru").addEventListener("click",()=>{localStorage.lang="ru",m("russian")}),o("lang-en").addEventListener("click",()=>{localStorage.lang="en",m("english")}),o("lang-zh").addEventListener("click",()=>{localStorage.lang="zh",m("chinese")}),o("lang-de").addEventListener("click",()=>{localStorage.lang="de",m("german")}),o("lang-nl").addEventListener("click",()=>{localStorage.lang="nl",m("dutch")}),o("lang-tr").addEventListener("click",()=>{localStorage.lang="tr",m("turkish")}),o("theme-light").addEventListener("click",()=>h("light")),o("theme-dark").addEventListener("click",()=>h("dark"));var g={changeLang:m,changeTheme:h,change_device:function(e,t){localStorage.device=e;let a=d[e];o("watchface").style.height=a.height+"px",o("watchface").style.width=a.width+"px",o("svg-cont-steps").attributes.height.value=a.height,o("svg-cont-steps").attributes.width.value=a.width,o("svg-cont-clock").attributes.height.value=a.height,o("svg-cont-clock").attributes.width.value=a.width,o("svg-cont-steps").style.width=a.width+"px",o("editor").style.height=3*a.height+"px",o("editor").style.width=3*a.width+"px",o("analog").style.height=3*a.height+"px",o("analog").style.width=3*a.width+"px",o("watchfaceimage").style.background="url(assets/"+a.images.watchface_block.image+")",o("watchfaceimage").style.paddingLeft=a.images.watchface_block.left+"px",o("watchfaceimage").style.paddingTop=a.images.watchface_block.top+"px",o("watchfaceimage").style.height=a.images.watchface_block.height+"px",o("watchfaceimage").style.width=a.images.watchface_block.width+"px",t.default_coords=a.default_coords,t.converter=a.data;for(let e=0,t=o(".main-tab");e<t.length;e++)a.tabs.includes(t[e].id)?t[e].removeAttribute("hidden"):t[e].setAttribute("hidden","");t.device={name:e,height:a.height,width:a.width}}};let u={view:{},coords:{},coordsHistory:[],data:{timeOnClock:["20","38"],seconds:[4,3],analog:[259,228,60],weekDay:2,day:6,month:12,battery:20,calories:860,steps:5687,stepsGoal:12e3,distance:[5,67],pulse:72,temp:[22,24],weathericon:0,air:300,alarm:!0,bluetooth:!0,dnd:!0,lock:!0,jsset:!1,imagesset:!1,wfname:"watchface",weatherAlt:!1,animation:0},converter:null};u.elements={timeHoursTens:{name:"Time hours tens",editorId:"e_time_ht",prewiewClass:"c_time",coords:function(){return u.coords.time.Hours.Tens},drawFunc:function(){u.draw.time.time()}},timeHoursOnes:{name:"Time hours ones",editorId:"e_time_ho",prewiewClass:"c_time",coords:function(){return u.coords.time.Hours.Ones},drawFunc:function(){u.draw.time.time()}},timeMinutesTens:{name:"Time minutes tens",editorId:"e_time_mt",prewiewClass:"c_time",coords:function(){return u.coords.time.Minutes.Tens},drawFunc:function(){u.draw.time.time()}},timeMinutesOnes:{name:"Time minutes ones",editorId:"e_time_mo",prewiewClass:"c_time",coords:function(){return u.coords.time.Minutes.Ones},drawFunc:function(){u.draw.time.time()}},timeSecondsTens:{name:"Time seconds tens",editorId:"e_time_st",prewiewClass:"c_sec",coords:function(){return u.coords.seconds.Tens},drawFunc:function(){u.draw.time.seconds()}},timeSecondsOnes:{name:"Time seconds ones",editorId:"e_time_so",prewiewClass:"c_sec",coords:function(){return u.coords.seconds.Ones},drawFunc:function(){u.draw.time.seconds()}},timeM:{name:"AM/PM",editorId:"e_time_am",prewiewClass:"c_time_am",coords:function(){return u.coords.amPm},drawFunc:function(){u.draw.time.time()}},dateWeekday:{name:"Weekday",editorId:"e_date_weekDay",prewiewClass:"c_date_weekDay",coords:function(){return u.coords.weekDay},drawFunc:function(){u.draw.date.weekDay()}},dateDay:{name:"Day",editorId:"e_date_sep_day",prewiewClass:"c_date_sepday",coords:function(){return u.coords.dateDay},drawFunc:function(){u.draw.date.sepday()}},dateMonth:{name:"Month",editorId:"e_date_sep_month",prewiewClass:"c_date_sepmonth",coords:function(){return u.coords.dateMonth},drawFunc:function(){u.draw.date.sepmonth()}},dateOneLine:{name:"Date in one line",editorId:"e_date_oneline",prewiewClass:"c_date_oneline",coords:function(){return u.coords.dateOneLine.Number},drawFunc:function(){u.draw.date.oneline()}},actCalories:{name:"Calories",editorId:"e_act_cal",prewiewClass:"c_act_cal",coords:function(){return u.coords.actCal},drawFunc:function(){u.draw.activity.cal()}},actSteps:{name:"Steps",editorId:"e_act_steps",prewiewClass:"c_act_steps",coords:function(){return u.coords.actSteps},drawFunc:function(){u.draw.activity.steps()}},actStepsGoal:{name:"Steps goal",editorId:"e_act_stepsGoal",prewiewClass:"c_act_stepsg",coords:function(){return u.coords.actStepsGoal},drawFunc:function(){u.draw.activity.stepsGoal()}},actPulse:{name:"Pulse",editorId:"e_act_pulse",prewiewClass:"c_act_pulse",coords:function(){return u.coords.actPulse},drawFunc:function(){u.draw.activity.pulse()}},actDistance:{name:"Distance",editorId:"e_act_distance",prewiewClass:"c_act_distance",coords:function(){return u.coords.actDistance.Number},drawFunc:function(){u.draw.activity.distance()}},batteryIcon:{name:"Battery icon",editorId:"e_battery_icon",prewiewClass:"c_battery_icon",coords:function(){return u.coords.batteryIcon},drawFunc:function(){u.draw.battery.icon()}},batteryText:{name:"Battery text",editorId:"e_battery_text",prewiewClass:"c_battery_text",coords:function(){return u.coords.batteryText},drawFunc:function(){u.draw.battery.text()}},statAlarm:{name:"Alarm",editorId:"e_stat_alarm",prewiewClass:"c_stat_alarm",coords:function(){return u.coords.statAlarm.Coordinates},drawFunc:function(){u.draw.status.alarm()}},statBluetooth:{name:"Bluetooth",editorId:"e_stat_bt",prewiewClass:"c_stat_bt",coords:function(){return u.coords.statBt.Coordinates},drawFunc:function(){u.draw.status.bt()}},statDND:{name:"Do not distrurb",editorId:"e_stat_dnd",prewiewClass:"c_stat_dnd",coords:function(){return u.coords.statDnd.Coordinates},drawFunc:function(){u.draw.status.dnd()}},statLock:{name:"Lock",editorId:"e_stat_lock",prewiewClass:"c_stat_lock",coords:function(){return u.coords.statLock.Coordinates},drawFunc:function(){u.draw.status.lock()}},weatherIcon:{name:"Weather icon",editorId:"e_weather_icon",prewiewClass:"c_weather_icon",coords:function(){return u.coords.weathericon.CustomIcon},drawFunc:function(){u.draw.weather.icon()}},weatherOneLine:{name:"Weather in one line",editorId:"e_weather_temp_today_oneline",prewiewClass:"c_temp_oneline",coords:function(){return u.coords.weatherOneLine.Number},drawFunc:function(){u.draw.weather.temp.oneline()}},weatherDay:{name:"Weather day",editorId:"e_weather_temp_today_sep_day",prewiewClass:"c_temp_sep_day",coords:function(){return u.coords.weatherDay.Number},drawFunc:function(){u.draw.weather.temp.sep.day()}},weatherNight:{name:"Weather night",editorId:"e_weather_temp_today_sep_night",prewiewClass:"c_temp_sep_night",coords:function(){return u.coords.weatherNight.Number},drawFunc:function(){u.draw.weather.temp.sep.night()}},weatherDayAlt:{name:"Weather day alt",editorId:"e_weather_temp_today_sep_day_alt",prewiewClass:"c_temp_sep_day_a",coords:function(){return u.coords.weatherDayAlt.Number},drawFunc:function(){u.draw.weather.temp.sep.dayAlt()}},weatherNightAlt:{name:"Weather night alt",editorId:"e_weather_temp_today_sep_night_alt",prewiewClass:"c_temp_sep_night_a",coords:function(){return u.coords.weatherNightAlt.Number},drawFunc:function(){u.draw.weather.temp.sep.nightAlt()}},weatherCurrent:{name:"Current weather",editorId:"e_weather_temp_current",prewiewClass:"c_temp_cur",coords:function(){return u.coords.weatherCurrent.Number},drawFunc:function(){u.draw.weather.temp.current()}},weatherAirIcon:{name:"Air quality icon",editorId:"e_weather_air_icon",prewiewClass:"c_air_icon",coords:function(){return u.coords.weatherAirIcon},drawFunc:function(){u.draw.weather.airIcon()}},weatherAirText:{name:"Air quality",editorId:"e_weather_air_text",prewiewClass:"c_air_text",coords:function(){return u.coords.weatherAirText},drawFunc:function(){u.draw.weather.airText()}},stepsGoal:{name:"Steps goal",editorId:"e_steps_goal",prewiewClass:"c_steps_goal",coords:function(){return u.coords.stepsGoal},drawFunc:function(){u.draw.stepsprogress.goal()}},Animation:{name:"Animation",editorId:"e_animation",prewiewClass:"c_animation",coords:function(){return u.coords.Animation.AnimationImage},drawFunc:function(){u.draw.Animation()}}};var p=u;function w(e,t,a){"insertto"in e||(e.insertto="imagesinuse"),"addition"in e||(e.addition=""),void 0===a&&(a=1),void 0===t&&(a=0,t="",e.addition=e.addition.slice(2)),o(e.insertto).innerHTML+='<div class="imagessection"><div><span class="imagessection-h">'+e.label+'</span><span class="imagessection-description">ImageIndex: '+t+e.addition+'</span></div><div class="imagessection-images"></div></div>',(t-t%100)/100!=2&&(t-t%100)/100!=3||o(e.insertto).lastChild.classList.add("imagessection-def");for(let r=0;r<a;r++)o(e.insertto).lastChild.lastChild.appendChild(n(t+r)),o(e.insertto).lastChild.lastChild.lastChild.removeAttribute("id");if(arguments.length>3)for(let t=3;t<arguments.length;t++)o(e.insertto).lastChild.lastChild.appendChild(n(arguments[t])),o(e.insertto).lastChild.lastChild.lastChild.removeAttribute("id")}o("resources-tab").addEventListener("click",()=>(function(e){o("imagesinuse").innerHTML="",o("imagesavalible").innerHTML="","bg"in e&&w({label:"Background"},e.bg.Image.ImageIndex),"time"in e&&(w({label:"Time hours tens"},e.time.Hours.Tens.ImageIndex,e.time.Hours.Tens.ImagesCount),w({label:"Time hours ones"},e.time.Hours.Ones.ImageIndex,e.time.Hours.Ones.ImagesCount),w({label:"Time minutes tens"},e.time.Minutes.Tens.ImageIndex,e.time.Minutes.Tens.ImagesCount),w({label:"Time minutes ones"},e.time.Minutes.Ones.ImageIndex,e.time.Minutes.Ones.ImagesCount),"seconds"in e&&(w({label:"Time seconds tens"},e.seconds.Tens.ImageIndex,e.seconds.Tens.ImagesCount),w({label:"Time seconds ones"},e.seconds.Ones.ImageIndex,e.seconds.Ones.ImagesCount)),"amPm"in e&&w({label:"Time am/pm"},e.amPm.ImageIndexAm,1,e.amPm.ImageIndexPm)),e.date&&("weekDay"in e&&w({label:"Week day"},e.weekDay.ImageIndex,e.weekDay.ImagesCount),"dateDay"in e&&w({label:"Date day"},e.dateDay.ImageIndex,e.dateDay.ImagesCount),"dateMonth"in e&&w({label:"Date month"},e.dateMonth.ImageIndex,e.dateMonth.ImagesCount),"dateOneLine"in e&&w({label:"Date oneline",addition:", "+e.dateOneLine.DelimiterImageIndex},e.dateOneLine.Number.ImageIndex,e.dateOneLine.Number.ImagesCount,e.dateOneLine.DelimiterImageIndex)),e.battery&&("batteryIcon"in e&&w({label:"Battery icon"},e.batteryIcon.ImageIndex,e.batteryIcon.ImagesCount),"batteryText"in e&&w({label:"Battery text"},e.batteryText.ImageIndex,e.batteryText.ImagesCount),"batteryScale"in e&&w({label:"Battery scale"},e.batteryScale.StartImageIndex,e.batteryScale.Segments.length)),e.status&&("statAlarm"in e&&w({label:"Status alarm",addition:", "+e.statAlarm.ImageIndexOff},e.statAlarm.ImageIndexOn,1,e.statAlarm.ImageIndexOff),"statBt"in e&&w({label:"Status bluetooth",addition:", "+e.statBt.ImageIndexOff},e.statBt.ImageIndexOn,1,e.statBt.ImageIndexOff),"statDnd"in e&&w({label:"Status do not disturb",addition:", "+e.statDnd.ImageIndexOff},e.statDnd.ImageIndexOn,1,e.statDnd.ImageIndexOff),"statLock"in e&&w({label:"Status lock",addition:", "+e.statLock.ImageIndexOff},e.statLock.ImageIndexOn,1,e.statLock.ImageIndexOff)),e.activity&&("actCal"in e&&w({label:"Activity calories"},e.actCal.ImageIndex,e.actCal.ImagesCount),"actSteps"in e&&w({label:"Activity steps"},e.actSteps.ImageIndex,e.actSteps.ImagesCount),"statstepsGoal"in e&&w({label:"Activity steps goal"},e.actStepsGoal.ImageIndex,e.actStepsGoal.ImagesCount),"actPulse"in e&&w({label:"Activity pulse"},e.actPulse.ImageIndex,e.actPulse.ImagesCount),"actDistance"in e&&w({label:"Activity distance",addition:", "+e.actDistance.DecimalPointImageIndex+", "+e.actDistance.SuffixImageIndex},e.actDistance.Number.ImageIndex,e.actDistance.Number.ImagesCount,e.actDistance.DecimalPointImageIndex,e.actDistance.SuffixImageIndex)),e.weather&&(e.weathericon&&"CustomIcon"in e.weathericon&&w({label:"Weather icons"},e.weathericon.CustomIcon.ImageIndex,e.weathericon.CustomIcon.ImagesCount),"weatherOneLine"in e&&w({label:"Weather oneline",addition:", "+e.weatherOneLine.MinusSignImageIndex+", "+e.weatherOneLine.DelimiterImageIndex+", "+e.weatherOneLine.DegreesImageIndex},e.weatherOneLine.Number.ImageIndex,e.weatherOneLine.Number.ImagesCount,e.weatherOneLine.MinusSignImageIndex,e.weatherOneLine.DelimiterImageIndex,e.weatherOneLine.DegreesImageIndex),"weatherDay"in e&&w({label:"Weather day",addition:", "+e.weatherDay.MinusImageIndex},e.weatherDay.Number.ImageIndex,e.weatherDay.Number.ImagesCount,e.weatherDay.MinusImageIndex),"weatherNight"in e&&w({label:"Weather night",addition:", "+e.weatherNight.MinusImageIndex},e.weatherNight.Number.ImageIndex,e.weatherNight.Number.ImagesCount,e.weatherNight.MinusImageIndex),"weatherCurrent"in e&&w({label:"Weather current",addition:", "+e.weatherCurrent.MinusImageIndex+", "+e.weatherCurrent.DegreesImageIndex},e.weatherCurrent.Number.ImageIndex,e.weatherCurrent.Number.ImagesCount,e.weatherCurrent.MinusImageIndex,e.weatherCurrent.DegreesImageIndex),"weatherAirIcon"in e&&w({label:"Weather air pollution"},e.weatherAirIcon.ImageIndex,e.weatherAirIcon.ImagesCount)),e.stepsprogress&&("stepsLinear"in e&&w({label:"Steps progress"},e.stepsLinear.StartImageIndex,e.stepsLinear.Segments.length),"stepsGoal"in e&&w({label:"Goal image"},e.stepsGoal.ImageIndex,1)),w({label:"Big digits",insertto:"imagesavalible"},255,10),w({label:"Digits",insertto:"imagesavalible"},200,10),w({label:"Week days",insertto:"imagesavalible"},210,7),w({label:"Week days russian",insertto:"imagesavalible"},241,7),w({label:"Week days russian inverted",insertto:"imagesavalible"},248,7),w({label:"Week days finnish",insertto:"imagesavalible"},294,7),w({label:"Battery icon",insertto:"imagesavalible"},225,6),w({label:"Air pollution",insertto:"imagesavalible"},235,6),w({label:"Weather symbols",insertto:"imagesavalible",addition:", 218, 219"},217,3),w({label:"Bluetooth",insertto:"imagesavalible",addition:", 221"},220,2),w({label:"Distance symbols",insertto:"imagesavalible",addition:", 232"},231,2),w({label:"Am/Pm",insertto:"imagesavalible",addition:", 234"},233,2),w({label:"Status images",insertto:"imagesavalible",addition:", 223, 224"},222,3),w({label:"Steps goal image",insertto:"imagesavalible"},266,1),w({label:"Weather icons",insertto:"imagesavalible"},267,26)})(p.coords));let y=["seconds","amPm","weekDay","dateDay","dateMonth","dateOneLine","batteryIcon","batteryText","batteryScale","statAlarm","statBt","statDnd","statLock","actCal","actSteps","actStepsGoal","actPulse","actDistance","weatherOneLine","weatherDay","weatherNight","weatherCurrent","stepsLinear","stepsGoal","weatherAirIcon","weatherAirText","weatherDayAlt","weatherNightAlt"];function I(e,t){t?(o(e).classList.add("uk-button-primary"),o(e).classList.remove("uk-button-default")):(o(e).classList.remove("uk-button-primary"),o(e).classList.add("uk-button-default"))}function f(){var e;o("codearea").innerHTML=JSON.stringify(p.converter.export(p.coords),null,4).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){let t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"}),D()?o("defaultimages").classList.add("uk-label-success"):o("defaultimages").classList.remove("uk-label-success"),p.makeWf();for(let t in y)(e=y[t])in p.coords?I("tg-"+e,1):I("tg-"+e,0);p.coords.weather&&p.coords.weathericon?"CustomIcon"in p.coords.weathericon?(I("tg-weatherIconCustom",1),I("tg-weatherIcon",0)):(I("tg-weatherIcon",1),I("tg-weatherIconCustom",0)):(I("tg-weatherIcon",0),I("tg-weatherIconCustom",0))}let b={amPm:'"AmPm":',seconds:'"Seconds":',weekDay:'"WeekDay":',dateOneLine:'"MonthAndDay":',dateDay:'"MonthAndDay":',dateMonth:'"Month":',statAlarm:'"Alarm":',statBt:'"Bluetooth":',statLock:'"Lock":',statDnd:'"DoNotDisturb":',actSteps:'"Steps":',actStepsGoal:'"StepsGoal":',actCal:'"Calories":',actDistance:'"Distance":',actPulse:'"Pulse":',batteryIcon:'"Battery":',batteryText:'"Battery":',batteryScale:'"Battery":',weatherIcon:'"Weather":',weatherIconCustom:'"CustomIcon":',weatherAirIcon:'"AirPollution":',weatherAirText:'"AirPollution":',weatherOneLine:'"Temperature":',weatherCurrent:'"Current":',weatherDay:'"Temperature":',weatherNight:'"Night":',stepsGoal:'"GoalImage":',stepsLinear:'"Linear":',weatherDayAlt:'"DayAlt":',weatherNightAlt:'"NightAlt":'};function S(e){switch(e){case"amPm":"amPm"in p.coords?delete p.coords.amPm:p.coords.amPm={X:0,Y:0,ImageIndexAm:233,ImageIndexPm:234};break;case"seconds":"seconds"in p.coords?delete p.coords.seconds:p.coords.seconds={Tens:{X:0,Y:0,ImageIndex:200,ImagesCount:10},Ones:{X:10,Y:0,ImageIndex:200,ImagesCount:10}};break;case"weekDay":"weekDay"in p.coords?(delete p.coords.weekDay,"monthandday"in p.coords||(p.coords.date=!1)):(p.coords.date=!0,p.coords.weekDay={X:0,Y:0,ImageIndex:210,ImagesCount:7});break;case"dateOneLine":"dateOneLine"in p.coords?(delete p.coords.dateOneLine,"weekDay"in p.coords||(p.coords.date=!1),"dateDay"in p.coords||"dateMonth"in p.coords||delete p.coords.monthandday):(p.coords.date=!0,p.coords.monthandday={TwoDigitsMonth:!0,TwoDigitsDay:!0},p.coords.dateOneLine={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:42,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},DelimiterImageIndex:219});break;case"dateDay":"dateDay"in p.coords?(delete p.coords.dateDay,"dateMonth"in p.coords||"dateOneLine"in p.coords||(delete p.coords.monthandday,p.coords.date=!1),"weekDay"in p.coords&&(p.coords.date=!0)):(p.coords.date=!0,"monthandday"in p.coords||(p.coords.monthandday={TwoDigitsMonth:!0,TwoDigitsDay:!0}),p.coords.dateDay={TopLeftX:0,TopLeftY:0,BottomRightX:15,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10});break;case"dateMonth":"dateMonth"in p.coords?(delete p.coords.dateMonth,"dateDay"in p.coords||"dateOneLine"in p.coords||(delete p.coords.monthandday,p.coords.date=!1),"weekDay"in p.coords&&(p.coords.date=!0)):(p.coords.date=!0,"monthandday"in p.coords||(p.coords.monthandday={TwoDigitsMonth:!0,TwoDigitsDay:!0}),p.coords.dateMonth={TopLeftX:0,TopLeftY:0,BottomRightX:15,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10});break;case"statAlarm":p.coords.status||(p.coords.status=!0),"statAlarm"in p.coords?(delete p.coords.statAlarm,"statAlarm"in p.coords||"statBt"in p.coords||"statLock"in p.coords||"statDnd"in p.coords||(p.coords.status=!1)):p.coords.statAlarm={Coordinates:{X:0,Y:0},ImageIndexOn:224};break;case"statBt":p.coords.status||(p.coords.status=!0),"statBt"in p.coords?(delete p.coords.statBt,"statAlarm"in p.coords||"statBt"in p.coords||"statLock"in p.coords||"statDnd"in p.coords||(p.coords.status=!1)):p.coords.statBt={Coordinates:{X:0,Y:0},ImageIndexOn:220,ImageIndexOff:221};break;case"statLock":p.coords.status||(p.coords.status=!0),"statLock"in p.coords?(delete p.coords.statLock,"statAlarm"in p.coords||"statBt"in p.coords||"statLock"in p.coords||"statDnd"in p.coords||(p.coords.status=!1)):p.coords.statLock={Coordinates:{X:0,Y:0},ImageIndexOn:223};break;case"statDnd":p.coords.status||(p.coords.status=!0),"statDnd"in p.coords?(delete p.coords.statDnd,"statAlarm"in p.coords||"statBt"in p.coords||"statLock"in p.coords||"statDnd"in p.coords||(p.coords.status=!1)):p.coords.statDnd={Coordinates:{X:0,Y:0},ImageIndexOn:222};break;case"actSteps":p.coords.activity||(p.coords.activity=!0),"actSteps"in p.coords?(delete p.coords.actSteps,"actSteps"in p.coords||"actStepsGoal"in p.coords||"actCal"in p.coords||"actPulse"in p.coords||"actDistance"in p.coords||(p.coords.activity=!1)):(p.coords.actSteps={TopLeftX:0,TopLeftY:0,BottomRightX:42,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"!==localStorage.device&&"band4"!==localStorage.device||(p.coords.actSteps.cor={}));break;case"actCal":p.coords.activity||(p.coords.activity=!0),"actCal"in p.coords?(delete p.coords.actCal,"actSteps"in p.coords||"actStepsGoal"in p.coords||"actCal"in p.coords||"actPulse"in p.coords||"actDistance"in p.coords||(p.coords.activity=!1)):(p.coords.actCal={TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"!==localStorage.device&&"band4"!==localStorage.device||(p.coords.actSteps.cor={}));break;case"actPulse":p.coords.activity||(p.coords.activity=!0),"actPulse"in p.coords?(delete p.coords.actPulse,"actSteps"in p.coords||"actStepsGoal"in p.coords||"actCal"in p.coords||"actPulse"in p.coords||"actDistance"in p.coords||(p.coords.activity=!1)):(p.coords.actPulse={TopLeftX:0,TopLeftY:0,BottomRightX:24,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"!==localStorage.device&&"band4"!==localStorage.device||(p.coords.actSteps.cor={}));break;case"actStepsGoal":p.coords.activity||(p.coords.activity=!0),"actStepsGoal"in p.coords?(delete p.coords.actStepsGoal,"actSteps"in p.coords||"actStepsGoal"in p.coords||"actCal"in p.coords||"actPulse"in p.coords||"actDistance"in p.coords||(p.coords.activity=!1)):(p.coords.actStepsGoal={TopLeftX:0,TopLeftY:0,BottomRightX:42,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"!==localStorage.device&&"band4"!==localStorage.device||(p.coords.actSteps.cor={}));break;case"actDistance":p.coords.activity||(p.coords.activity=!0),"actDistance"in p.coords?(delete p.coords.actDistance,"actSteps"in p.coords||"actStepsGoal"in p.coords||"actCal"in p.coords||"actPulse"in p.coords||"actDistance"in p.coords||(p.coords.activity=!1)):p.coords.actDistance={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:58,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},SuffixImageIndex:231,DecimalPointImageIndex:232};break;case"batteryIcon":p.coords.battery||(p.coords.battery=!0),"batteryIcon"in p.coords?(delete p.coords.batteryIcon,"batteryIcon"in p.coords||"batteryScale"in p.coords||"batteryText"in p.coords||(p.coords.battery=!1)):p.coords.batteryIcon={X:0,Y:0,ImageIndex:225,ImagesCount:6};break;case"batteryText":p.coords.battery||(p.coords.battery=!0),"batteryText"in p.coords?(delete p.coords.batteryText,"batteryIcon"in p.coords||"batteryScale"in p.coords||"batteryText"in p.coords||(p.coords.battery=!1)):p.coords.batteryText={TopLeftX:0,TopLeftY:0,BottomRightX:24,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10};break;case"batteryScale":p.coords.battery||(p.coords.battery=!0),"batteryScale"in p.coords?(delete p.coords.batteryScale,"batteryIcon"in p.coords||"batteryScale"in p.coords||"batteryText"in p.coords||(p.coords.battery=!1)):p.coords.batteryScale={StartImageIndex:200,Segments:[{X:55,Y:0},{X:65,Y:0},{X:75,Y:0},{X:85,Y:0},{X:95,Y:0},{X:105,Y:0},{X:115,Y:0}]};break;case"weatherIcon":p.coords.weather||(p.coords.weather=!0),p.coords.weathericon?(delete p.coords.weathericon,"weathericon"in p.coords||"weatherAirIcon"in p.coords||"weatherOneLine"in p.coords||"weatherCurrent"in p.coords||"weatherDay"in p.coords||"weatherNight"in p.coords||"weatherAirText"in p.coords||(p.coords.weather=!1)):p.coords.weathericon={Coordinates:{X:0,Y:0}};break;case"weatherIconCustom":p.coords.weather||(p.coords.weather=!0),p.coords.weathericon?(delete p.coords.weathericon,"weathericon"in p.coords||"weatherAirIcon"in p.coords||"weatherOneLine"in p.coords||"weatherCurrent"in p.coords||"weatherDay"in p.coords||"weatherNight"in p.coords||"weatherAirText"in p.coords||(p.coords.weather=!1)):p.coords.weathericon={CustomIcon:{X:0,Y:0,ImageIndex:267,ImagesCount:26}};break;case"weatherAirIcon":p.coords.weather||(p.coords.weather=!0),"weatherAirIcon"in p.coords?(delete p.coords.weatherAirIcon,"weathericon"in p.coords||"weatherAirIcon"in p.coords||"weatherOneLine"in p.coords||"weatherCurrent"in p.coords||"weatherDay"in p.coords||"weatherNight"in p.coords||"weatherAirText"in p.coords||(p.coords.weather=!1)):p.coords.weatherAirIcon={X:0,Y:0,ImageIndex:235,ImagesCount:6};break;case"weatherAirText":p.coords.weather||(p.coords.weather=!0),"weatherAirText"in p.coords?(delete p.coords.weatherAirText,"weathericon"in p.coords||"weatherAirIcon"in p.coords||"weatherOneLine"in p.coords||"weatherCurrent"in p.coords||"weatherDay"in p.coords||"weatherNight"in p.coords||"weatherAirText"in p.coords||(p.coords.weather=!1)):p.coords.weatherAirText={TopLeftX:0,TopLeftY:0,BottomRightX:24,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10};break;case"weatherOneLine":p.coords.weather||(p.coords.weather=!0),"weatherOneLine"in p.coords?(delete p.coords.weatherOneLine,"weathericon"in p.coords||"weatherAirIcon"in p.coords||"weatherOneLine"in p.coords||"weatherCurrent"in p.coords||"weatherDay"in p.coords||"weatherNight"in p.coords||"weatherAirText"in p.coords||(p.coords.weather=!1)):p.coords.weatherOneLine={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:66,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusSignImageIndex:217,DelimiterImageIndex:219,AppendDegreesForBoth:!1,DegreesImageIndex:218};break;case"weatherCurrent":p.coords.weather||(p.coords.weather=!0),"weatherCurrent"in p.coords?(delete p.coords.weatherCurrent,"weathericon"in p.coords||"weatherAirIcon"in p.coords||"weatherOneLine"in p.coords||"weatherCurrent"in p.coords||"weatherDay"in p.coords||"weatherNight"in p.coords||"weatherAirText"in p.coords||(p.coords.weather=!1)):p.coords.weatherCurrent={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218};break;case"weatherDay":p.coords.weather||(p.coords.weather=!0),"weatherDay"in p.coords?(delete p.coords.weatherDay,delete p.coords.weatherDayAlt,"weathericon"in p.coords||"weatherAirIcon"in p.coords||"weatherOneLine"in p.coords||"weatherCurrent"in p.coords||"weatherDay"in p.coords||"weatherNight"in p.coords||"weatherAirText"in p.coords||(p.coords.weather=!1)):p.coords.weatherDay={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218};break;case"weatherNight":p.coords.weather||(p.coords.weather=!0),"weatherNight"in p.coords?(delete p.coords.weatherNight,delete p.coords.weatherNightAlt,"weathericon"in p.coords||"weatherAirIcon"in p.coords||"weatherOneLine"in p.coords||"weatherCurrent"in p.coords||"weatherDay"in p.coords||"weatherNight"in p.coords||"weatherAirText"in p.coords||(p.coords.weather=!1)):p.coords.weatherNight={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218};break;case"weatherDayAlt":"weatherDayAlt"in p.coords?delete p.coords.weatherDayAlt:p.coords.weather&&"weatherDay"in p.coords?p.coords.weatherDayAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:p.coords.weatherDay.Number.BottomRightX-p.coords.weatherDay.Number.TopLeftX+10,BottomRightY:p.coords.weatherDay.Number.BottomRightY-p.coords.weatherDay.Number.TopLeftY+10,Alignment:"TopLeft",Spacing:p.coords.weatherDay.Number.Spacing,ImageIndex:p.coords.weatherDay.Number.ImageIndex,ImagesCount:p.coords.weatherDay.Number.ImagesCount},MinusImageIndex:p.coords.weatherDay.Number.MinusImageIndex,DegreesImageIndex:p.coords.weatherDay.Number.DegreesImageIndex}:(p.coords.weather=!0,p.coords.weatherDay={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218},p.coords.weatherDayAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:43,BottomRightY:19,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218});break;case"weatherNightAlt":"weatherNightAlt"in p.coords?delete p.coords.weatherNightAlt:p.coords.weather&&"weatherNight"in p.coords?p.coords.weatherNightAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:p.coords.weatherNight.Number.BottomRightX-p.coords.weatherNight.Number.TopLeftX+10,BottomRightY:p.coords.weatherNight.Number.BottomRightY-p.coords.weatherNight.Number.TopLeftY+10,Alignment:"TopLeft",Spacing:p.coords.weatherNight.Number.Spacing,ImageIndex:p.coords.weatherNight.Number.ImageIndex,ImagesCount:p.coords.weatherNight.Number.ImagesCount},MinusImageIndex:p.coords.weatherNight.Number.MinusImageIndex,DegreesImageIndex:p.coords.weatherNight.Number.DegreesImageIndex}:(p.coords.weather=!0,p.coords.weatherNight={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218},p.coords.weatherNightAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:43,BottomRightY:19,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218});break;case"stepsGoal":p.coords.stepsprogress||(p.coords.stepsprogress=!0),"stepsGoal"in p.coords?(delete p.coords.stepsGoal,"stepsLinear"in p.coords||"stepsGoal"in p.coords||"stepscircle"in p.coords||(p.coords.stepsprogress=!1)):p.coords.stepsGoal={X:0,Y:0,ImageIndex:266};break;case"stepsLinear":p.coords.stepsprogress||(p.coords.stepsprogress=!0),"stepsLinear"in p.coords?(delete p.coords.stepsLinear,"stepsLinear"in p.coords||"stepsGoal"in p.coords||"stepscircle"in p.coords||(p.coords.stepsprogress=!1)):p.coords.stepsLinear={StartImageIndex:200,Segments:[{X:50,Y:160},{X:60,Y:160},{X:70,Y:160},{X:80,Y:160},{X:90,Y:160},{X:100,Y:160},{X:110,Y:160},{X:120,Y:160}]};break;default:console.error("Error in toggle: ",e)}f(),function(e){let t,a,n=function(e){for(let t=0;t<o("codearea").childNodes.length;t++)if("SPAN"===o("codearea").childNodes[t].tagName&&o("codearea").childNodes[t].childNodes[0].data===e)return o("codearea").childNodes[t]}(e);if(!n)return 0;(t=document.createRange()).selectNode(n.childNodes[0]),(a=window.getSelection()).removeAllRanges(),a.addRange(t),o("codearea").scrollTop=n.offsetTop-200}(b[e])}function D(e){let t=Array();for(let e=0;e<o("watchface").childNodes.length;e++)o("watchface").childNodes[e].classList.contains("default-image")&&t.push(o("watchface").childNodes[e].src.slice(-7,-4));t.sort();for(let e=t.length-1;e>0;e--)t[e]===t[e-1]&&t.splice(e,1);return e&&t.length&&UIkit.notification(("checkImages"in p.app.lang?p.app.lang.checkImages:"Check images in watchface folder. At least images with index(s): ")+t,{status:"warning",pos:"top-left",timeout:5e3}),t.length}function x(){var e;if(D(1),"stepsLinear"in p.coords&&p.coords.stepsLinear.Segments.length>20&&(e="imagesLimitSteps"in p.app.lang?p.app.lang.imagesLimitSteps:"Image limit for steps progress is 20. If you use more, they won't be dispaly",UIkit.notification(e,{status:"warning",pos:"top-left",timeout:5e3})),p.app.notWebkitBased){let e=new Blob([JSON.stringify(p.converter.export(p.coords),null,4)],{type:"text/plain;charset=utf-8"});saveAs(e,p.data.wfname+".json")}else{let e=document.createElement("a");e.href="data:application/octet-stream;base64, "+btoa(JSON.stringify(p.converter.export(p.coords),null,4)),e.download=p.data.wfname+".json",e.click()}}o("jsonEditor-tab").addEventListener("click",()=>(f(),void(p.app.firstopen_editor&&localStorage.showcount<8&&(sessionStorage.firstopen_editor=!1,UIkit.notification("jsonupdate"in p.app.lang?p.app.lang.jsonupdate:"To update pre.just click out of JSON input",{status:"primary",pos:"top-left",timeout:3e3}),p.app.firstopen_editor=!1)))),o("editor-export").addEventListener("click",()=>x()),o("jsoneditor-export").addEventListener("click",()=>x()),o("jsoneditor-undo").addEventListener("click",()=>void(p.coordsHistory.length&&(p.coords=JSON.parse(p.coordsHistory.pop()),f()))),o("codearea").addEventListener("blur",()=>(function(){try{p.coordsHistory.push(JSON.stringify(p.coords)),p.coords=p.converter.import(jsonlint.parse(o("codearea").innerText)),f()}catch(e){o("jsonerrortext").innerHTML=e,setTimeout(function(){UIkit.modal(o("jsonerrormodal")).show()},250),console.warn(e)}})());let A=o(".editor-button"),T=e=>{S(e.target.id.split("-")[1])};for(let e=0;e<A.length;e++)A[e].addEventListener("click",T);function L(){if("bg"in p.coords){let e=n(p.coords.bg.Image.ImageIndex);e.style.left=3*p.coords.bg.Image.X+"px",e.style.top=3*p.coords.bg.Image.Y+"px",e.style.position="absolute",e.style.zIndex=-1,e.height*=3,e.width*=3,e.removeAttribute("id"),e.ondragstart=function(){return!1},o("analog-bg").appendChild(e)}o("analog-color").onchange=function(){C.Color=o("analog-color").value,v()},o("analog-center-x").onchange=function(){C.Center.X=Number(o("analog-center-x").value),v()},o("analog-center-y").onchange=function(){C.Center.Y=Number(o("analog-center-y").value),v()},o("analog-fill").onchange=function(){o("analog-fill").checked?C.OnlyBorder=!1:C.OnlyBorder=!0,v()},v(void 0!==N?N:"hours")}function v(e){if(void 0!==e){switch(e){case"hours":C=p.coords.analoghours;break;case"minutes":C=p.coords.analogminutes;break;case"seconds":C=p.coords.analogseconds}N=e}if(_=0,p.makeWf(),o("analog").innerHTML="","analog"+N in p.coords){o("analog").innerHTML+='<div class="analog-center" style="left: '+(3*C.Center.X-11)+"px;top:"+(3*C.Center.Y-11)+'px"></div>',o("analog").innerHTML+='<div class="analog-line" style="left: '+(3*C.Center.X-3)+"px;height:"+(3*C.Center.Y-11)+'px"></div>',o("analog").innerHTML+='<svg id="analogsvg" width="528" height="528"></svg>';for(let e in o("analog").childNodes.length)o("analog").childNodes[e].oncontextmenu=event.preventDefault();!function(e,t){let a=e.Color.replace("0x","#"),n="M "+3*e.Shape[0].X+" "+3*e.Shape[0].Y,r=e.Shape.length,s=e.OnlyBorder?"none":a,i=e=>{e.preventDefault(),k(e)};for(let t=0;t<r;t++){n+="L "+3*e.Shape[t].X+" "+3*e.Shape[t].Y+" ";let a=document.createElement("div");a.classList.add("analog-dot"),a.id="dot"+_++,a.style.left=3*e.Shape[t].Y+3*e.Center.X-4+"px",a.style.top=3*e.Shape[t].X*-1+3*e.Center.Y-4+"px",a.oncontextmenu=i,X(a,C.Shape[t]),o("analog").appendChild(a)}n+="L "+3*e.Shape[0].X+" "+3*e.Shape[0].Y+" ",o("analogsvg").innerHTML+='<path d="'+n+'" transform="rotate('+(t-90)+" "+3*e.Center.X+" "+3*e.Center.Y+") translate("+3*e.Center.X+" "+3*e.Center.Y+') " fill="'+s+'" stroke="'+a+'"></path>',"CenterImage"in e&&p.view.setPosN(e.CenterImage,0,"c_an_img")}(C,0),o("analog").onclick=function(e){!function(e){if(_>=12)return;let t=Y(o("analog")),a=document.createElement("div");a.classList.add("analog-dot"),a.id="dot"+_++,a.style.left=e.pageX-t.left-(e.pageX-t.left)%3+"px",a.style.top=e.pageY-t.top-(e.pageY-t.top)%3+"px",a.oncontextmenu=function(e){e.preventDefault(),k(e)};let n={X:(Number(a.style.top.replace("px",""))+3-3*C.Center.X)/-3,Y:(Number(a.style.left.replace("px",""))+3-3*C.Center.X)/3};C.Shape.push(n),v(N)}(e)},o("analog-center-x").value=C.Center.X,o("analog-center-y").value=C.Center.Y,o("analog-fill").checked=!C.OnlyBorder,o("analog-color").style.backgroundColor=C.Color,o("analog-color").value=""}else o("analog").onclick=function(){return!1}}function k(e){_>2&&(C.Shape.splice(Number(e.target.id.replace("dot","")),1),_--,v(N))}let C={},N="hours",_=0;function X(e,t){e.onmousedown=function(a){if(1!==a.which)return;let n=Y(o("analog")),r=function(e){let t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}(e),s=a.pageX-r.left,i=a.pageY-r.top;function c(t){e.style.left=t.pageX-n.left-s+"px",e.style.top=t.pageY-n.top-i+"px"}e.style.position="absolute",c(a),e.style.zIndex=1e3,o("analog").onmousemove=function(e){c(e)},e.onmouseup=function(){o("analog").onmousemove=null,e.onmouseup=null,e.style.zIndex="auto",e.style.top=B(e.style.top)>0&&B(e.style.top)<528?B(e.style.top)-B(e.style.top)%3+"px":"0px",e.style.left=B(e.style.left)>0&&B(e.style.left)<528?B(e.style.left)-B(e.style.left)%3+"px":"0px",t.X=(Number(e.style.top.replace("px",""))+3-3*C.Center.X)/-3,t.Y=(Number(e.style.left.replace("px",""))+3-3*C.Center.X)/3,v(N)}},e.ondragstart=function(){return!1}}let Y=function(e){let t=e.getBoundingClientRect(),a=document.body,o=document.documentElement,n=window.pageYOffset||o.scrollTop||a.scrollTop,r=window.pageXOffset||o.scrollLeft||a.scrollLeft,s=o.clientTop||a.clientTop||0,i=o.clientLeft||a.clientLeft||0,c=t.top+n-s,d=t.left+r-i;return{top:Math.round(c),left:Math.round(d)}},B=function(e){return Number(e.replace("px",""))};o("analog-watch-tab").addEventListener("click",()=>{L(),UIkit.tab(o("analog-tab")).show(0)}),o("analog-toggle").addEventListener("click",()=>(function(e){switch(e){case"hours":"analoghours"in p.coords?(delete p.coords.analoghours,"analoghours"in p.coords||"analogseconds"in p.coords||"analogminutes"in p.coords||(p.coords.analog=!1)):(p.coords.analog=!0,p.coords.analoghours={Center:{X:88,Y:88},Color:"0xFFFFFF",OnlyBorder:!1,Shape:[{X:-17,Y:-2},{X:54,Y:-2},{X:54,Y:1},{X:-17,Y:1}]});break;case"minutes":"analogminutes"in p.coords?(delete p.coords.analogminutes,"analoghours"in p.coords||"analogseconds"in p.coords||"analogminutes"in p.coords||(p.coords.analog=!1)):(p.coords.analog=!0,p.coords.analogminutes={Center:{X:88,Y:88},Color:"0xFFFFFF",OnlyBorder:!1,Shape:[{X:-17,Y:-2},{X:68,Y:-2},{X:68,Y:1},{X:-17,Y:1}]});break;case"seconds":"analogseconds"in p.coords?(delete p.coords.analogseconds,"analoghours"in p.coords||"analogseconds"in p.coords||"analogminutes"in p.coords||(p.coords.analog=!1)):(p.coords.analog=!0,p.coords.analogseconds={Center:{X:88,Y:88},Color:"0xFF0000",OnlyBorder:!1,Shape:[{X:-21,Y:-1},{X:82,Y:-1},{X:82,Y:0},{X:-21,Y:0}]})}L()})(N)),o("analog-hours").addEventListener("click",()=>v("hours")),o("analog-minutes").addEventListener("click",()=>v("minutes")),o("analog-seconds").addEventListener("click",()=>v("seconds"));let O={time:{time:function(){let e=p.data.timeOnClock[0];if("amPm"in p.coords){let t=1;Number(e)>12?(1===(e=(Number(e)-12).toString()).length&&(e="0"+e),t=0):12===Number(e)&&(t=0);let a=n(t?p.coords.amPm.ImageIndexAm:p.coords.amPm.ImageIndexPm);G(a,p.coords.amPm),W(a,"c_time_am")}if(R(p.coords.time.Hours.Tens,Number(e[0]),"c_time"),R(p.coords.time.Hours.Ones,Number(e[1]),"c_time"),R(p.coords.time.Minutes.Tens,Number(p.data.timeOnClock[1][0]),"c_time"),R(p.coords.time.Minutes.Ones,Number(p.data.timeOnClock[1][1]),"c_time"),"DrawingOrder"in p.coords.time){let e=o(".c_time");e[0].style.zIndex=Number(p.coords.time.DrawingOrder[0]),e[1].style.zIndex=Number(p.coords.time.DrawingOrder[1]),e[2].style.zIndex=Number(p.coords.time.DrawingOrder[2]),e[3].style.zIndex=Number(p.coords.time.DrawingOrder[3])}},seconds:function(){R(p.coords.seconds.Tens,p.data.seconds[0],"c_sec"),R(p.coords.seconds.Ones,p.data.seconds[1],"c_sec")}},date:{weekDay:function(){R(p.coords.weekDay,p.data.weekDay,"c_date_weekDay")},sepday:function(){let e=E(p.coords.dateDay,p.data.day);p.coords.monthandday.TwoDigitsDay&&(r(p.data.day,10)||(e.block.splice(-1,0,n(p.coords.dateDay.ImageIndex)),e.width+=o(p.coords.dateDay.ImageIndex).width+p.coords.dateDay.Spacing)),F(e.block,e.width,p.coords.dateDay,"c_date_sepday")},sepmonth:function(){let e=E(p.coords.dateMonth,p.data.month);p.coords.monthandday.TwoDigitsMonth&&(r(p.data.month,10)||(e.block.splice(-1,0,n(p.coords.dateMonth.ImageIndex)),e.width+=o(p.coords.dateMonth.ImageIndex).width+p.coords.dateMonth.Spacing)),F(e.block,e.width,p.coords.dateMonth,"c_date_sepmonth")},oneline:function(){let e=n(p.coords.dateOneLine.DelimiterImageIndex),t=E(p.coords.dateOneLine.Number,p.data.month);p.coords.monthandday.TwoDigitsMonth&&(r(p.data.month,10)||(t.block.splice(-1,0,n(p.coords.dateOneLine.Number.ImageIndex)),t.width+=o(p.coords.dateOneLine.Number.ImageIndex).width+p.coords.dateOneLine.Number.Spacing)),t.block.push(e),t.width+=e.width+p.coords.dateOneLine.Number.Spacing;let a=E(p.coords.dateOneLine.Number,p.data.day);t.block=t.block.concat(a.block),p.coords.monthandday.TwoDigitsDay&&(r(p.data.day,10)||(t.block.splice(-1,0,n(p.coords.dateOneLine.Number.ImageIndex)),t.width+=o(p.coords.dateOneLine.Number.ImageIndex).width+p.coords.dateOneLine.Number.Spacing)),t.width+=a.width,F(t.block,t.width,p.coords.dateOneLine.Number,"c_date_oneline")}},battery:{icon:function(){let e=Math.round(p.data.battery/(100/(p.coords.batteryIcon.ImagesCount-1)));R(p.coords.batteryIcon,e,"c_battery_icon")},text:function(){P(p.coords.batteryText,p.data.battery,"c_battery_text")},scale:function(){let e=Math.ceil(p.data.battery/(100/(p.coords.batteryScale.Segments.length-1)));for(let t=0;t<=e;t++){let e=n(p.coords.batteryScale.StartImageIndex+t);G(e,p.coords.batteryScale.Segments[t]),W(e,"c_battery_scale")}}},analog:{hours:function(){M(p.coords.analoghours,p.data.analog[0])},minutes:function(){M(p.coords.analogminutes,p.data.analog[1])},seconds:function(){M(p.coords.analogseconds,p.data.analog[2])}},status:{alarm:function(){let e;if("ImageIndexOff"in p.coords.statAlarm&&!p.data.alarm)e=n(p.coords.statAlarm.ImageIndexOff);else{if(!("ImageIndexOn"in p.coords.statAlarm&&p.data.alarm))return;e=n(p.coords.statAlarm.ImageIndexOn)}e.style.left=p.coords.statAlarm.Coordinates.X+"px",e.style.top=p.coords.statAlarm.Coordinates.Y+"px",W(e,"c_stat_alarm")},bt:function(){let e;if("ImageIndexOff"in p.coords.statBt&&!p.data.bluetooth)e=n(p.coords.statBt.ImageIndexOff);else{if(!("ImageIndexOn"in p.coords.statBt&&p.data.bluetooth))return;e=n(p.coords.statBt.ImageIndexOn)}e.style.left=p.coords.statBt.Coordinates.X+"px",e.style.top=p.coords.statBt.Coordinates.Y+"px",W(e,"c_stat_bt")},dnd:function(){let e;if("ImageIndexOff"in p.coords.statDnd&&!p.data.dnd)e=n(p.coords.statDnd.ImageIndexOff);else{if(!("ImageIndexOn"in p.coords.statDnd&&p.data.dnd))return;e=n(p.coords.statDnd.ImageIndexOn)}e.style.left=p.coords.statDnd.Coordinates.X+"px",e.style.top=p.coords.statDnd.Coordinates.Y+"px",W(e,"c_stat_dnd")},lock:function(){let e;if("ImageIndexOff"in p.coords.statLock&&!p.data.lock)e=n(p.coords.statLock.ImageIndexOff);else{if(!("ImageIndexOn"in p.coords.statLock&&p.data.lock))return;e=n(p.coords.statLock.ImageIndexOn)}e.style.left=p.coords.statLock.Coordinates.X+"px",e.style.top=p.coords.statLock.Coordinates.Y+"px",W(e,"c_stat_lock")}},activity:{cal:function(){P(p.coords.actCal,p.data.calories,"c_act_cal","cor"===localStorage.device)},steps:function(){P(p.coords.actSteps,p.data.steps,"c_act_steps","cor"===localStorage.device)},stepsGoal:function(){P(p.coords.actStepsGoal,p.data.stepsGoal,"c_act_stepsg","cor"===localStorage.device)},pulse:function(){P(p.coords.actPulse,p.data.pulse,"c_act_pulse","cor"===localStorage.device)},distance:function(){let e=n(p.coords.actDistance.DecimalPointImageIndex),t=n(p.coords.actDistance.SuffixImageIndex),a=E(p.coords.actDistance.Number,p.data.distance[0]);a.block.push(e),a.width+=e.width+p.coords.actDistance.Number.Spacing;let o=E(p.coords.actDistance.Number,p.data.distance[1]);a.block=a.block.concat(o.block),a.width+=o.width,a.block.push(t),a.width+=t.width,F(a.block,a.width,p.coords.actDistance.Number,"c_act_distance")}},stepsprogress:{circle:function(){let e=p.coords.stepscircle.Color.replace("0x","#"),t=Math.floor(2*p.coords.stepscircle.RadiusX*Math.PI/360*(p.coords.stepscircle.EndAngle-p.coords.stepscircle.StartAngle)),a=Math.round(p.data.steps/(p.data.stepsGoal/t));a>t&&(a=t),o("svg-cont-steps").innerHTML+='<ellipse transform="rotate('+(-90+p.coords.stepscircle.StartAngle)+" "+p.coords.stepscircle.CenterX+" "+p.coords.stepscircle.CenterY+')" cx="'+p.coords.stepscircle.CenterX+'" cy="'+p.coords.stepscircle.CenterY+'" rx="'+p.coords.stepscircle.RadiusX+'" ry="'+p.coords.stepscircle.RadiusY+'" fill="rgba(255,255,255,0)" stroke-width="'+p.coords.stepscircle.Width+'" stroke="'+e+'" stroke-dasharray="'+a+" "+(t-a)+'" stroke-linecap="none"></ellipse>'},linear:function(){let e=Math.floor(p.data.steps/(p.data.stepsGoal/p.coords.stepsLinear.Segments.length))-1;e>p.coords.stepsLinear.Segments.length-1&&(e=p.coords.stepsLinear.Segments.length-1);for(let t=0;t<=e;t++){let e=n(p.coords.stepsLinear.StartImageIndex+t);G(e,p.coords.stepsLinear.Segments[t]),W(e,"c_steps_linear")}},goal:function(){p.data.steps>=p.data.stepsGoal&&R(p.coords.stepsGoal,0,"c_steps_goal")}},weather:{icon:function(){if("CustomIcon"in p.coords.weathericon){let e=n(p.coords.weathericon.CustomIcon.ImageIndex+p.data.weathericon);e.style.left=p.coords.weathericon.CustomIcon.X+"px",e.style.top=p.coords.weathericon.CustomIcon.Y+"px",W(e,"c_weather_icon")}else{let e=n("weather");e.style.left=p.coords.weathericon.Coordinates.X+"px",e.style.top=p.coords.weathericon.Coordinates.Y+"px",W(e,"c_weather_icon")}},temp:{oneline:function(){let e=n(p.coords.weatherOneLine.DelimiterImageIndex),t=n(p.coords.weatherOneLine.DegreesImageIndex),a=p.data.temp[0]<0?n(p.coords.weatherOneLine.MinusSignImageIndex):0,o=E(p.coords.weatherOneLine.Number,Math.abs(p.data.temp[0]));0!==a&&(o.block.splice(0,0,a),o.width+=a.width),o.block.push(e),o.width+=e.width+p.coords.weatherOneLine.Number.Spacing;let r=E(p.coords.weatherOneLine.Number,Math.abs(p.data.temp[1]));0!==(a=p.data.temp[1]<0?n(p.coords.weatherOneLine.MinusSignImageIndex):0)&&(r.block.splice(0,0,a),r.width+=a.width),o.block=o.block.concat(r.block),o.width+=r.width,o.block.push(t),o.width+=t.width,F(o.block,o.width,p.coords.weatherOneLine.Number,"c_temp_oneline")},sep:{day:function(){if(p.data.weatherAlt)return;let e=p.data.temp[0]<0?n(p.coords.weatherDay.MinusImageIndex):0,t=E(p.coords.weatherDay.Number,Math.abs(p.data.temp[0]));if("DegreesImageIndex"in p.coords.weatherDay){let e=n(p.coords.weatherDay.DegreesImageIndex);t.block.push(e),t.width+=e.width+p.coords.weatherDay.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),F(t.block,t.width,p.coords.weatherDay.Number,"c_temp_sep_day")},night:function(){if(p.data.weatherAlt)return;let e=p.data.temp[1]<0?n(p.coords.weatherNight.MinusImageIndex):0,t=E(p.coords.weatherNight.Number,Math.abs(p.data.temp[1]));if("DegreesImageIndex"in p.coords.weatherNight){let e=n(p.coords.weatherNight.DegreesImageIndex);t.block.push(e),t.width+=e.width+p.coords.weatherNight.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),F(t.block,t.width,p.coords.weatherNight.Number,"c_temp_sep_night")},dayAlt:function(){if(!p.data.weatherAlt)return;let e=p.data.temp[0]<0?n(p.coords.weatherDay.MinusImageIndex):0,t=E(p.coords.weatherDay.Number,Math.abs(p.data.temp[0]));if("DegreesImageIndex"in p.coords.weatherDay){let e=n(p.coords.weatherDay.DegreesImageIndex);t.block.push(e),t.width+=e.width+p.coords.weatherDay.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),F(t.block,t.width,p.coords.weatherDayAlt.Number,"c_temp_sep_day_alt")},nightAlt:function(){if(!p.data.weatherAlt)return;let e=p.data.temp[1]<0?n(p.coords.weatherNight.MinusImageIndex):0,t=E(p.coords.weatherNight.Number,Math.abs(p.data.temp[1]));if("DegreesImageIndex"in p.coords.weatherNight){let e=n(p.coords.weatherNight.DegreesImageIndex);t.block.push(e),t.width+=e.width+p.coords.weatherNight.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),F(t.block,t.width,p.coords.weatherNightAlt.Number,"c_temp_sep_night_alt")}},current:function(){if(p.data.weatherAlt)return;let e=p.data.temp[0]<0?n(p.coords.weatherCurrent.MinusImageIndex):0,t=E(p.coords.weatherCurrent.Number,Math.abs(p.data.temp[0]));if("DegreesImageIndex"in p.coords.weatherCurrent){let e=n(p.coords.weatherCurrent.DegreesImageIndex);t.block.push(e),t.width+=e.width+p.coords.weatherCurrent.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),F(t.block,t.width,p.coords.weatherCurrent.Number,"c_temp_cur")}},airIcon:function(){R(p.coords.weatherAirIcon,0,"c_air_icon")},airText:function(){P(p.coords.weatherAirText,p.data.air,"c_air_text")}},Animation:()=>{R(p.coords.Animation.AnimationImage,p.data.animation,"c_animation")}};function M(e,t){let a=e.Color.replace("0x","#"),n="M "+e.Shape[0].X+" "+e.Shape[0].Y,r=e.Shape.length,s=e.OnlyBorder?"none":a;for(let t=0;t<r;t++)n+="L "+e.Shape[t].X+" "+e.Shape[t].Y+" ";n+="L "+e.Shape[0].X+" "+e.Shape[0].Y+" ",o("svg-cont-clock").innerHTML+='<path d="'+n+'" transform="rotate('+(t-90)+" "+e.Center.X+" "+e.Center.Y+") translate("+e.Center.X+" "+e.Center.Y+') " fill="'+s+'" stroke="'+a+'"></path>',"CenterImage"in e&&R(e.CenterImage,0,"c_an_img")}function P(e,t,a,o){let r=E(e,t);if(o){if("PrefixImageIndex"in e.cor){let t=n(e.cor.PrefixImageIndex);r.block.splice(0,0,t),r.width+=t.width+e.Spacing}if("SuffixImageIndex"in e.cor){let t=n(e.cor.SuffixImageIndex);r.block.push(t),r.width+=t.width+e.Spacing}if("EmptyImageIndex"in e.cor&&0===t){let t=n(e.cor.EmptyImageIndex);r.block=[t],r.width=t.width}}F(r.block,r.width,e,a)}function W(e,t){e.removeAttribute("id"),e.classList.add(t),o("watchface").appendChild(e)}function R(e,t,a){let o=n(e.ImageIndex+t);o.style.left=e.X+"px",o.style.top=e.Y+"px",W(o,a)}function G(e,t){e.style.left=t.X+"px",e.style.top=t.Y+"px"}function F(e,t,a,o){let n,s,i=0;switch(a.Alignment){case 18:case"TopLeft":for(e.reverse();e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.TopLeftY+"px",W(n,o),i+=n.width+a.Spacing;break;case 24:case"TopCenter":case"Top":for(e.reverse(),i=r(a.BottomRightX-a.TopLeftX+1-t,2);e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.TopLeftY+"px",W(n,o),i+=n.width+a.Spacing;break;case 20:case"TopRight":for(;e.length;)(n=e.pop()).style.left=a.BottomRightX-n.width+1-i+"px",n.style.top=a.TopLeftY+"px",W(n,o),i+=n.width+a.Spacing;break;case 66:case"CenterLeft":case"Left":for(e.reverse(),s=r(a.BottomRightY-a.TopLeftY+1-e[0].height,2);e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.TopLeftY+s+"px",W(n,o),i+=n.width+a.Spacing;break;case 72:case"Center":case"VCenter":case"HCenter":for(e.reverse(),i=r(a.BottomRightX-a.TopLeftX+1-t,2),s=r(a.BottomRightY-a.TopLeftY+1-e[0].height,2);e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.TopLeftY+s+"px",W(n,o),i+=n.width+a.Spacing;break;case 68:case"CenterRight":case"Right":for(s=r(a.BottomRightY-a.TopLeftY+1-e[0].height,2);e.length;)(n=e.pop()).style.left=a.BottomRightX-n.width+1-i+"px",n.style.top=a.TopLeftY+s+"px",W(n,o),i+=n.width+a.Spacing;break;case 34:case"BottomLeft":for(e.reverse();e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.BottomRightY-n.height+1+"px",W(n,o),i+=n.width+a.Spacing;break;case 40:case"BottomCenter":case"Bottom":for(e.reverse(),i=r(a.BottomRightX-a.TopLeftX+1-t,2);e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.BottomRightY-n.height+1+"px",W(n,o),i+=n.width+a.Spacing;break;case 36:case"BottomRight":for(;e.length;)(n=e.pop()).style.left=a.BottomRightX-n.width+1-i+"px",n.style.top=a.BottomRightY-n.height+1+"px",W(n,o),i+=n.width+a.Spacing;break;default:UIkit.notification("Alignment <b>("+a.Alignment+")</b> is incorrect. You made a mistake",{status:"danger",pos:"top-left",timeout:7500})}}function E(e,t){t=t.toString();let a,o=Array(),r=0;for(;""!==t;)a=n(e.ImageIndex+Number(t[0])),o.push(a),r+=a.width+e.Spacing,t=t.substr(1);return{block:o,width:r-=e.Spacing}}let H={time_change:()=>{let e=o("in-time").value.split(":");p.data.timeOnClock[0]=e[0],p.data.timeOnClock[1]=e[1],p.data.analog[0]=30*(e[0]>12?e[0]-12:e[0])+.5*e[1],p.data.analog[1]=6*e[1],o("svg-cont-clock").innerHTML="","analog"in p.coords&&("analoghours"in p.coords&&O.analog.hours(),"analogminutes"in p.coords&&O.analog.minutes(),"analogseconds"in p.coords&&O.analog.seconds()),s("c_time"),"time"in p.coords&&O.time.time()},date_change:()=>{let e=o("in-date").valueAsDate||new Date(o("in-date").value);try{p.data.day=e.getUTCDate(),p.data.month=e.getUTCMonth()+1,p.data.weekDay=e.getUTCDay()>0?e.getUTCDay()-1:6,s("c_date_sepday"),s("c_date_weekDay"),s("c_date_sepmonth"),s("c_date_oneline"),p.coords.date&&("weekDay"in p.coords&&O.date.weekDay(),"dateDay"in p.coords&&O.date.sepday(),"dateMonth"in p.coords&&O.date.sepmonth(),"dateOneLine"in p.coords&&O.date.oneline())}catch(e){console.warn(e)}},sec_change:()=>{o("in-sec").value>59&&(o("in-sec").value=59),o("in-sec").value<0&&(o("in-sec").value=0);let e=o("in-sec").value;p.data.seconds[0]=Number(e.split("")[0]),p.data.seconds[1]=Number(1===e.split("").length?0:e.split("")[1]),p.data.analog[2]=6*e,o("svg-cont-clock").innerHTML="","analog"in p.coords&&("analoghours"in p.coords&&O.analog.hours(),"analogminutes"in p.coords&&O.analog.minutes(),"analogseconds"in p.coords&&O.analog.seconds()),s("c_sec"),"time"in p.coords&&"seconds"in p.coords&&O.time.seconds()},battery_change:()=>{o("in-battery").value>100&&(o("in-battery").value=100),o("in-battery").value<0&&(o("in-battery").value=0),p.data.battery=o("in-battery").value,s("c_battery_icon"),s("c_battery_scale"),s("c_battery_text"),p.coords.battery&&("batteryIcon"in p.coords&&O.battery.icon(),"batteryText"in p.coords&&O.battery.text(),"batteryScale"in p.coords&&O.battery.scale())},alarm_change:()=>{p.data.alarm=o("in-alarm").checked,s("c_stat_alarm"),p.coords.status&&"statAlarm"in p.coords&&O.status.alarm()},bt_change:()=>{p.data.bluetooth=o("in-bt").checked,s("c_stat_bt"),p.coords.status&&"statBt"in p.coords&&O.status.bt()},dnd_change:()=>{p.data.dnd=o("in-dnd").checked,s("c_stat_dnd"),p.coords.status&&"statDnd"in p.coords&&O.status.dnd()},lock_change:()=>{p.data.lock=o("in-lock").checked,s("c_stat_lock"),p.coords.status&&"statLock"in p.coords&&O.status.lock()},weatherAlt_change:()=>{p.data.weatherAlt=o("in-weatherAlt").checked,p.data.weatherAlt?(s("c_temp_sep_day"),s("c_temp_sep_night"),s("c_temp_cur"),"weatherDayAlt"in p.coords&&O.weather.temp.sep.dayAlt(),"weatherNightAlt"in p.coords&&O.weather.temp.sep.nightAlt()):(s("c_temp_sep_night_alt"),s("c_temp_sep_day_alt"),"weatherDay"in p.coords&&O.weather.temp.sep.day(),"weatherNight"in p.coords&&O.weather.temp.sep.night(),"weatherCurrent"in p.coords&&O.weather.temp.current())},steps_change:()=>{o("in-steps").value>99999&&(o("in-steps").value=99999),o("in-steps").value<0&&(o("in-steps").value=0),p.data.steps=parseInt(o("in-steps").value),s("c_act_steps"),p.coords.activity&&"actSteps"in p.coords&&O.activity.steps(),s("c_steps_linear"),s("c_steps_goal"),o("svg-cont-steps").innerHTML="",p.coords.stepsprogress&&("stepscircle"in p.coords&&O.stepsprogress.circle(),"stepsLinear"in p.coords&&O.stepsprogress.linear(),"stepsGoal"in p.coords&&p.data.steps>=p.data.stepsGoal&&O.stepsprogress.goal())},distance_change:()=>{o("in-distance").value>99&&(o("in-distance").value=99),o("in-distance").value<0&&(o("in-distance").value=0);let e=o("in-distance").value.split(".");p.data.distance[0]=Number(e[0]),p.data.distance[1]=e.length>1?e[1].slice(0,2):"00",s("c_act_distance"),p.coords.activity&&"actDistance"in p.coords&&O.activity.distance()},pulse_change:()=>{o("in-pulse").value>999&&(o("in-pulse").value=999),o("in-pulse").value<0&&(o("in-pulse").value=0),p.data.pulse=o("in-pulse").value,s("c_act_pulse"),p.coords.activity&&"actPulse"in p.coords&&O.activity.pulse()},calories_change:()=>{o("in-calories").value>9999&&(o("in-calories").value=9999),o("in-calories").value<0&&(o("in-calories").value=0),p.data.calories=o("in-calories").value,s("c_act_cal"),p.coords.activity&&"actCal"in p.coords&&O.activity.cal()},stepsGoal_change:()=>{o("in-stepsGoal").value>99999&&(o("in-stepsGoal").value=99999),o("in-stepsGoal").value<0&&(o("in-stepsGoal").value=0),p.data.stepsGoal=parseInt(o("in-stepsGoal").value),s("c_act_stepsGoal"),p.coords.activity&&"statstepsGoal"in p.coords&&O.activity.stepsGoal(),s("c_steps_linear"),s("c_steps_goal"),p.coords.stepsprogress&&("stepscircle"in p.coords&&O.stepsprogress.circle(),"stepsLinear"in p.coords&&O.stepsprogress.linear(),"stepsGoal"in p.coords&&p.data.steps>=p.data.stepsGoal&&O.stepsprogress.goal())},weatherd_change:()=>{o("in-weatherd").value>199&&(o("in-weatherd").value=199),o("in-weatherd").value<-99&&(o("in-weatherd").value=-99),p.data.temp[0]=o("in-weatherd").value,s("c_temp_sep_day"),s("c_temp_cur"),s("c_temp_oneline"),p.coords.weather&&("weatherOneLine"in p.coords&&O.weather.temp.oneline(),"weatherDay"in p.coords&&O.weather.temp.sep.day(),"weatherCurrent"in p.coords&&O.weather.temp.current())},weathern_change:()=>{o("in-weathern").value>199&&(o("in-weathern").value=199),o("in-weathern").value<-99&&(o("in-weathern").value=-99),p.data.temp[1]=o("in-weathern").value,s("c_temp_sep_night"),s("c_temp_oneline"),p.coords.weather&&("weatherOneLine"in p.coords&&O.weather.temp.oneline(),"weatherNight"in p.coords&&O.weather.temp.sep.night())},air_change:()=>{o("in-air").value>500&&(o("in-air").value=500),o("in-air").value<0&&(o("in-air").value=0),p.data.air=o("in-air").value,s("c_air_text"),p.coords.weather&&"weatherAirText"in p.coords&&O.weather.airText()},weathericon_change:()=>{o("in-weathericon").value>26&&(o("in-weathericon").value=26),o("in-weathericon").value<1&&(o("in-weathericon").value=1),p.data.weathericon=o("in-weathericon").value-1,s("c_weather_icon"),p.coords.weather&&p.coords.weathericon&&O.weather.icon()},animation_change:()=>{o("in-animation").value>p.coords.Animation.AnimationImage.ImageCount&&(o("in-animation").value=p.coords.Animation.AnimationImage.ImageCount),o("in-animation").value<1&&(o("in-animation").value=1),p.data.animation=o("in-animation").value-1,s("c_animation"),"Animation"in p.coords&&(o("in-animation").max=p.coords.Animation.AnimationImage.ImageCount,O.Animation())}};o("realsizePreview").addEventListener("click",function(){html2canvas(o("watchfaceimage"),{onrendered:function(e){o("realsizePreview").innerHTML="",o("realsizePreview").appendChild(e)}})}),o("makepng").addEventListener("click",function(){let e="watchfaceblock";o("makepngwithwatch").checked&&(e="watchfaceimage"),html2canvas(o(e),{onrendered:function(e){if(p.app.notWebkitBased)e.toBlob(function(e){saveAs(e,p.data.wfname+".png")});else{let t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download=p.data.wfname+".png",t.click(),t=null}}})});let j=["time","date","battery","calories","steps","stepsGoal","pulse","distance","weatherd","weathern","weathericon","sec","alarm","bt","dnd","lock","weatherAlt","air","animation"];for(let e in j)o("in-"+j[e]).addEventListener("change",H[j[e]+"_change"]);p.makeWf=function(){try{o("watchface").innerHTML="",o("svg-cont-clock").innerHTML="",o("svg-cont-steps").innerHTML="","cor"===localStorage.device?R({ImageIndex:293,X:0,Y:0},0,"wf_bg"):R({ImageIndex:265,X:0,Y:0},0,"wf_bg"),o(".wf_bg")[0].classList.remove("default-image"),"bg"in p.coords&&R(p.coords.bg.Image,0,"c_bg"),"time"in p.coords&&O.time.time(),"seconds"in p.coords&&O.time.seconds(),p.coords.date&&("weekDay"in p.coords&&O.date.weekDay(),"dateDay"in p.coords&&O.date.sepday(),"dateMonth"in p.coords&&O.date.sepmonth(),"dateOneLine"in p.coords&&O.date.oneline()),p.coords.battery&&("batteryIcon"in p.coords&&O.battery.icon(),"batteryText"in p.coords&&O.battery.text(),"batteryScale"in p.coords&&O.battery.scale()),p.coords.status&&("statAlarm"in p.coords&&O.status.alarm(),"statBt"in p.coords&&O.status.bt(),"statDnd"in p.coords&&O.status.dnd(),"statLock"in p.coords&&O.status.lock()),p.coords.activity&&("actCal"in p.coords&&O.activity.cal(),"actSteps"in p.coords&&O.activity.steps(),"actStepsGoal"in p.coords&&O.activity.stepsGoal(),"actPulse"in p.coords&&O.activity.pulse(),"actDistance"in p.coords&&O.activity.distance()),p.coords.weather&&("weathericon"in p.coords&&O.weather.icon(),"weatherOneLine"in p.coords&&O.weather.temp.oneline(),"weatherDay"in p.coords&&O.weather.temp.sep.day(),"weatherNight"in p.coords&&O.weather.temp.sep.night(),"weatherDayAlt"in p.coords&&O.weather.temp.sep.dayAlt(),"weatherNightAlt"in p.coords&&O.weather.temp.sep.nightAlt(),"weatherCurrent"in p.coords&&O.weather.temp.current(),"weatherAirIcon"in p.coords&&O.weather.airIcon(),"weatherAirText"in p.coords&&O.weather.airText()),p.coords.stepsprogress&&("stepscircle"in p.coords&&O.stepsprogress.circle(),"stepsLinear"in p.coords&&O.stepsprogress.linear(),"stepsGoal"in p.coords&&p.data.steps>=p.data.stepsGoal&&O.stepsprogress.goal()),p.coords.analog&&("analoghours"in p.coords&&O.analog.hours(),"analogminutes"in p.coords&&O.analog.minutes(),"analogseconds"in p.coords&&O.analog.seconds()),p.coords.Animation&&O.Animation()}catch(e){console.warn(e),"ImageError"===e.name&&UIkit.notification(("imagenotfound"in p.app.lang?p.app.lang.imagenotfound:"Image with index $index not found").replace("$index","<b>"+e.imageIndex+"</b>"),{status:"danger",pos:"top-left",timeout:7500}),"TypeError"===e.name&&UIkit.notification("Image for prorety not found",{status:"danger",pos:"top-left",timeout:7500})}},p.view={setPosN:R},p.draw=O;let z=function(e,t){o("editor").innerHTML+='<div id="'+t+'" style="height:'+3*o("ImageIndexOn"in e?e.ImageIndexOn:e.ImageIndexOff).height+"px; width:"+3*o("ImageIndexOn"in e?e.ImageIndexOn:e.ImageIndexOff).width+"px; top:"+3*e.Coordinates.Y+"px; left:"+3*e.Coordinates.X+'px;" class="editor-elem"></div>'},J=function(e){return Number(e.replace("px",""))},U=function(){if(o("editor").innerHTML="","bg"in p.coords){let e=n(p.coords.bg.Image.ImageIndex);e.style.left=3*p.coords.bg.Image.X+"px",e.style.top=3*p.coords.bg.Image.Y+"px",e.style.position="absolute",e.height*=3,e.width*=3,e.removeAttribute("id"),o("editor").appendChild(e),setTimeout(function(){o("editor").childNodes[0].ondragstart=function(){return!1}},10)}if("time"in p.coords&&(K("timeHoursTens"),K("timeHoursOnes"),K("timeMinutesTens"),K("timeMinutesOnes"),"seconds"in p.coords&&(K("timeSecondsTens"),K("timeSecondsOnes")),"amPm"in p.coords&&(o("editor").innerHTML+='<div id="e_time_am" style="height:'+3*o(p.coords.amPm.ImageIndexAm).height+"px; width:"+3*o(p.coords.amPm.ImageIndexAm).width+"px; top:"+3*p.coords.amPm.Y+"px; left:"+3*p.coords.amPm.X+'px;" class="editor-elem"></div>',$("timeM"))),p.coords.date&&("weekDay"in p.coords&&K("dateWeekday"),"dateDay"in p.coords&&V("dateDay"),"dateMonth"in p.coords&&V("dateMonth"),"dateOneLine"in p.coords&&V("dateOneLine")),p.coords.activity&&("actCal"in p.coords&&V("actCalories"),"actSteps"in p.coords&&V("actSteps"),"actStepsGoal"in p.coords&&V("actStepsGoal"),"actPulse"in p.coords&&V("actPulse"),"actDistance"in p.coords&&V("actDistance")),p.coords.battery&&("batteryIcon"in p.coords&&K("batteryIcon"),"batteryText"in p.coords&&V("batteryText"),"batteryScale"in p.coords)){let e=e=>q("e_battery_linar_"+e,p.coords.batteryScale.Segments[e],"c_battery_scale",p.draw.battery.scale);for(let t=0;t<p.coords.batteryScale.Segments.length;t++)o("editor").innerHTML+='<div id="e_battery_linar_'+t+'" style="height:'+3*o(p.coords.batteryScale.StartImageIndex+t).height+"px; width:"+3*o(p.coords.batteryScale.StartImageIndex+t).width+"px; top:"+3*p.coords.batteryScale.Segments[t].Y+"px; left:"+3*p.coords.batteryScale.Segments[t].X+'px;" class="editor-elem"></div>',setTimeout(e,10,t)}if(p.coords.status&&("statAlarm"in p.coords&&(z(p.coords.statAlarm,"e_stat_alarm"),$("statAlarm")),"statBt"in p.coords&&(z(p.coords.statBt,"e_stat_bt"),$("statBluetooth")),"statDnd"in p.coords&&(z(p.coords.statDnd,"e_stat_dnd"),$("statDND")),"statLock"in p.coords&&(z(p.coords.statLock,"e_stat_lock"),$("statLock"))),p.coords.weather&&("weathericon"in p.coords&&("CustomIcon"in p.coords.weathericon?(o("editor").innerHTML+='<div id="e_weather_icon" style="height:'+3*o(p.coords.weathericon.CustomIcon.ImageIndex).height+"px; width:"+3*o(p.coords.weathericon.CustomIcon.ImageIndex).width+"px; top:"+3*p.coords.weathericon.CustomIcon.Y+"px; left:"+3*p.coords.weathericon.CustomIcon.X+'px;" class="editor-elem"></div>',setTimeout(function(){q("e_weather_icon",p.coords.weathericon.CustomIcon,"c_weather_icon",p.draw.weather.icon)},10)):(o("editor").innerHTML+='<div id="e_weather_icon" style="height:'+3*o("weather").height+"px; width:"+3*o("weather").width+"px; top:"+3*p.coords.weathericon.Coordinates.Y+"px; left:"+3*p.coords.weathericon.Coordinates.X+'px;" class="editor-elem"></div>',setTimeout(function(){q("e_weather_icon",p.coords.weathericon.Coordinates,"c_weather_icon",p.draw.weather.icon)},10))),"weatherOneLine"in p.coords&&V("weatherOneLine"),"weatherDay"in p.coords&&V("weatherDay"),"weatherNight"in p.coords&&V("weatherNight"),"weatherDayAlt"in p.coords&&V("weatherDayAlt"),"weatherNightAlt"in p.coords&&V("weatherNightAlt"),"weatherCurrent"in p.coords&&V("weatherCurrent"),"weatherAirIcon"in p.coords&&K("weatherAirIcon"),"weatherAirText"in p.coords&&V("weatherAirText")),p.coords.stepsprogress){if(p.coords,"stepsLinear"in p.coords){let e=e=>q("e_steps_linar_"+e,p.coords.stepsLinear.Segments[e],"c_steps_linear",p.draw.stepsprogress.linear);for(let t=0;t<p.coords.stepsLinear.Segments.length;t++)o("editor").innerHTML+='<div id="e_steps_linar_'+t+'" style="height:'+3*o(p.coords.stepsLinear.StartImageIndex+t).height+"px; width:"+3*o(p.coords.stepsLinear.StartImageIndex+t).width+"px; top:"+3*p.coords.stepsLinear.Segments[t].Y+"px; left:"+3*p.coords.stepsLinear.Segments[t].X+'px;" class="editor-elem"></div>',setTimeout(e,10,t)}"stepsGoal"in p.coords&&K("stepsGoal")}"Animation"in p.coords&&K("Animation")},q=function(e,t,a,n){(e=o(e)).onmousedown=function(r){p.coordsHistory.push(JSON.stringify(p.coords));let i=Z(o("editor")),c=function(e){let t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}(e),d=r.pageX-c.left,l=r.pageY-c.top;function m(t){e.style.left=t.pageX-i.left-d+"px",e.style.top=t.pageY-i.top-l+"px",o("e_coords").innerHTML="X: "+(J(e.style.left)-J(e.style.left)%3)/3+", Y: "+(J(e.style.top)-J(e.style.top)%3)/3}e.style.position="absolute",m(r),e.style.zIndex=1e3,o("editor").onmousemove=function(e){m(e)},e.onmouseup=function(){o("editor").onmousemove=null,e.onmouseup=null,e.style.zIndex="auto";let r=J(e.style.top),i=J(e.style.left);if(e.style.top=r>0&&r<3*p.device.height?3*Math.round(r/3)+"px":"0px",e.style.left=i>0&&i<3*p.device.width?3*Math.round(i/3)+"px":"0px","X"in t)t.X=J(e.style.left)/3,t.Y=J(e.style.top)/3;else{let a=t.TopLeftX,o=t.TopLeftY;t.TopLeftX=J(e.style.left)/3,t.TopLeftY=J(e.style.top)/3,t.BottomRightX+=t.TopLeftX-a,t.BottomRightY+=t.TopLeftY-o}s(a),n(),o("e_coords").innerHTML="coordinates"in p.app.lang?p.app.lang.coordinates:"Coordinates"}},e.ondragstart=function(){return!1}},$=function(e){setTimeout(function(){q(p.elements[e].editorId,p.elements[e].coords(),p.elements[e].prewiewClass,p.elements[e].drawFunc)},10)},K=function(e){!function(e){o("editor").innerHTML+='<div id="'+p.elements[e].editorId+'" style="height:'+3*o(p.elements[e].coords().ImageIndex).height+"px; width:"+3*o(p.elements[e].coords().ImageIndex).width+"px; top:"+3*p.elements[e].coords().Y+"px; left:"+3*p.elements[e].coords().X+'px;" class="editor-elem" uk-tooltip="title: '+p.elements[e].name+'; delay: 750; offset: 1"></div>'}(e),$(e)},V=function(e){!function(e){o("editor").innerHTML+='<div id="'+p.elements[e].editorId+'" style="height:'+3*(p.elements[e].coords().BottomRightY-p.elements[e].coords().TopLeftY+1)+"px; width:"+3*(p.elements[e].coords().BottomRightX-p.elements[e].coords().TopLeftX+1)+"px; top:"+3*p.elements[e].coords().TopLeftY+"px; left:"+3*p.elements[e].coords().TopLeftX+'px;" class="editor-elem" uk-tooltip="title: '+p.elements[e].name+'; delay: 750; offset: 1"></div>'}(e),$(e)},Z=function(e){let t=e.getBoundingClientRect(),a=document.body,o=document.documentElement,n=window.pageYOffset||o.scrollTop||a.scrollTop,r=window.pageXOffset||o.scrollLeft||a.scrollLeft,s=o.clientTop||a.clientTop||0,i=o.clientLeft||a.clientLeft||0,c=t.top+n-s,d=t.left+r-i;return{top:Math.round(c),left:Math.round(d)}},Q=function(e,t){let a=0,n=0;for(let t=0;t<e.ImagesCount;t++)o(e.ImageIndex+t).width>a&&(a=o(e.ImageIndex+t).width),o(e.ImageIndex+t).height>n&&(n=o(e.ImageIndex+t).height);if(a=a*t+e.Spacing*(t-1),arguments.length>2)for(let t=2;t<arguments.length;t++)a+=o(arguments[t]).width+e.Spacing;"TopRight"===e.Alignment?(e.BottomRightY=e.TopLeftY+n-1,e.TopLeftX=e.BottomRightX-a+1):(e.BottomRightY=e.TopLeftY+n-1,e.BottomRightX=e.TopLeftX+a-1)};o("editor-tab").addEventListener("click",U),o("fix-coords").addEventListener("click",function(){p.coords.date&&("dateDay"in p.coords&&Q(p.coords.dateDay,2),"dateMonth"in p.coords&&Q(p.coords.dateMonth,2),"dateOneLine"in p.coords&&Q(p.coords.dateOneLine.Number,4,p.coords.dateOneLine.DelimiterImageIndex)),"batteryText"in p.coords&&Q(p.coords.batteryText,3),p.coords.activity&&("actCal"in p.coords&&Q(p.coords.actCal,4),"actSteps"in p.coords&&Q(p.coords.actSteps,5),"actStepsGoal"in p.coords&&Q(p.coords.actStepsGoal,5),"actPulse"in p.coords&&Q(p.coords.actPulse,3),"actDistance"in p.coords&&Q(p.coords.actDistance.Number,4,p.coords.actDistance.DecimalPointImageIndex,p.coords.actDistance.SuffixImageIndex)),p.coords.weather&&("weatherOneLine"in p.coords&&Q(p.coords.weatherOneLine.Number,4,p.coords.weatherOneLine.MinusSignImageIndex,p.coords.weatherOneLine.MinusSignImageIndex,p.coords.weatherOneLine.DelimiterImageIndex,p.coords.weatherOneLine.DegreesImageIndex),"weatherDay"in p.coords&&Q(p.coords.weatherDay.Number,2,p.coords.weatherDay.MinusImageIndex,p.coords.weatherDay.DegreesImageIndex),"weatherNight"in p.coords&&Q(p.coords.weatherNight.Number,2,p.coords.weatherNight.MinusImageIndex,p.coords.weatherNight.DegreesImageIndex),"weatherCurrent"in p.coords&&Q(p.coords.weatherCurrent.Number,2,p.coords.weatherCurrent.MinusImageIndex,p.coords.weatherCurrent.DegreesImageIndex)),U(),p.makeWf()}),o("editor-undo").addEventListener("click",function(){p.coordsHistory.length&&(p.coords=JSON.parse(p.coordsHistory.pop()),U(),p.makeWf())}),p.app={changeThemeBtn:function(){document.body.classList.contains("uk-light")?g.changeTheme("light"):g.changeTheme("dark")},lastimage:301,imagestabversion:2,editortabversion:1,designtabversion:1,analogtabversion:2,notWebkitBased:void 0,lang:{},local:"file:"===location.protocol,firstopen_editor:!("firstopen_editor"in sessionStorage),endLoad:function(){window.onload=function(){"true"===localStorage.showdemo?(p.coords=p.default_coords,p.makeWf(),p.load.disableBtn(1)):o("showdemocheck").checked=!1,UIkit.modal(o("modal-loading")).hide(),localStorage.settingsShown||(UIkit.modal(o("modal-settings")).show(),localStorage.settingsShown=!0)}}},p.init=function(){let e=["bip","cor","band4"];e.includes(location.search.slice(1))?g.change_device(location.search.slice(1),p):e.includes(localStorage.device)?g.change_device(localStorage.device,p):g.change_device("bip",p);let t=document.getElementsByName("device"),a=()=>{for(let e=0;e<t.length;e++)t[e].checked&&(localStorage.device=t[e].value,location.search="")};for(let e=0;e<t.length;e++)t[e].value===localStorage.device&&(t[e].checked=!0),t[e].onchange=a;function n(e){let t=document.createElement("script");t.src=e,t.type="text/javascript",o("<head")[0].appendChild(t)}"amazfitwatchfaces.com"===location.host&&void 0===localStorage.appTheme&&(localStorage.appTheme="amazfit"),g.changeTheme(localStorage.appTheme),"lang"in localStorage||(localStorage.lang=navigator.language||navigator.userLanguage),localStorage.lang.indexOf("ru")>=0?g.changeLang("russian"):localStorage.lang.indexOf("zh")>=0?g.changeLang("chinese"):localStorage.lang.indexOf("nl")>=0?g.changeLang("dutch"):localStorage.lang.indexOf("de")>=0?g.changeLang("german"):localStorage.lang.indexOf("tr")>=0?g.changeLang("turkish"):localStorage.lang.indexOf("en")<0&&1!==localStorage.translatehelp&&(UIkit.notification("Please contact me if you can help me to translate this app to your language",{status:"primary",pos:"top-left",timeout:7500}),localStorage.translatehelp=1),void 0===localStorage.showdemo&&(localStorage.showdemo=!0),o("showdemocheck").onchange=function(){localStorage.showdemo=o("showdemocheck").checked,location.reload()},localStorage.biptools=0,localStorage.analogDescription?UIkit.alert(o("analogDescription")).close():UIkit.alert(o("analogDescription"))._events[0]=function(){localStorage.analogDescription=!0};for(let e=200;e<=p.app.lastimage;e++)o("defimages").innerHTML+='<img src="defaultimages/'+e+'.png" id="'+e+'" class="default-image">';p.app.notWebkitBased=navigator.userAgent.search(/Edge/)>0||navigator.userAgent.search(/Firefox/)>0,p.app.notWebkitBased?(UIkit.notification("browserwarn"in p.app.lang?p.app.lang.browserwarn:"Something may not work in your browser. WebKit-based browser recommended",{status:"warning",pos:"top-left",timeout:7500}),n("js/FileSaver.min.js"),n("js/canvas-toBlob.js"),o("inputblock").childNodes[3].childNodes[1].style.overflowX="hidden"):navigator.userAgent.match(/Android|iPhone/i)&&UIkit.notification("This site is not optimized for mobile devices, something may not work",{status:"warning",pos:"top-left",timeout:7500}),o("inputimages").onchange=function(){if(o("inputimages").files.length){let e=0;for(console.log("Images count: ",o("inputimages").files.length);e<o("inputimages").files.length;)p.load.renderImage(o("inputimages").files[e]),e++;p.data.imagesset=!0,o("inputimages").nextElementSibling.classList.contains("uk-button-danger")&&(o("inputimages").nextElementSibling.classList.remove("uk-button-danger"),o("inputimages").nextElementSibling.classList.add("uk-button-default")),o("inputimages").nextElementSibling.classList.add("uk-label-success")}p.data.imagesset&&p.data.jsset?p.load.disableBtn(1):p.load.disableBtn(0)},o("inputjs").onchange=function(){if(o("inputjs").files.length){p.data.wfname=o("inputjs").files[0].name.split(".")[0],console.log("Watchface name: ",p.data.wfname),document.title="WF editor - "+p.data.wfname;let e=new FileReader;e.onload=function(e){try{p.coords=p.converter.import(jsonlint.parse(e.target.result))}catch(e){o("jsonerrortext").innerHTML=e,setTimeout(function(){UIkit.modal(o("jsonerrormodal")).show()},200),console.warn(e)}},e.readAsText(o("inputjs").files[0]),e=null,p.data.jsset=!0,o("inputjs").nextElementSibling.classList.contains("uk-button-danger")&&(o("inputjs").nextElementSibling.classList.remove("uk-button-danger"),o("inputjs").nextElementSibling.classList.add("uk-button-default")),o("inputjs").nextElementSibling.classList.add("uk-label-success")}p.data.imagesset&&p.data.jsset?p.load.disableBtn(1):p.load.disableBtn(0)},UIkit.modal("#donateframe")._events[0]=function(){o("donateframe").innerHTML='<iframe src="https://money.yandex.ru/quickpay/shop-widget?writer=seller&targets=%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D1%82%D1%8C%20watchfaceEditor&targets-hint=&default-sum=100&button-text=14&payment-type-choice=on&hint=%D0%9E%D1%81%D1%82%D0%B0%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BE%D1%82%D0%B7%D1%8B%D0%B2&successURL=&quickpay=shop&account=41001928688597" width="460" height="222" frameborder="0" allowtransparency="true" scrolling="no"></iframe>',setTimeout(function(){o("donateframe").classList.remove("uk-modal")},10)},UIkit.modal("#modal-about")._events[0]=function(){o("siteopened").innerHTML=o("siteopened").innerHTML.replace("$times",localStorage.showcount)},"showcount"in localStorage?(localStorage.showcount++,10===localStorage.showcount&&setTimeout(()=>UIkit.modal(o("modal-donate")).show(),250)):localStorage.showcount=1,navigator.userAgent.indexOf("Electron")>=0&&(n("js/electronApp.js"),p.app.local=!1),p.app.local?n("js/utilit.js"):setTimeout(n,2e3,"js/metrika.js"),p.app.endLoad()},p.load={allinone:function(){p.coords=p.converter.import(JSON.parse('{"Background":{"Image":{"ImageIndex":265,"X":0,"Y":0}},"Time":{"DrawingOrder":"1234","Hours":{"Ones":{"ImageIndex":200,"ImagesCount":10,"X":9,"Y":0},"Tens":{"ImageIndex":200,"ImagesCount":10,"X":0,"Y":0}},"Minutes":{"Ones":{"ImageIndex":200,"ImagesCount":10,"X":29,"Y":0},"Tens":{"ImageIndex":200,"ImagesCount":10,"X":20,"Y":0}},"AmPm":{"X":41,"Y":11,"ImageIndexAm":233,"ImageIndexPm":234},"Seconds":{"Tens":{"X":41,"Y":0,"ImageIndex":200,"ImagesCount":10},"Ones":{"X":51,"Y":0,"ImageIndex":200,"ImagesCount":10}}},"Date":{"WeekDay":{"X":0,"Y":24,"ImageIndex":210,"ImagesCount":7},"MonthAndDay":{"Separate":{"Day":{"TopLeftX":0,"TopLeftY":11,"BottomRightX":15,"BottomRightY":20,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Month":{"TopLeftX":20,"TopLeftY":11,"BottomRightX":35,"BottomRightY":20,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10}},"TwoDigitsMonth":true,"TwoDigitsDay":true}},"Activity":{"Steps":{"TopLeftX":40,"TopLeftY":111,"BottomRightX":82,"BottomRightY":120,"Alignment":"TopRight","Spacing":2,"ImageIndex":200,"ImagesCount":10},"StepsGoal":{"TopLeftX":94,"TopLeftY":111,"BottomRightX":136,"BottomRightY":120,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Pulse":{"TopLeftX":43,"TopLeftY":148,"BottomRightX":67,"BottomRightY":157,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Calories":{"TopLeftX":2,"TopLeftY":148,"BottomRightX":35,"BottomRightY":157,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Distance":{"Number":{"TopLeftX":0,"TopLeftY":162,"BottomRightX":58,"BottomRightY":171,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"SuffixImageIndex":231,"DecimalPointImageIndex":232}},"StepsProgress":{"Linear":{"StartImageIndex":200,"Segments":[{"X":40,"Y":121},{"X":55,"Y":121},{"X":67,"Y":121},{"X":79,"Y":121},{"X":91,"Y":121},{"X":104,"Y":121},{"X":117,"Y":121},{"X":130,"Y":121}]},"Circle":{"CenterX":88,"CenterY":88,"RadiusX":24,"RadiusY":24,"StartAngle":0,"EndAngle":360,"Width":3,"Color":"0x00FF00"},"GoalImage":{"X":83,"Y":111,"ImageIndex":266}},"Status":{"Alarm":{"Coordinates":{"X":140,"Y":0},"ImageIndexOn":224},"Bluetooth":{"Coordinates":{"X":164,"Y":13},"ImageIndexOn":220,"ImageIndexOff":221},"Lock":{"Coordinates":{"X":166,"Y":0},"ImageIndexOn":223},"DoNotDisturb":{"Coordinates":{"X":153,"Y":0},"ImageIndexOn":222}},"Battery":{"Icon":{"X":116,"Y":0,"ImageIndex":225,"ImagesCount":6},"Text":{"TopLeftX":3,"TopLeftY":133,"BottomRightX":27,"BottomRightY":142,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Scale":{"StartImageIndex":200,"Segments":[{"X":90,"Y":64},{"X":104,"Y":73},{"X":100,"Y":93},{"X":80,"Y":106},{"X":65,"Y":95},{"X":63,"Y":76},{"X":69,"Y":64}]}},"Weather":{"Icon":{"CustomIcon":{"X":146,"Y":146,"ImageIndex":267,"ImagesCount":26}},"AirPollution":{"Icon":{"X":79,"Y":136,"ImageIndex":235,"ImagesCount":6}},"Temperature":{"Current":{"Number":{"TopLeftX":142,"TopLeftY":136,"BottomRightX":175,"BottomRightY":145,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"MinusImageIndex":217,"DegreesImageIndex":218},"Today":{"Separate":{"Day":{"Number":{"TopLeftX":93,"TopLeftY":166,"BottomRightX":114,"BottomRightY":175,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"MinusImageIndex":217,"DegreesImageIndex":218},"Night":{"Number":{"TopLeftX":93,"TopLeftY":153,"BottomRightX":114,"BottomRightY":162,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"MinusImageIndex":217,"DegreesImageIndex":218}}}}},"AnalogDialFace":{"Hours":{"OnlyBorder":false,"Color":"0xFFFFFF","Center":{"X":88,"Y":88},"Shape":[{"X":-17,"Y":-2},{"X":54,"Y":-2},{"X":54,"Y":1},{"X":-17,"Y":1}]},"Minutes":{"OnlyBorder":false,"Color":"0xFFFFFF","Center":{"X":88,"Y":88},"Shape":[{"X":-17,"Y":-2},{"X":68,"Y":-2},{"X":68,"Y":1},{"X":-17,"Y":1}]},"Seconds":{"OnlyBorder":false,"Color":"0xFF0000","Center":{"X":88,"Y":88},"Shape":[{"X":-21,"Y":-1},{"X":82,"Y":-1},{"X":82,"Y":0},{"X":-21,"Y":0}],"CenterImage":{"X":84,"Y":84,"ImageIndex":200}}}}')),p.makeWf()},disableBtn:function(e){e?(o("editor-tab").classList.remove("uk-disabled"),o("makepng").removeAttribute("disabled"),o("viewsettings").removeAttribute("disabled"),o("jsonEditor-tab").classList.remove("uk-disabled"),o("resources-tab").classList.remove("uk-disabled"),o("analog-watch-tab").classList.remove("uk-disabled"),setTimeout(p.makeWf,300)):(o("editor-tab").classList.add("uk-disabled"),o("makepng").setAttribute("disabled",""),o("viewsettings").setAttribute("disabled",""),o("jsonEditor-tab").classList.add("uk-disabled"),o("resources-tab").classList.add("uk-disabled"),o("analog-watch-tab").classList.add("uk-disabled"))},clearjs:function(){o("inputjs").value="",p.coords={},p.data.jsset=!1,o("inputjs").nextElementSibling.classList.contains("uk-label-success")&&o("inputjs").nextElementSibling.classList.remove("uk-label-success"),o("inputjs").nextElementSibling.classList.add("uk-button-danger"),o("inputjs").nextElementSibling.classList.remove("uk-button-default"),p.load.disableBtn(0)},clearimg:function(){o("inputimages").value="",o("allimages").innerHTML="",p.data.imagesset=!1,o("inputimages").nextElementSibling.classList.contains("uk-label-success")&&o("inputimages").nextElementSibling.classList.remove("uk-label-success"),o("inputimages").nextElementSibling.classList.add("uk-button-danger"),o("inputimages").nextElementSibling.classList.remove("uk-button-default"),p.load.disableBtn(0)},renderImage:function(e){let t=new FileReader;t.onload=function(t){let a=t.target.result;isNaN(Number(e.name.replace(".png","")))?"weather.png"===e.name&&(o("weather").parentNode.removeChild(o("weather")),o("allimages").innerHTML+='<img src="'+a+'" id="'+e.name.replace(".png","")+'" >'):o("allimages").innerHTML+='<img src="'+a+'" id="'+Number(e.name.replace(".png",""))+'" >'},t.readAsDataURL(e),t=null}},o("inputimages").addEventListener("click",p.load.clearimg),o("inputjs").addEventListener("click",p.load.clearjs),p.init()}]);