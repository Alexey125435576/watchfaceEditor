!function(e){var t={};function a(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(o,r,function(t){return e[t]}.bind(null,r));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";function o(e){if(null===e)throw{name:"Get element error",element:e};let t=document.getElementById(e);if(null===t)throw{name:"Get element error",element:e};return t}function r(e){if(null===o(e))throw{name:"ImageError",imageIndex:e};return document.getElementById(e).cloneNode(!1)}function n(e,t){return(e-e%t)/t}function s(e){for(var t=document.getElementsByClassName(e),a=0;t.length;a++)o("watchface").removeChild(t[0])}a.r(t);let i={height:176,width:176,tabs:["editor-tab","jsonEditor-tab","analog-watch-tab","resources-tab"],images:{watchface_block:{left:43,top:163,height:353,width:233,image:"b.png"}},data:{import:function(e){let t={};return"Background"in e&&(t.bg=e.Background),"Time"in e&&(t.time=e.Time,"Seconds"in e.Time&&(t.seconds=e.Time.Seconds,delete t.time.Seconds),"AmPm"in e.Time&&(t.amPm=e.Time.AmPm,delete t.time.AmPm)),"Date"in e?(t.date=!0,"WeekDay"in e.Date&&(t.weekDay=e.Date.WeekDay),"MonthAndDay"in e.Date&&(t.monthandday=e.Date.MonthAndDay,"Separate"in e.Date.MonthAndDay&&("Day"in e.Date.MonthAndDay.Separate&&(t.dateDay=e.Date.MonthAndDay.Separate.Day),"Month"in e.Date.MonthAndDay.Separate&&(t.dateMonth=e.Date.MonthAndDay.Separate.Month),delete t.monthandday.Separate),"OneLine"in e.Date.MonthAndDay&&(t.dateOneLine=e.Date.MonthAndDay.OneLine,delete t.monthandday.OneLine))):t.date=!1,"Battery"in e?(t.battery=!0,"Icon"in e.Battery&&(t.batteryIcon=e.Battery.Icon),"Text"in e.Battery&&(t.batteryText=e.Battery.Text),"Scale"in e.Battery&&(t.batteryScale=e.Battery.Scale)):t.battery=!1,"Status"in e?(t.status=!0,"Alarm"in e.Status&&(t.statAlarm=e.Status.Alarm),"Bluetooth"in e.Status&&(t.statBt=e.Status.Bluetooth),"DoNotDisturb"in e.Status&&(t.statDnd=e.Status.DoNotDisturb),"Lock"in e.Status&&(t.statLock=e.Status.Lock)):t.status=!1,"Activity"in e?(t.activity=!0,"Calories"in e.Activity&&(t.actCal=e.Activity.Calories),"Steps"in e.Activity&&("bip"==i?t.actSteps=e.Activity.Steps:(t.actSteps=e.Activity.Steps.Number,delete e.Activity.Steps.Number,t.actSteps.cor=e.Activity.Steps)),"StepsGoal"in e.Activity&&(t.actStepsGoal=e.Activity.StepsGoal),"Pulse"in e.Activity&&(t.actPulse=e.Activity.Pulse),"Distance"in e.Activity&&(t.actDistance=e.Activity.Distance)):t.activity=!1,"Weather"in e?(t.weather=!0,"Icon"in e.Weather&&(t.weathericon=e.Weather.Icon),"Temperature"in e.Weather&&("Today"in e.Weather.Temperature&&("OneLine"in e.Weather.Temperature.Today&&(t.weatherOneLine=e.Weather.Temperature.Today.OneLine),"Separate"in e.Weather.Temperature.Today&&("Day"in e.Weather.Temperature.Today.Separate&&(t.weatherDay=e.Weather.Temperature.Today.Separate.Day),"Night"in e.Weather.Temperature.Today.Separate&&(t.weatherNight=e.Weather.Temperature.Today.Separate.Night),"DayAlt"in e.Weather.Temperature.Today.Separate&&(t.weatherDayAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Day)),t.weatherDayAlt.Number.BottomRightX=t.weatherDayAlt.Number.BottomRightX-t.weatherDayAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.DayAlt.X,t.weatherDayAlt.Number.BottomRightY=t.weatherDayAlt.Number.BottomRightY-t.weatherDayAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.DayAlt.Y,t.weatherDayAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.DayAlt.X,t.weatherDayAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.DayAlt.Y),"NightAlt"in e.Weather.Temperature.Today.Separate&&(t.weatherNightAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Night)),t.weatherNightAlt.Number.BottomRightX=t.weatherNightAlt.Number.BottomRightX-t.weatherNightAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.NightAlt.X,t.weatherNightAlt.Number.BottomRightY=t.weatherNightAlt.Number.BottomRightY-t.weatherNightAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.NightAlt.Y,t.weatherNightAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.NightAlt.X,t.weatherNightAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.NightAlt.Y))),"Current"in e.Weather.Temperature&&(t.weatherCurrent=e.Weather.Temperature.Current)),"AirPollution"in e.Weather&&("Icon"in e.Weather.AirPollution&&(t.weatherAirIcon=e.Weather.AirPollution.Icon),"Index"in e.Weather.AirPollution&&(t.weatherAirText=e.Weather.AirPollution.Index))):t.weather=!1,"StepsProgress"in e?(t.stepsprogress=!0,"Circle"in e.StepsProgress&&(t.stepscircle=e.StepsProgress.Circle),"Linear"in e.StepsProgress&&(t.stepsLinear=e.StepsProgress.Linear),"GoalImage"in e.StepsProgress&&(t.stepsGoal=e.StepsProgress.GoalImage)):t.stepsprogress=!1,"AnalogDialFace"in e?(t.analog=!0,"Hours"in e.AnalogDialFace&&(t.analoghours=e.AnalogDialFace.Hours),"Minutes"in e.AnalogDialFace&&(t.analogminutes=e.AnalogDialFace.Minutes),"Seconds"in e.AnalogDialFace&&(t.analogseconds=e.AnalogDialFace.Seconds)):t.analog=!1,t},export:function(e,t){let a=JSON.parse(JSON.stringify(e)),o={};return"bg"in a&&(o.Background=a.bg),"time"in a&&(o.Time=a.time,"seconds"in a&&(o.Time.Seconds=a.seconds),"amPm"in a&&(o.Time.AmPm=a.amPm)),a.date&&(o.Date={},"weekDay"in a&&(o.Date.WeekDay=a.weekDay),"monthandday"in a&&(o.Date.MonthAndDay=a.monthandday,("dateDay"in a||"dateMonth"in a)&&(o.Date.MonthAndDay.Separate={},"dateDay"in a&&(o.Date.MonthAndDay.Separate.Day=a.dateDay),"dateMonth"in a&&(o.Date.MonthAndDay.Separate.Month=a.dateMonth)),"dateOneLine"in a&&(o.Date.MonthAndDay.OneLine=a.dateOneLine))),a.status&&(o.Status={},"statAlarm"in a&&(o.Status.Alarm=a.statAlarm),"statBt"in a&&(o.Status.Bluetooth=a.statBt),"statDnd"in a&&(o.Status.DoNotDisturb=a.statDnd),"statLock"in a&&(o.Status.Lock=a.statLock)),a.battery&&(o.Battery={},"batteryIcon"in a&&(o.Battery.Icon=a.batteryIcon),"batteryText"in a&&("bip"==t?o.Battery.Text=a.batteryText:(o.Battery.Text={},o.Battery.Text.Number=a.batteryText)),"batteryScale"in a&&(o.Battery.Scale=a.batteryScale)),a.activity&&(o.Activity={},"actCal"in a&&("bip"==t?o.Activity.Calories=a.actCal:(o.Activity.Calories=a.actCal.cor,o.Activity.Calories.Number=a.actCal,delete o.Activity.Calories.Number.cor)),"actSteps"in a&&("bip"==t?o.Activity.Steps=a.actSteps:(o.Activity.Steps=a.actSteps.cor,o.Activity.Steps.Number=a.actSteps,delete o.Activity.Steps.Number.cor)),"actStepsGoal"in a&&("bip"==t?o.Activity.StepsGoal=a.actStepsGoal:(o.Activity.StepsGoal=a.actStepsGoal.cor,o.Activity.StepsGoal.Number=a.actStepsGoal,delete o.Activity.StepsGoal.Number.cor)),"actPulse"in a&&("bip"==t?o.Activity.Pulse=a.actPulse:(o.Activity.Pulse=a.actPulse.cor,o.Activity.Pulse.Number=a.actPulse,delete o.Activity.Pulse.Number.cor)),"actDistance"in a&&(o.Activity.Distance=a.actDistance)),a.weather&&(o.Weather={},"weathericon"in a&&(o.Weather.Icon=a.weathericon),("weatherCurrent"in a||"weatherDay"in a||"weatherNight"in a||"weatherOneLine"in a)&&(o.Weather.Temperature={},("weatherDay"in a||"weatherNight"in a||"weatherOneLine"in a)&&(o.Weather.Temperature.Today={},"weatherOneLine"in a&&(o.Weather.Temperature.Today.OneLine=a.weatherOneLine),("weatherDay"in a||"weatherNight"in a)&&(o.Weather.Temperature.Today.Separate={},"weatherDay"in a&&(o.Weather.Temperature.Today.Separate.Day=a.weatherDay),"weatherNight"in a&&(o.Weather.Temperature.Today.Separate.Night=a.weatherNight),"weatherDayAlt"in a&&(o.Weather.Temperature.Today.Separate.DayAlt={},o.Weather.Temperature.Today.Separate.DayAlt.X=a.weatherDayAlt.Number.TopLeftX,o.Weather.Temperature.Today.Separate.DayAlt.Y=a.weatherDayAlt.Number.TopLeftY),"weatherNightAlt"in a&&(o.Weather.Temperature.Today.Separate.NightAlt={},o.Weather.Temperature.Today.Separate.NightAlt.X=a.weatherNightAlt.Number.TopLeftX,o.Weather.Temperature.Today.Separate.NightAlt.Y=a.weatherNightAlt.Number.TopLeftY))),"weatherCurrent"in a&&(o.Weather.Temperature.Current=a.weatherCurrent)),("weatherAirIcon"in a||"weatherAirText"in a)&&(o.Weather.AirPollution={},"weatherAirIcon"in a&&(o.Weather.AirPollution.Icon=a.weatherAirIcon),"weatherAirText"in a&&(o.Weather.AirPollution.Index=a.weatherAirText))),a.stepsprogress&&(o.StepsProgress={},"stepscircle"in a&&(o.StepsProgress.Circle=a.stepscircle),"stepsLinear"in a&&(o.StepsProgress.Linear=a.stepsLinear),"stepsGoal"in a&&(o.StepsProgress.GoalImage=a.stepsGoal)),a.analog&&(o.AnalogDialFace={},"analoghours"in a&&(o.AnalogDialFace.Hours=a.analoghours),"analogminutes"in a&&(o.AnalogDialFace.Minutes=a.analogminutes),"analogseconds"in a&&(o.AnalogDialFace.Seconds=a.analogseconds)),o}},default_coords:JSON.parse('{"bg":{"Image":{"ImageIndex":265,"X":0,"Y":0}},"time":{"Hours":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":87,"Y":26},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":37,"Y":26}},"Minutes":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":112,"Y":77},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":62,"Y":77}}},"date":false,"battery":false,"status":false,"activity":false,"weather":false,"stepsprogress":false,"analog":false}')};var c={bip:i,cor:{height:160,width:80,tabs:["editor-tab","jsonEditor-tab","resources-tab"],images:{watchface_block:{left:24,top:88,height:264,width:105,image:"c.png"}},data:{import:function(e){let t={};return"Background"in e&&(t.bg=e.Background),"Time"in e&&(t.time=e.Time,"Seconds"in e.Time&&(t.seconds=e.Time.Seconds,delete t.time.Seconds),"AmPm"in e.Time&&(t.amPm=e.Time.AmPm,delete t.time.AmPm)),"Date"in e?(t.date=!0,"WeekDay"in e.Date&&(t.weekDay=e.Date.WeekDay),"MonthAndDay"in e.Date&&(t.monthandday=e.Date.MonthAndDay,"Separate"in e.Date.MonthAndDay&&("Day"in e.Date.MonthAndDay.Separate&&(t.dateDay=e.Date.MonthAndDay.Separate.Day),"Month"in e.Date.MonthAndDay.Separate&&(t.dateMonth=e.Date.MonthAndDay.Separate.Month),delete t.monthandday.Separate),"OneLine"in e.Date.MonthAndDay&&(t.dateOneLine=e.Date.MonthAndDay.OneLine,delete t.monthandday.OneLine))):t.date=!1,"Battery"in e?(t.battery=!0,"Icon"in e.Battery&&(t.batteryIcon=e.Battery.Icon),"Text"in e.Battery&&(t.batteryText=e.Battery.Text.Number),"Scale"in e.Battery&&(t.batteryScale=e.Battery.Scale)):t.battery=!1,"Status"in e?(t.status=!0,"Alarm"in e.Status&&(t.statAlarm=e.Status.Alarm),"Bluetooth"in e.Status&&(t.statBt=e.Status.Bluetooth),"DoNotDisturb"in e.Status&&(t.statDnd=e.Status.DoNotDisturb),"Lock"in e.Status&&(t.statLock=e.Status.Lock)):t.status=!1,"Activity"in e?(t.activity=!0,"Calories"in e.Activity&&(t.actCal=e.Activity.Calories.Number,delete e.Activity.Calories.Number,t.actCal.cor=e.Activity.Calories),"Steps"in e.Activity&&(t.actSteps=e.Activity.Steps.Number,delete e.Activity.Steps.Number,t.actSteps.cor=e.Activity.Steps),"StepsGoal"in e.Activity&&(t.actStepsGoal=e.Activity.StepsGoal.Number,delete e.Activity.StepsGoal.Number,t.actStepsGoal.cor=e.Activity.StepsGoal),"Pulse"in e.Activity&&(t.actPulse=e.Activity.Pulse.Number,delete e.Activity.Pulse.Number,t.actPulse.cor=e.Activity.Pulse),"Distance"in e.Activity&&(t.actDistance=e.Activity.Distance)):t.activity=!1,"Weather"in e?(t.weather=!0,"Icon"in e.Weather&&(t.weathericon=e.Weather.Icon),"Temperature"in e.Weather&&("Today"in e.Weather.Temperature&&("OneLine"in e.Weather.Temperature.Today&&(t.weatherOneLine=e.Weather.Temperature.Today.OneLine),"Separate"in e.Weather.Temperature.Today&&("Day"in e.Weather.Temperature.Today.Separate&&(t.weatherDay=e.Weather.Temperature.Today.Separate.Day),"Night"in e.Weather.Temperature.Today.Separate&&(t.weatherNight=e.Weather.Temperature.Today.Separate.Night),"DayAlt"in e.Weather.Temperature.Today.Separate&&(t.weatherDayAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Day)),t.weatherDayAlt.Number.BottomRightX=t.weatherDayAlt.Number.BottomRightX-t.weatherDayAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.DayAlt.X,t.weatherDayAlt.Number.BottomRightY=t.weatherDayAlt.Number.BottomRightY-t.weatherDayAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.DayAlt.Y,t.weatherDayAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.DayAlt.X,t.weatherDayAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.DayAlt.Y),"NightAlt"in e.Weather.Temperature.Today.Separate&&(t.weatherNightAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Night)),t.weatherNightAlt.Number.BottomRightX=t.weatherNightAlt.Number.BottomRightX-t.weatherNightAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.NightAlt.X,t.weatherNightAlt.Number.BottomRightY=t.weatherNightAlt.Number.BottomRightY-t.weatherNightAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.NightAlt.Y,t.weatherNightAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.NightAlt.X,t.weatherNightAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.NightAlt.Y))),"Current"in e.Weather.Temperature&&(t.weatherCurrent=e.Weather.Temperature.Current)),"AirPollution"in e.Weather&&("Icon"in e.Weather.AirPollution&&(t.weatherAirIcon=e.Weather.AirPollution.Icon),"Index"in e.Weather.AirPollution&&(t.weatherAirText=e.Weather.AirPollution.Index))):t.weather=!1,"StepsProgress"in e?(t.stepsprogress=!0,"Circle"in e.StepsProgress&&(t.stepscircle=e.StepsProgress.Circle),"Linear"in e.StepsProgress&&(t.stepsLinear=e.StepsProgress.Linear),"GoalImage"in e.StepsProgress&&(t.stepsGoal=e.StepsProgress.GoalImage)):t.stepsprogress=!1,"AnalogDialFace"in e?(t.analog=!0,"Hours"in e.AnalogDialFace&&(t.analoghours=e.AnalogDialFace.Hours),"Minutes"in e.AnalogDialFace&&(t.analogminutes=e.AnalogDialFace.Minutes),"Seconds"in e.AnalogDialFace&&(t.analogseconds=e.AnalogDialFace.Seconds)):t.analog=!1,t},export:function(e){let t=JSON.parse(JSON.stringify(e)),a={};return"bg"in t&&(a.Background=t.bg),"time"in t&&(a.Time=t.time,"seconds"in t&&(a.Time.Seconds=t.seconds),"amPm"in t&&(a.Time.AmPm=t.amPm)),t.date&&(a.Date={},"weekDay"in t&&(a.Date.WeekDay=t.weekDay),"monthandday"in t&&(a.Date.MonthAndDay=t.monthandday,("dateDay"in t||"dateMonth"in t)&&(a.Date.MonthAndDay.Separate={},"dateDay"in t&&(a.Date.MonthAndDay.Separate.Day=t.dateDay),"dateMonth"in t&&(a.Date.MonthAndDay.Separate.Month=t.dateMonth)),"dateOneLine"in t&&(a.Date.MonthAndDay.OneLine=t.dateOneLine))),t.status&&(a.Status={},"statAlarm"in t&&(a.Status.Alarm=t.statAlarm),"statBt"in t&&(a.Status.Bluetooth=t.statBt),"statDnd"in t&&(a.Status.DoNotDisturb=t.statDnd),"statLock"in t&&(a.Status.Lock=t.statLock)),t.battery&&(a.Battery={},"batteryIcon"in t&&(a.Battery.Icon=t.batteryIcon),"batteryText"in t&&(a.Battery.Text={},a.Battery.Text.Number=t.batteryText),"batteryScale"in t&&(a.Battery.Scale=t.batteryScale)),t.activity&&(a.Activity={},"actCal"in t&&(a.Activity.Calories=t.actCal.cor,a.Activity.Calories.Number=t.actCal,delete a.Activity.Calories.Number.cor),"actSteps"in t&&(a.Activity.Steps=t.actSteps.cor,a.Activity.Steps.Number=t.actSteps,delete a.Activity.Steps.Number.cor),"actStepsGoal"in t&&(a.Activity.StepsGoal=t.actStepsGoal.cor,a.Activity.StepsGoal.Number=t.actStepsGoal,delete a.Activity.StepsGoal.Number.cor),"actPulse"in t&&(a.Activity.Pulse=t.actPulse.cor,a.Activity.Pulse.Number=t.actPulse,delete a.Activity.Pulse.Number.cor),"actDistance"in t&&(a.Activity.Distance=t.actDistance)),t.weather&&(a.Weather={},"weathericon"in t&&(a.Weather.Icon=t.weathericon),("weatherCurrent"in t||"weatherDay"in t||"weatherNight"in t||"weatherOneLine"in t)&&(a.Weather.Temperature={},("weatherDay"in t||"weatherNight"in t||"weatherOneLine"in t)&&(a.Weather.Temperature.Today={},"weatherOneLine"in t&&(a.Weather.Temperature.Today.OneLine=t.weatherOneLine),("weatherDay"in t||"weatherNight"in t)&&(a.Weather.Temperature.Today.Separate={},"weatherDay"in t&&(a.Weather.Temperature.Today.Separate.Day=t.weatherDay),"weatherNight"in t&&(a.Weather.Temperature.Today.Separate.Night=t.weatherNight),"weatherDayAlt"in t&&(a.Weather.Temperature.Today.Separate.DayAlt={},a.Weather.Temperature.Today.Separate.DayAlt.X=t.weatherDayAlt.Number.TopLeftX,a.Weather.Temperature.Today.Separate.DayAlt.Y=t.weatherDayAlt.Number.TopLeftY),"weatherNightAlt"in t&&(a.Weather.Temperature.Today.Separate.NightAlt={},a.Weather.Temperature.Today.Separate.NightAlt.X=t.weatherNightAlt.Number.TopLeftX,a.Weather.Temperature.Today.Separate.NightAlt.Y=t.weatherNightAlt.Number.TopLeftY))),"weatherCurrent"in t&&(a.Weather.Temperature.Current=t.weatherCurrent)),("weatherAirIcon"in t||"weatherAirText"in t)&&(a.Weather.AirPollution={},"weatherAirIcon"in t&&(a.Weather.AirPollution.Icon=t.weatherAirIcon),"weatherAirText"in t&&(a.Weather.AirPollution.Index=t.weatherAirText))),t.stepsprogress&&(a.StepsProgress={},"stepscircle"in t&&(a.StepsProgress.Circle=t.stepscircle),"stepsLinear"in t&&(a.StepsProgress.Linear=t.stepsLinear),"stepsGoal"in t&&(a.StepsProgress.GoalImage=t.stepsGoal)),t.analog&&(a.AnalogDialFace={},"analoghours"in t&&(a.AnalogDialFace.Hours=t.analoghours),"analogminutes"in t&&(a.AnalogDialFace.Minutes=t.analogminutes),"analogseconds"in t&&(a.AnalogDialFace.Seconds=t.analogseconds)),a}},default_coords:JSON.parse('{"bg":{"Image":{"ImageIndex":293,"X":0,"Y":0}},"time":{"Hours":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":45,"Y":9},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":8,"Y":9}},"Minutes":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":45,"Y":84},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":8,"Y":83}}},"date":false,"battery":false,"status":false,"activity":false,"weather":false,"stepsprogress":false,"analog":false}')},band4:{height:240,width:120,tabs:["editor-tab","jsonEditor-tab","resources-tab"],images:{watchface_block:{left:31,top:108,height:402,width:154,image:"b4.png"}},data:{import:function(e){let t={};return"Background"in e&&(t.bg=e.Background),"Time"in e&&(t.time=e.Time,"Seconds"in e.Time&&(t.seconds=e.Time.Seconds,delete t.time.Seconds),"AmPm"in e.Time&&(t.amPm=e.Time.AmPm,delete t.time.AmPm)),"Date"in e?(t.date=!0,"WeekDay"in e.Date&&(t.weekDay=e.Date.WeekDay),"MonthAndDay"in e.Date&&(t.monthandday=e.Date.MonthAndDay,"Separate"in e.Date.MonthAndDay&&("Day"in e.Date.MonthAndDay.Separate&&(t.dateDay=e.Date.MonthAndDay.Separate.Day),"Month"in e.Date.MonthAndDay.Separate&&(t.dateMonth=e.Date.MonthAndDay.Separate.Month),delete t.monthandday.Separate),"OneLine"in e.Date.MonthAndDay&&(t.dateOneLine=e.Date.MonthAndDay.OneLine,delete t.monthandday.OneLine))):t.date=!1,"Battery"in e?(t.battery=!0,"Icon"in e.Battery&&(t.batteryIcon=e.Battery.Icon),"Text"in e.Battery&&(t.batteryText=e.Battery.Text.Number),"Scale"in e.Battery&&(t.batteryScale=e.Battery.Scale)):t.battery=!1,"Status"in e?(t.status=!0,"Alarm"in e.Status&&(t.statAlarm=e.Status.Alarm),"Bluetooth"in e.Status&&(t.statBt=e.Status.Bluetooth),"DoNotDisturb"in e.Status&&(t.statDnd=e.Status.DoNotDisturb),"Lock"in e.Status&&(t.statLock=e.Status.Lock)):t.status=!1,"Activity"in e?(t.activity=!0,"Calories"in e.Activity&&(t.actCal=e.Activity.Calories.Number,delete e.Activity.Calories.Number,t.actCal.cor=e.Activity.Calories),"Steps"in e.Activity&&(t.actSteps=e.Activity.Steps.Number,delete e.Activity.Steps.Number,t.actSteps.cor=e.Activity.Steps),"StepsGoal"in e.Activity&&(t.actStepsGoal=e.Activity.StepsGoal.Number,delete e.Activity.StepsGoal.Number,t.actStepsGoal.cor=e.Activity.StepsGoal),"Pulse"in e.Activity&&(t.actPulse=e.Activity.Pulse.Number,delete e.Activity.Pulse.Number,t.actPulse.cor=e.Activity.Pulse),"Distance"in e.Activity&&(t.actDistance=e.Activity.Distance)):t.activity=!1,"Weather"in e?(t.weather=!0,"Icon"in e.Weather&&(t.weathericon=e.Weather.Icon),"Temperature"in e.Weather&&("Today"in e.Weather.Temperature&&("OneLine"in e.Weather.Temperature.Today&&(t.weatherOneLine=e.Weather.Temperature.Today.OneLine),"Separate"in e.Weather.Temperature.Today&&("Day"in e.Weather.Temperature.Today.Separate&&(t.weatherDay=e.Weather.Temperature.Today.Separate.Day),"Night"in e.Weather.Temperature.Today.Separate&&(t.weatherNight=e.Weather.Temperature.Today.Separate.Night),"DayAlt"in e.Weather.Temperature.Today.Separate&&(t.weatherDayAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Day)),t.weatherDayAlt.Number.BottomRightX=t.weatherDayAlt.Number.BottomRightX-t.weatherDayAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.DayAlt.X,t.weatherDayAlt.Number.BottomRightY=t.weatherDayAlt.Number.BottomRightY-t.weatherDayAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.DayAlt.Y,t.weatherDayAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.DayAlt.X,t.weatherDayAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.DayAlt.Y),"NightAlt"in e.Weather.Temperature.Today.Separate&&(t.weatherNightAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Night)),t.weatherNightAlt.Number.BottomRightX=t.weatherNightAlt.Number.BottomRightX-t.weatherNightAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.NightAlt.X,t.weatherNightAlt.Number.BottomRightY=t.weatherNightAlt.Number.BottomRightY-t.weatherNightAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.NightAlt.Y,t.weatherNightAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.NightAlt.X,t.weatherNightAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.NightAlt.Y))),"Current"in e.Weather.Temperature&&(t.weatherCurrent=e.Weather.Temperature.Current)),"AirPollution"in e.Weather&&("Icon"in e.Weather.AirPollution&&(t.weatherAirIcon=e.Weather.AirPollution.Icon),"Index"in e.Weather.AirPollution&&(t.weatherAirText=e.Weather.AirPollution.Index))):t.weather=!1,"StepsProgress"in e?(t.stepsprogress=!0,"Circle"in e.StepsProgress&&(t.stepscircle=e.StepsProgress.Circle),"Linear"in e.StepsProgress&&(t.stepsLinear=e.StepsProgress.Linear),"GoalImage"in e.StepsProgress&&(t.stepsGoal=e.StepsProgress.GoalImage)):t.stepsprogress=!1,"AnalogDialFace"in e?(t.analog=!0,"Hours"in e.AnalogDialFace&&(t.analoghours=e.AnalogDialFace.Hours),"Minutes"in e.AnalogDialFace&&(t.analogminutes=e.AnalogDialFace.Minutes),"Seconds"in e.AnalogDialFace&&(t.analogseconds=e.AnalogDialFace.Seconds)):t.analog=!1,t},export:function(e){let t=JSON.parse(JSON.stringify(e)),a={};return"bg"in t&&(a.Background=t.bg),"time"in t&&(a.Time=t.time,"seconds"in t&&(a.Time.Seconds=t.seconds),"amPm"in t&&(a.Time.AmPm=t.amPm)),t.date&&(a.Date={},"weekDay"in t&&(a.Date.WeekDay=t.weekDay),"monthandday"in t&&(a.Date.MonthAndDay=t.monthandday,("dateDay"in t||"dateMonth"in t)&&(a.Date.MonthAndDay.Separate={},"dateDay"in t&&(a.Date.MonthAndDay.Separate.Day=t.dateDay),"dateMonth"in t&&(a.Date.MonthAndDay.Separate.Month=t.dateMonth)),"dateOneLine"in t&&(a.Date.MonthAndDay.OneLine=t.dateOneLine))),t.status&&(a.Status={},"statAlarm"in t&&(a.Status.Alarm=t.statAlarm),"statBt"in t&&(a.Status.Bluetooth=t.statBt),"statDnd"in t&&(a.Status.DoNotDisturb=t.statDnd),"statLock"in t&&(a.Status.Lock=t.statLock)),t.battery&&(a.Battery={},"batteryIcon"in t&&(a.Battery.Icon=t.batteryIcon),"batteryText"in t&&(a.Battery.Text={},a.Battery.Text.Number=t.batteryText),"batteryScale"in t&&(a.Battery.Scale=t.batteryScale)),t.activity&&(a.Activity={},"actCal"in t&&(a.Activity.Calories=t.actCal.cor,a.Activity.Calories.Number=t.actCal,delete a.Activity.Calories.Number.cor),"actSteps"in t&&(a.Activity.Steps=t.actSteps.cor,a.Activity.Steps.Number=t.actSteps,delete a.Activity.Steps.Number.cor),"actStepsGoal"in t&&(a.Activity.StepsGoal=t.actStepsGoal.cor,a.Activity.StepsGoal.Number=t.actStepsGoal,delete a.Activity.StepsGoal.Number.cor),"actPulse"in t&&(a.Activity.Pulse=t.actPulse.cor,a.Activity.Pulse.Number=t.actPulse,delete a.Activity.Pulse.Number.cor),"actDistance"in t&&(a.Activity.Distance=t.actDistance)),t.weather&&(a.Weather={},"weathericon"in t&&(a.Weather.Icon=t.weathericon),("weatherCurrent"in t||"weatherDay"in t||"weatherNight"in t||"weatherOneLine"in t)&&(a.Weather.Temperature={},("weatherDay"in t||"weatherNight"in t||"weatherOneLine"in t)&&(a.Weather.Temperature.Today={},"weatherOneLine"in t&&(a.Weather.Temperature.Today.OneLine=t.weatherOneLine),("weatherDay"in t||"weatherNight"in t)&&(a.Weather.Temperature.Today.Separate={},"weatherDay"in t&&(a.Weather.Temperature.Today.Separate.Day=t.weatherDay),"weatherNight"in t&&(a.Weather.Temperature.Today.Separate.Night=t.weatherNight),"weatherDayAlt"in t&&(a.Weather.Temperature.Today.Separate.DayAlt={},a.Weather.Temperature.Today.Separate.DayAlt.X=t.weatherDayAlt.Number.TopLeftX,a.Weather.Temperature.Today.Separate.DayAlt.Y=t.weatherDayAlt.Number.TopLeftY),"weatherNightAlt"in t&&(a.Weather.Temperature.Today.Separate.NightAlt={},a.Weather.Temperature.Today.Separate.NightAlt.X=t.weatherNightAlt.Number.TopLeftX,a.Weather.Temperature.Today.Separate.NightAlt.Y=t.weatherNightAlt.Number.TopLeftY))),"weatherCurrent"in t&&(a.Weather.Temperature.Current=t.weatherCurrent)),("weatherAirIcon"in t||"weatherAirText"in t)&&(a.Weather.AirPollution={},"weatherAirIcon"in t&&(a.Weather.AirPollution.Icon=t.weatherAirIcon),"weatherAirText"in t&&(a.Weather.AirPollution.Index=t.weatherAirText))),t.stepsprogress&&(a.StepsProgress={},"stepscircle"in t&&(a.StepsProgress.Circle=t.stepscircle),"stepsLinear"in t&&(a.StepsProgress.Linear=t.stepsLinear),"stepsGoal"in t&&(a.StepsProgress.GoalImage=t.stepsGoal)),t.analog&&(a.AnalogDialFace={},"analoghours"in t&&(a.AnalogDialFace.Hours=t.analoghours),"analogminutes"in t&&(a.AnalogDialFace.Minutes=t.analogminutes),"analogseconds"in t&&(a.AnalogDialFace.Seconds=t.analogseconds)),a}},default_coords:JSON.parse('{"bg":{"Image":{"ImageIndex":301,"X":0,"Y":0}},"time":{"Hours":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":68,"Y":26},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":23,"Y":26}},"Minutes":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":69,"Y":132},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":24,"Y":132}}},"date":false,"battery":false,"status":false,"activity":false,"weather":false,"stepsprogress":false,"analog":false}')}};function d(e){try{let t=new XMLHttpRequest;if(t.open("GET","assets/translation/"+e+".json",!1),t.send(),200!=t.status)throw"Respanse status: "+t.status;{e=JSON.parse(t.responseText);let a=document.querySelectorAll("[data-translate-id]");for(let t=0;t<a.length;t++)a[t].dataset.translateId in e&&(void 0===a[t].dataset.link?a[t].innerHTML=e[a[t].dataset.translateId]:a[t].innerHTML=e[a[t].dataset.translateId].replace(/\$link/g,a[t].dataset.link))}}catch(e){console.warn("Loading translation error",e),UIkit.notification("<b>Loading translation error: </b>"+e,{status:"danger",pos:"top-left",timeout:5e3})}}function l(e){switch("amazfit"==localStorage.appTheme&&(document.getElementsByClassName("uk-navbar-left")[0].innerHTML='<a class="uk-navbar-item uk-logo we-white" href="https://v1ack.github.io/watchfaceEditor/"><img src="assets/icon/android-chrome-192x192.png" style="width: auto; height: 60%; margin-right: 10px;">Watchface Editor</a>',document.getElementsByTagName("html")[0].style.background="",document.getElementsByClassName("uk-navbar")[0].style.height="",document.getElementsByClassName("uk-navbar")[0].classList.add("we-white"),document.getElementsByClassName("uk-navbar")[0].classList.remove("amazfit"),document.getElementsByClassName("uk-navbar-container")[0].style.background="linear-gradient(to left, #28a5f5, #1e87f0)",o("menu-amazfit").setAttribute("hidden",""),o("tablist-amazfit").setAttribute("hidden",""),o("tablist").removeAttribute("hidden"),o("donate-link").removeAttribute("hidden"),o("theme-settings").removeAttribute("hidden")),e){case"light":localStorage.appTheme="light",document.body.classList.remove("uk-light"),document.getElementsByTagName("html")[0].classList.remove("uk-background-secondary"),o("vars").classList.remove("uk-card-secondary"),o("modal-howto").childNodes[1].classList.remove("uk-background-secondary"),o("modal-about").childNodes[1].classList.remove("uk-background-secondary"),o("modal-donate").childNodes[1].classList.remove("uk-background-secondary"),o("jsonerrormodal").childNodes[1].classList.remove("uk-background-secondary"),o("modal-preview").childNodes[1].classList.remove("uk-background-secondary"),o("modal-settings").childNodes[1].classList.remove("uk-background-secondary");break;case"dark":localStorage.appTheme="dark",document.body.classList.add("uk-light"),document.getElementsByTagName("html")[0].classList.add("uk-background-secondary"),o("vars").classList.add("uk-card-secondary"),o("modal-howto").childNodes[1].classList.add("uk-background-secondary"),o("modal-about").childNodes[1].classList.add("uk-background-secondary"),o("modal-donate").childNodes[1].classList.add("uk-background-secondary"),o("jsonerrormodal").childNodes[1].classList.add("uk-background-secondary"),o("modal-preview").childNodes[1].classList.add("uk-background-secondary"),o("modal-settings").childNodes[1].classList.add("uk-background-secondary");break;case"amazfit":l("dark"),document.getElementsByClassName("uk-navbar-left")[0].innerHTML='<a class="uk-navbar-item uk-logo we-white" href="https://amazfitwatchfaces.com/"><img src="assets/logo.png" style="width: 200px; image-rendering: auto;"></a>',localStorage.appTheme="amazfit",document.getElementsByTagName("html")[0].style.background="#121314",document.getElementsByClassName("uk-navbar")[0].style.height="50px",document.getElementsByClassName("uk-navbar")[0].classList.remove("we-white"),document.getElementsByClassName("uk-navbar")[0].classList.add("amazfit"),document.getElementsByClassName("uk-navbar-container")[0].style.background="#222",o("menu-amazfit").removeAttribute("hidden"),o("tablist-amazfit").removeAttribute("hidden"),o("tablist").setAttribute("hidden",""),o("donate-link").setAttribute("hidden",""),o("theme-settings").setAttribute("hidden","")}}o("lang-ru").addEventListener("click",()=>{localStorage.lang="ru",d("russian")}),o("lang-en").addEventListener("click",()=>{localStorage.lang="en",d("english")}),o("lang-zh").addEventListener("click",()=>{localStorage.lang="zh",d("chinese")}),o("lang-de").addEventListener("click",()=>{localStorage.lang="de",d("german")}),o("lang-nl").addEventListener("click",()=>{localStorage.lang="nl",d("dutch")}),o("lang-tr").addEventListener("click",()=>{localStorage.lang="tr",d("turkish")}),o("theme-light").addEventListener("click",()=>l("light")),o("theme-dark").addEventListener("click",()=>l("dark"));var m={changeLang:d,changeTheme:l,change_device:function(e,t){localStorage.device=e;let a=c[e];o("watchface").style.height=a.height+"px",o("watchface").style.width=a.width+"px",o("svg-cont-steps").attributes.height.value=a.height,o("svg-cont-steps").attributes.width.value=a.width,o("svg-cont-clock").attributes.height.value=a.height,o("svg-cont-clock").attributes.width.value=a.width,o("svg-cont-steps").style.width=a.width+"px",o("editor").style.height=3*a.height+"px",o("editor").style.width=3*a.width+"px",o("analog").style.height=3*a.height+"px",o("analog").style.width=3*a.width+"px",o("watchfaceimage").style.background="url(assets/"+a.images.watchface_block.image+")",o("watchfaceimage").style.paddingLeft=a.images.watchface_block.left+"px",o("watchfaceimage").style.paddingTop=a.images.watchface_block.top+"px",o("watchfaceimage").style.height=a.images.watchface_block.height+"px",o("watchfaceimage").style.width=a.images.watchface_block.width+"px",t.default_coords=a.default_coords,t.converter=a.data;for(let e=0,t=document.getElementsByClassName("main-tab");e<t.length;e++)a.tabs.includes(t[e].id)?t[e].removeAttribute("hidden"):t[e].setAttribute("hidden","")}},h={view:{},coords:{},coordsHistory:[],data:{timeOnClock:["20","38"],seconds:[4,3],analog:[259,228,60],weekDay:2,day:6,month:12,battery:20,calories:860,steps:5687,stepsGoal:12e3,distance:[5,67],pulse:72,temp:[22,24],weathericon:0,air:300,alarm:!0,bluetooth:!0,dnd:!0,lock:!0,jsset:!1,imagesset:!1,wfname:"watchface",weatherAlt:!1},converter:null};h.elements={timeHoursTens:{name:"Time hours tens",editorId:"e_time_ht",prewiewClass:"c_time",coords:function(){return h.coords.time.Hours.Tens},drawFunc:function(){h.draw.time.time()}},timeHoursOnes:{name:"Time hours ones",editorId:"e_time_ho",prewiewClass:"c_time",coords:function(){return h.coords.time.Hours.Ones},drawFunc:function(){h.draw.time.time()}},timeMinutesTens:{name:"Time minutes tens",editorId:"e_time_mt",prewiewClass:"c_time",coords:function(){return h.coords.time.Minutes.Tens},drawFunc:function(){h.draw.time.time()}},timeMinutesOnes:{name:"Time minutes ones",editorId:"e_time_mo",prewiewClass:"c_time",coords:function(){return h.coords.time.Minutes.Ones},drawFunc:function(){h.draw.time.time()}},timeSecondsTens:{name:"Time seconds tens",editorId:"e_time_st",prewiewClass:"c_sec",coords:function(){return h.coords.seconds.Tens},drawFunc:function(){h.draw.time.seconds()}},timeSecondsOnes:{name:"Time seconds ones",editorId:"e_time_so",prewiewClass:"c_sec",coords:function(){return h.coords.seconds.Ones},drawFunc:function(){h.draw.time.seconds()}},timeM:{name:"AM/PM",editorId:"e_time_am",prewiewClass:"c_time_am",coords:function(){return h.coords.amPm},drawFunc:function(){h.draw.time.time()}},dateWeekday:{name:"Weekday",editorId:"e_date_weekDay",prewiewClass:"c_date_weekDay",coords:function(){return h.coords.weekDay},drawFunc:function(){h.draw.date.weekDay()}},dateDay:{name:"Day",editorId:"e_date_sep_day",prewiewClass:"c_date_sepday",coords:function(){return h.coords.dateDay},drawFunc:function(){h.draw.date.sepday()}},dateMonth:{name:"Month",editorId:"e_date_sep_month",prewiewClass:"c_date_sepmonth",coords:function(){return h.coords.dateMonth},drawFunc:function(){h.draw.date.sepmonth()}},dateOneLine:{name:"Date in one line",editorId:"e_date_oneline",prewiewClass:"c_date_oneline",coords:function(){return h.coords.dateOneLine.Number},drawFunc:function(){h.draw.date.oneline()}},actCalories:{name:"Calories",editorId:"e_act_cal",prewiewClass:"c_act_cal",coords:function(){return h.coords.actCal},drawFunc:function(){h.draw.activity.cal()}},actSteps:{name:"Steps",editorId:"e_act_steps",prewiewClass:"c_act_steps",coords:function(){return h.coords.actSteps},drawFunc:function(){h.draw.activity.steps()}},actStepsGoal:{name:"Steps goal",editorId:"e_act_stepsGoal",prewiewClass:"c_act_stepsg",coords:function(){return h.coords.actStepsGoal},drawFunc:function(){h.draw.activity.stepsGoal()}},actPulse:{name:"Pulse",editorId:"e_act_pulse",prewiewClass:"c_act_pulse",coords:function(){return h.coords.actPulse},drawFunc:function(){h.draw.activity.pulse()}},actDistance:{name:"Distance",editorId:"e_act_distance",prewiewClass:"c_act_distance",coords:function(){return h.coords.actDistance.Number},drawFunc:function(){h.draw.activity.distance()}},batteryIcon:{name:"Battery icon",editorId:"e_battery_icon",prewiewClass:"c_battery_icon",coords:function(){return h.coords.batteryIcon},drawFunc:function(){h.draw.battery.icon()}},batteryText:{name:"Battery text",editorId:"e_battery_text",prewiewClass:"c_battery_text",coords:function(){return h.coords.batteryText},drawFunc:function(){h.draw.battery.text()}},statAlarm:{name:"Alarm",editorId:"e_stat_alarm",prewiewClass:"c_stat_alarm",coords:function(){return h.coords.statAlarm.Coordinates},drawFunc:function(){h.draw.status.alarm()}},statBluetooth:{name:"Bluetooth",editorId:"e_stat_bt",prewiewClass:"c_stat_bt",coords:function(){return h.coords.statBt.Coordinates},drawFunc:function(){h.draw.status.bt()}},statDND:{name:"Do not distrurb",editorId:"e_stat_dnd",prewiewClass:"c_stat_dnd",coords:function(){return h.coords.statDnd.Coordinates},drawFunc:function(){h.draw.status.dnd()}},statLock:{name:"Lock",editorId:"e_stat_lock",prewiewClass:"c_stat_lock",coords:function(){return h.coords.statLock.Coordinates},drawFunc:function(){h.draw.status.lock()}},weatherIcon:{name:"Weather icon",editorId:"e_weather_icon",prewiewClass:"c_weather_icon",coords:function(){return h.coords.weathericon.CustomIcon},drawFunc:function(){h.draw.weather.icon()}},weatherOneLine:{name:"Weather in one line",editorId:"e_weather_temp_today_oneline",prewiewClass:"c_temp_oneline",coords:function(){return h.coords.weatherOneLine.Number},drawFunc:function(){h.draw.weather.temp.oneline()}},weatherDay:{name:"Weather day",editorId:"e_weather_temp_today_sep_day",prewiewClass:"c_temp_sep_day",coords:function(){return h.coords.weatherDay.Number},drawFunc:function(){h.draw.weather.temp.sep.day()}},weatherNight:{name:"Weather night",editorId:"e_weather_temp_today_sep_night",prewiewClass:"c_temp_sep_night",coords:function(){return h.coords.weatherNight.Number},drawFunc:function(){h.draw.weather.temp.sep.night()}},weatherDayAlt:{name:"Weather day alt",editorId:"e_weather_temp_today_sep_day_alt",prewiewClass:"c_temp_sep_day_a",coords:function(){return h.coords.weatherDayAlt.Number},drawFunc:function(){h.draw.weather.temp.sep.dayAlt()}},weatherNightAlt:{name:"Weather night alt",editorId:"e_weather_temp_today_sep_night_alt",prewiewClass:"c_temp_sep_night_a",coords:function(){return h.coords.weatherNightAlt.Number},drawFunc:function(){h.draw.weather.temp.sep.nightAlt()}},weatherCurrent:{name:"Current weather",editorId:"e_weather_temp_current",prewiewClass:"c_temp_cur",coords:function(){return h.coords.weatherCurrent.Number},drawFunc:function(){h.draw.weather.temp.current()}},weatherAirIcon:{name:"Air quality icon",editorId:"e_weather_air_icon",prewiewClass:"c_air_icon",coords:function(){return h.coords.weatherAirIcon},drawFunc:function(){h.draw.weather.airIcon()}},weatherAirText:{name:"Air quality",editorId:"e_weather_air_text",prewiewClass:"c_air_text",coords:function(){return h.coords.weatherAirText},drawFunc:function(){h.draw.weather.airText()}},stepsGoal:{name:"Steps goal",editorId:"e_steps_goal",prewiewClass:"c_steps_goal",coords:function(){return h.coords.stepsGoal},drawFunc:function(){h.draw.stepsprogress.goal()}}};var g=h;function u(e,t,a){"insertto"in e||(e.insertto="imagesinuse"),"addition"in e||(e.addition=""),void 0===a&&(a=1),void 0===t&&(a=0,t="",e.addition=e.addition.slice(2)),o(e.insertto).innerHTML+='<div class="imagessection"><div><span class="imagessection-h">'+e.label+'</span><span class="imagessection-description">ImageIndex: '+t+e.addition+'</span></div><div class="imagessection-images"></div></div>',(t-t%100)/100!=2&&(t-t%100)/100!=3||o(e.insertto).lastChild.classList.add("imagessection-def");for(let n=0;n<a;n++)o(e.insertto).lastChild.lastChild.appendChild(r(t+n)),o(e.insertto).lastChild.lastChild.lastChild.removeAttribute("id");if(arguments.length>3)for(let t=3;t<arguments.length;t++)o(e.insertto).lastChild.lastChild.appendChild(r(arguments[t])),o(e.insertto).lastChild.lastChild.lastChild.removeAttribute("id")}o("resources-tab").addEventListener("click",()=>(function(e){o("imagesinuse").innerHTML="",o("imagesavalible").innerHTML="","bg"in e&&u({label:"Background"},e.bg.Image.ImageIndex),"time"in e&&(u({label:"Time hours tens"},e.time.Hours.Tens.ImageIndex,e.time.Hours.Tens.ImagesCount),u({label:"Time hours ones"},e.time.Hours.Ones.ImageIndex,e.time.Hours.Ones.ImagesCount),u({label:"Time minutes tens"},e.time.Minutes.Tens.ImageIndex,e.time.Minutes.Tens.ImagesCount),u({label:"Time minutes ones"},e.time.Minutes.Ones.ImageIndex,e.time.Minutes.Ones.ImagesCount),"seconds"in e&&(u({label:"Time seconds tens"},e.seconds.Tens.ImageIndex,e.seconds.Tens.ImagesCount),u({label:"Time seconds ones"},e.seconds.Ones.ImageIndex,e.seconds.Ones.ImagesCount)),"amPm"in e&&u({label:"Time am/pm"},e.amPm.ImageIndexAm,1,e.amPm.ImageIndexPm)),e.date&&("weekDay"in e&&u({label:"Week day"},e.weekDay.ImageIndex,e.weekDay.ImagesCount),"dateDay"in e&&u({label:"Date day"},e.dateDay.ImageIndex,e.dateDay.ImagesCount),"dateMonth"in e&&u({label:"Date month"},e.dateMonth.ImageIndex,e.dateMonth.ImagesCount),"dateOneLine"in e&&u({label:"Date oneline",addition:", "+e.dateOneLine.DelimiterImageIndex},e.dateOneLine.Number.ImageIndex,e.dateOneLine.Number.ImagesCount,e.dateOneLine.DelimiterImageIndex)),e.battery&&("batteryIcon"in e&&u({label:"Battery icon"},e.batteryIcon.ImageIndex,e.batteryIcon.ImagesCount),"batteryText"in e&&u({label:"Battery text"},e.batteryText.ImageIndex,e.batteryText.ImagesCount),"batteryScale"in e&&u({label:"Battery scale"},e.batteryScale.StartImageIndex,e.batteryScale.Segments.length)),e.status&&("statAlarm"in e&&u({label:"Status alarm",addition:", "+e.statAlarm.ImageIndexOff},e.statAlarm.ImageIndexOn,1,e.statAlarm.ImageIndexOff),"statBt"in e&&u({label:"Status bluetooth",addition:", "+e.statBt.ImageIndexOff},e.statBt.ImageIndexOn,1,e.statBt.ImageIndexOff),"statDnd"in e&&u({label:"Status do not disturb",addition:", "+e.statDnd.ImageIndexOff},e.statDnd.ImageIndexOn,1,e.statDnd.ImageIndexOff),"statLock"in e&&u({label:"Status lock",addition:", "+e.statLock.ImageIndexOff},e.statLock.ImageIndexOn,1,e.statLock.ImageIndexOff)),e.activity&&("actCal"in e&&u({label:"Activity calories"},e.actCal.ImageIndex,e.actCal.ImagesCount),"actSteps"in e&&u({label:"Activity steps"},e.actSteps.ImageIndex,e.actSteps.ImagesCount),"statstepsGoal"in e&&u({label:"Activity steps goal"},e.actStepsGoal.ImageIndex,e.actStepsGoal.ImagesCount),"actPulse"in e&&u({label:"Activity pulse"},e.actPulse.ImageIndex,e.actPulse.ImagesCount),"actDistance"in e&&u({label:"Activity distance",addition:", "+e.actDistance.DecimalPointImageIndex+", "+e.actDistance.SuffixImageIndex},e.actDistance.Number.ImageIndex,e.actDistance.Number.ImagesCount,e.actDistance.DecimalPointImageIndex,e.actDistance.SuffixImageIndex)),e.weather&&(e.weathericon&&"CustomIcon"in e.weathericon&&u({label:"Weather icons"},e.weathericon.CustomIcon.ImageIndex,e.weathericon.CustomIcon.ImagesCount),"weatherOneLine"in e&&u({label:"Weather oneline",addition:", "+e.weatherOneLine.MinusSignImageIndex+", "+e.weatherOneLine.DelimiterImageIndex+", "+e.weatherOneLine.DegreesImageIndex},e.weatherOneLine.Number.ImageIndex,e.weatherOneLine.Number.ImagesCount,e.weatherOneLine.MinusSignImageIndex,e.weatherOneLine.DelimiterImageIndex,e.weatherOneLine.DegreesImageIndex),"weatherDay"in e&&u({label:"Weather day",addition:", "+e.weatherDay.MinusImageIndex},e.weatherDay.Number.ImageIndex,e.weatherDay.Number.ImagesCount,e.weatherDay.MinusImageIndex),"weatherNight"in e&&u({label:"Weather night",addition:", "+e.weatherNight.MinusImageIndex},e.weatherNight.Number.ImageIndex,e.weatherNight.Number.ImagesCount,e.weatherNight.MinusImageIndex),"weatherCurrent"in e&&u({label:"Weather current",addition:", "+e.weatherCurrent.MinusImageIndex+", "+e.weatherCurrent.DegreesImageIndex},e.weatherCurrent.Number.ImageIndex,e.weatherCurrent.Number.ImagesCount,e.weatherCurrent.MinusImageIndex,e.weatherCurrent.DegreesImageIndex),"weatherAirIcon"in e&&u({label:"Weather air pollution"},e.weatherAirIcon.ImageIndex,e.weatherAirIcon.ImagesCount)),e.stepsprogress&&("stepsLinear"in e&&u({label:"Steps progress"},e.stepsLinear.StartImageIndex,e.stepsLinear.Segments.length),"stepsGoal"in e&&u({label:"Goal image"},e.stepsGoal.ImageIndex,1)),u({label:"Big digits",insertto:"imagesavalible"},255,10),u({label:"Digits",insertto:"imagesavalible"},200,10),u({label:"Week days",insertto:"imagesavalible"},210,7),u({label:"Week days russian",insertto:"imagesavalible"},241,7),u({label:"Week days russian inverted",insertto:"imagesavalible"},248,7),u({label:"Week days finnish",insertto:"imagesavalible"},294,7),u({label:"Battery icon",insertto:"imagesavalible"},225,6),u({label:"Air pollution",insertto:"imagesavalible"},235,6),u({label:"Weather symbols",insertto:"imagesavalible",addition:", 218, 219"},217,3),u({label:"Bluetooth",insertto:"imagesavalible",addition:", 221"},220,2),u({label:"Distance symbols",insertto:"imagesavalible",addition:", 232"},231,2),u({label:"Am/Pm",insertto:"imagesavalible",addition:", 234"},233,2),u({label:"Status images",insertto:"imagesavalible",addition:", 223, 224"},222,3),u({label:"Steps goal image",insertto:"imagesavalible"},266,1),u({label:"Weather icons",insertto:"imagesavalible"},267,26)})(g.coords));let p=["seconds","amPm","weekDay","dateDay","dateMonth","dateOneLine","batteryIcon","batteryText","batteryScale","statAlarm","statBt","statDnd","statLock","actCal","actSteps","actStepsGoal","actPulse","actDistance","weatherOneLine","weatherDay","weatherNight","weatherCurrent","stepsLinear","stepsGoal","weatherAirIcon","weatherAirText","weatherDayAlt","weatherNightAlt"];function y(e,t){t?(o(e).classList.add("uk-button-primary"),o(e).classList.remove("uk-button-default")):(o(e).classList.remove("uk-button-primary"),o(e).classList.add("uk-button-default"))}function w(){var e;o("codearea").innerHTML=JSON.stringify(g.converter.export(g.coords),null,4).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"}),b()?o("defaultimages").classList.add("uk-label-success"):o("defaultimages").classList.remove("uk-label-success"),g.makeWf();for(let t in p)(e=p[t])in g.coords?y("tg-"+e,1):y("tg-"+e,0);g.coords.weather&&g.coords.weathericon?"CustomIcon"in g.coords.weathericon?(y("tg-weatherIconCustom",1),y("tg-weatherIcon",0)):(y("tg-weatherIcon",1),y("tg-weatherIconCustom",0)):(y("tg-weatherIcon",0),y("tg-weatherIconCustom",0))}let I={amPm:'"AmPm":',seconds:'"Seconds":',weekDay:'"WeekDay":',dateOneLine:'"MonthAndDay":',dateDay:'"MonthAndDay":',dateMonth:'"Month":',statAlarm:'"Alarm":',statBt:'"Bluetooth":',statLock:'"Lock":',statDnd:'"DoNotDisturb":',actSteps:'"Steps":',actStepsGoal:'"StepsGoal":',actCal:'"Calories":',actDistance:'"Distance":',actPulse:'"Pulse":',batteryIcon:'"Battery":',batteryText:'"Battery":',batteryScale:'"Battery":',weatherIcon:'"Weather":',weatherIconCustom:'"CustomIcon":',weatherAirIcon:'"AirPollution":',weatherAirText:'"AirPollution":',weatherOneLine:'"Temperature":',weatherCurrent:'"Current":',weatherDay:'"Temperature":',weatherNight:'"Night":',stepsGoal:'"GoalImage":',stepsLinear:'"Linear":',weatherDayAlt:'"DayAlt":',weatherNightAlt:'"NightAlt":'};function f(e){switch(e){case"amPm":"amPm"in g.coords?delete g.coords.amPm:g.coords.amPm={X:0,Y:0,ImageIndexAm:233,ImageIndexPm:234};break;case"seconds":"seconds"in g.coords?delete g.coords.seconds:g.coords.seconds={Tens:{X:0,Y:0,ImageIndex:200,ImagesCount:10},Ones:{X:10,Y:0,ImageIndex:200,ImagesCount:10}};break;case"weekDay":"weekDay"in g.coords?(delete g.coords.weekDay,"monthandday"in g.coords||(g.coords.date=!1)):(g.coords.date=!0,g.coords.weekDay={X:0,Y:0,ImageIndex:210,ImagesCount:7});break;case"dateOneLine":"dateOneLine"in g.coords?(delete g.coords.dateOneLine,"weekDay"in g.coords||(g.coords.date=!1),"dateDay"in g.coords||"dateMonth"in g.coords||delete g.coords.monthandday):(g.coords.date=!0,g.coords.monthandday={TwoDigitsMonth:!0,TwoDigitsDay:!0},g.coords.dateOneLine={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:42,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},DelimiterImageIndex:219});break;case"dateDay":"dateDay"in g.coords?(delete g.coords.dateDay,"dateMonth"in g.coords||"dateOneLine"in g.coords||(delete g.coords.monthandday,g.coords.date=!1),"weekDay"in g.coords&&(g.coords.date=!0)):(g.coords.date=!0,"monthandday"in g.coords||(g.coords.monthandday={TwoDigitsMonth:!0,TwoDigitsDay:!0}),g.coords.dateDay={TopLeftX:0,TopLeftY:0,BottomRightX:15,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10});break;case"dateMonth":"dateMonth"in g.coords?(delete g.coords.dateMonth,"dateDay"in g.coords||"dateOneLine"in g.coords||(delete g.coords.monthandday,g.coords.date=!1),"weekDay"in g.coords&&(g.coords.date=!0)):(g.coords.date=!0,"monthandday"in g.coords||(g.coords.monthandday={TwoDigitsMonth:!0,TwoDigitsDay:!0}),g.coords.dateMonth={TopLeftX:0,TopLeftY:0,BottomRightX:15,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10});break;case"statAlarm":g.coords.status||(g.coords.status=!0),"statAlarm"in g.coords?(delete g.coords.statAlarm,"statAlarm"in g.coords||"statBt"in g.coords||"statLock"in g.coords||"statDnd"in g.coords||(g.coords.status=!1)):g.coords.statAlarm={Coordinates:{X:0,Y:0},ImageIndexOn:224};break;case"statBt":g.coords.status||(g.coords.status=!0),"statBt"in g.coords?(delete g.coords.statBt,"statAlarm"in g.coords||"statBt"in g.coords||"statLock"in g.coords||"statDnd"in g.coords||(g.coords.status=!1)):g.coords.statBt={Coordinates:{X:0,Y:0},ImageIndexOn:220,ImageIndexOff:221};break;case"statLock":g.coords.status||(g.coords.status=!0),"statLock"in g.coords?(delete g.coords.statLock,"statAlarm"in g.coords||"statBt"in g.coords||"statLock"in g.coords||"statDnd"in g.coords||(g.coords.status=!1)):g.coords.statLock={Coordinates:{X:0,Y:0},ImageIndexOn:223};break;case"statDnd":g.coords.status||(g.coords.status=!0),"statDnd"in g.coords?(delete g.coords.statDnd,"statAlarm"in g.coords||"statBt"in g.coords||"statLock"in g.coords||"statDnd"in g.coords||(g.coords.status=!1)):g.coords.statDnd={Coordinates:{X:0,Y:0},ImageIndexOn:222};break;case"actSteps":g.coords.activity||(g.coords.activity=!0),"actSteps"in g.coords?(delete g.coords.actSteps,"actSteps"in g.coords||"actStepsGoal"in g.coords||"actCal"in g.coords||"actPulse"in g.coords||"actDistance"in g.coords||(g.coords.activity=!1)):(g.coords.actSteps={TopLeftX:0,TopLeftY:0,BottomRightX:42,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"==localStorage.device&&(g.coords.actSteps.cor={}));break;case"actCal":g.coords.activity||(g.coords.activity=!0),"actCal"in g.coords?(delete g.coords.actCal,"actSteps"in g.coords||"actStepsGoal"in g.coords||"actCal"in g.coords||"actPulse"in g.coords||"actDistance"in g.coords||(g.coords.activity=!1)):(g.coords.actCal={TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"==localStorage.device&&(g.coords.actSteps.cor={}));break;case"actPulse":g.coords.activity||(g.coords.activity=!0),"actPulse"in g.coords?(delete g.coords.actPulse,"actSteps"in g.coords||"actStepsGoal"in g.coords||"actCal"in g.coords||"actPulse"in g.coords||"actDistance"in g.coords||(g.coords.activity=!1)):(g.coords.actPulse={TopLeftX:0,TopLeftY:0,BottomRightX:24,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"==localStorage.device&&(g.coords.actSteps.cor={}));break;case"actStepsGoal":g.coords.activity||(g.coords.activity=!0),"actStepsGoal"in g.coords?(delete g.coords.actStepsGoal,"actSteps"in g.coords||"actStepsGoal"in g.coords||"actCal"in g.coords||"actPulse"in g.coords||"actDistance"in g.coords||(g.coords.activity=!1)):(g.coords.actStepsGoal={TopLeftX:0,TopLeftY:0,BottomRightX:42,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"==localStorage.device&&(g.coords.actSteps.cor={}));break;case"actDistance":g.coords.activity||(g.coords.activity=!0),"actDistance"in g.coords?(delete g.coords.actDistance,"actSteps"in g.coords||"actStepsGoal"in g.coords||"actCal"in g.coords||"actPulse"in g.coords||"actDistance"in g.coords||(g.coords.activity=!1)):g.coords.actDistance={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:58,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},SuffixImageIndex:231,DecimalPointImageIndex:232};break;case"batteryIcon":g.coords.battery||(g.coords.battery=!0),"batteryIcon"in g.coords?(delete g.coords.batteryIcon,"batteryIcon"in g.coords||"batteryScale"in g.coords||"batteryText"in g.coords||(g.coords.battery=!1)):g.coords.batteryIcon={X:0,Y:0,ImageIndex:225,ImagesCount:6};break;case"batteryText":g.coords.battery||(g.coords.battery=!0),"batteryText"in g.coords?(delete g.coords.batteryText,"batteryIcon"in g.coords||"batteryScale"in g.coords||"batteryText"in g.coords||(g.coords.battery=!1)):g.coords.batteryText={TopLeftX:0,TopLeftY:0,BottomRightX:24,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10};break;case"batteryScale":g.coords.battery||(g.coords.battery=!0),"batteryScale"in g.coords?(delete g.coords.batteryScale,"batteryIcon"in g.coords||"batteryScale"in g.coords||"batteryText"in g.coords||(g.coords.battery=!1)):g.coords.batteryScale={StartImageIndex:200,Segments:[{X:55,Y:0},{X:65,Y:0},{X:75,Y:0},{X:85,Y:0},{X:95,Y:0},{X:105,Y:0},{X:115,Y:0}]};break;case"weatherIcon":g.coords.weather||(g.coords.weather=!0),g.coords.weathericon?(delete g.coords.weathericon,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weathericon={Coordinates:{X:0,Y:0}};break;case"weatherIconCustom":g.coords.weather||(g.coords.weather=!0),g.coords.weathericon?(delete g.coords.weathericon,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weathericon={CustomIcon:{X:0,Y:0,ImageIndex:267,ImagesCount:26}};break;case"weatherAirIcon":g.coords.weather||(g.coords.weather=!0),"weatherAirIcon"in g.coords?(delete g.coords.weatherAirIcon,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherAirIcon={X:0,Y:0,ImageIndex:235,ImagesCount:6};break;case"weatherAirText":g.coords.weather||(g.coords.weather=!0),"weatherAirText"in g.coords?(delete g.coords.weatherAirText,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherAirText={TopLeftX:0,TopLeftY:0,BottomRightX:24,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10};break;case"weatherOneLine":g.coords.weather||(g.coords.weather=!0),"weatherOneLine"in g.coords?(delete g.coords.weatherOneLine,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherOneLine={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:66,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusSignImageIndex:217,DelimiterImageIndex:219,AppendDegreesForBoth:!1,DegreesImageIndex:218};break;case"weatherCurrent":g.coords.weather||(g.coords.weather=!0),"weatherCurrent"in g.coords?(delete g.coords.weatherCurrent,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherCurrent={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218};break;case"weatherDay":g.coords.weather||(g.coords.weather=!0),"weatherDay"in g.coords?(delete g.coords.weatherDay,delete g.coords.weatherDayAlt,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherDay={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218};break;case"weatherNight":g.coords.weather||(g.coords.weather=!0),"weatherNight"in g.coords?(delete g.coords.weatherNight,delete g.coords.weatherNightAlt,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherNight={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218};break;case"weatherDayAlt":"weatherDayAlt"in g.coords?delete g.coords.weatherDayAlt:g.coords.weather&&"weatherDay"in g.coords?g.coords.weatherDayAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:g.coords.weatherDay.Number.BottomRightX-g.coords.weatherDay.Number.TopLeftX+10,BottomRightY:g.coords.weatherDay.Number.BottomRightY-g.coords.weatherDay.Number.TopLeftY+10,Alignment:"TopLeft",Spacing:g.coords.weatherDay.Number.Spacing,ImageIndex:g.coords.weatherDay.Number.ImageIndex,ImagesCount:g.coords.weatherDay.Number.ImagesCount},MinusImageIndex:g.coords.weatherDay.Number.MinusImageIndex,DegreesImageIndex:g.coords.weatherDay.Number.DegreesImageIndex}:(g.coords.weather=!0,g.coords.weatherDay={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218},g.coords.weatherDayAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:43,BottomRightY:19,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218});break;case"weatherNightAlt":"weatherNightAlt"in g.coords?delete g.coords.weatherNightAlt:g.coords.weather&&"weatherNight"in g.coords?g.coords.weatherNightAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:g.coords.weatherNight.Number.BottomRightX-g.coords.weatherNight.Number.TopLeftX+10,BottomRightY:g.coords.weatherNight.Number.BottomRightY-g.coords.weatherNight.Number.TopLeftY+10,Alignment:"TopLeft",Spacing:g.coords.weatherNight.Number.Spacing,ImageIndex:g.coords.weatherNight.Number.ImageIndex,ImagesCount:g.coords.weatherNight.Number.ImagesCount},MinusImageIndex:g.coords.weatherNight.Number.MinusImageIndex,DegreesImageIndex:g.coords.weatherNight.Number.DegreesImageIndex}:(g.coords.weather=!0,g.coords.weatherNight={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218},g.coords.weatherNightAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:43,BottomRightY:19,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218});break;case"stepsGoal":g.coords.stepsprogress||(g.coords.stepsprogress=!0),"stepsGoal"in g.coords?(delete g.coords.stepsGoal,"stepsLinear"in g.coords||"stepsGoal"in g.coords||"stepscircle"in g.coords||(g.coords.stepsprogress=!1)):g.coords.stepsGoal={X:0,Y:0,ImageIndex:266};break;case"stepsLinear":g.coords.stepsprogress||(g.coords.stepsprogress=!0),"stepsLinear"in g.coords?(delete g.coords.stepsLinear,"stepsLinear"in g.coords||"stepsGoal"in g.coords||"stepscircle"in g.coords||(g.coords.stepsprogress=!1)):g.coords.stepsLinear={StartImageIndex:200,Segments:[{X:50,Y:160},{X:60,Y:160},{X:70,Y:160},{X:80,Y:160},{X:90,Y:160},{X:100,Y:160},{X:110,Y:160},{X:120,Y:160}]};break;default:console.error("Error in toggle: ",e)}w(),function(e){var t,a,r=function(e){for(var t=0;t<o("codearea").childNodes.length;t++)if("SPAN"==o("codearea").childNodes[t].tagName&&o("codearea").childNodes[t].childNodes[0].data==e)return o("codearea").childNodes[t]}(e);if(!r)return 0;(t=document.createRange()).selectNode(r.childNodes[0]),(a=window.getSelection()).removeAllRanges(),a.addRange(t),o("codearea").scrollTop=r.offsetTop-200}(I[e])}function b(e){var t=Array();for(let e=0;e<o("watchface").childNodes.length;e++)o("watchface").childNodes[e].classList.contains("default-image")&&t.push(o("watchface").childNodes[e].src.slice(-7,-4));t.sort();for(let e=t.length-1;e>0;e--)t[e]==t[e-1]&&t.splice(e,1);return e&&t.length&&UIkit.notification(("checkImages"in g.app.lang?g.app.lang.checkImages:"Check images in watchface folder. At least images with index(s): ")+t,{status:"warning",pos:"top-left",timeout:5e3}),t.length}function S(){var e;if(b(1),"stepsLinear"in g.coords&&g.coords.stepsLinear.Segments.length>20&&(e="imagesLimitSteps"in g.app.lang?g.app.lang.imagesLimitSteps:"Image limit for steps progress is 20. If you use more, they won't be dispaly",UIkit.notification(e,{status:"warning",pos:"top-left",timeout:5e3})),g.app.notWebkitBased){let e=new Blob([JSON.stringify(g.converter.export(g.coords),null,4)],{type:"text/plain;charset=utf-8"});saveAs(e,g.data.wfname+".json")}else{let e=document.createElement("a");e.href="data:application/octet-stream;base64, "+btoa(JSON.stringify(g.converter.export(g.coords),null,4)),e.download=g.data.wfname+".json",e.click()}}o("jsonEditor-tab").addEventListener("click",()=>(w(),void(g.app.firstopen_editor&&localStorage.showcount<8&&(sessionStorage.firstopen_editor=!1,UIkit.notification("jsonupdate"in g.app.lang?g.app.lang.jsonupdate:"To update pre.just click out of JSON input",{status:"primary",pos:"top-left",timeout:3e3}),g.app.firstopen_editor=!1)))),o("editor-export").addEventListener("click",()=>S()),o("jsoneditor-export").addEventListener("click",()=>S()),o("jsoneditor-undo").addEventListener("click",()=>void(g.coordsHistory.length&&(g.coords=JSON.parse(g.coordsHistory.pop()),w()))),o("codearea").addEventListener("blur",()=>(function(){try{g.coordsHistory.push(JSON.stringify(g.coords)),g.coords=g.converter.import(jsonlint.parse(o("codearea").innerText)),w()}catch(e){o("jsonerrortext").innerHTML=e,setTimeout(function(){UIkit.modal(o("jsonerrormodal")).show()},250),console.warn(e)}})());let T=document.getElementsByClassName("editor-button"),D=e=>{f(e.target.id.split("-")[1])};for(let e=0;e<T.length;e++)T[e].addEventListener("click",D);function A(){if("bg"in g.coords){var e=r(g.coords.bg.Image.ImageIndex);e.style.left=3*g.coords.bg.Image.X+"px",e.style.top=3*g.coords.bg.Image.Y+"px",e.style.position="absolute",e.style.zIndex=-1,e.height*=3,e.width*=3,e.removeAttribute("id"),e.ondragstart=function(){return!1},o("analog-bg").appendChild(e)}o("analog-color").onchange=function(){v.Color=o("analog-color").value,x()},o("analog-center-x").onchange=function(){v.Center.X=Number(o("analog-center-x").value),x()},o("analog-center-y").onchange=function(){v.Center.Y=Number(o("analog-center-y").value),x()},o("analog-fill").onchange=function(){o("analog-fill").checked?v.OnlyBorder=!1:v.OnlyBorder=!0,x()},x(void 0!==N?N:"hours")}function x(e){if(void 0!==e){switch(e){case"hours":v=g.coords.analoghours;break;case"minutes":v=g.coords.analogminutes;break;case"seconds":v=g.coords.analogseconds}N=e}if(k=0,g.makeWf(),o("analog").innerHTML="","analog"+N in g.coords){for(var t in o("analog").innerHTML+='<div class="analog-center" style="left: '+(3*v.Center.X-11)+"px;top:"+(3*v.Center.Y-11)+'px"></div>',o("analog").innerHTML+='<div class="analog-line" style="left: '+(3*v.Center.X-3)+"px;height:"+(3*v.Center.Y-11)+'px"></div>',o("analog").innerHTML+='<svg id="analogsvg" width="528" height="528"></svg>',o("analog").childNodes.length)o("analog").childNodes[t].oncontextmenu=event.preventDefault();!function(e,t){let a=e.Color.replace("0x","#"),r="M "+3*e.Shape[0].X+" "+3*e.Shape[0].Y,n=e.Shape.length,s=e.OnlyBorder?"none":a,i=e=>{e.preventDefault(),L(e)};for(let t=0;t<n;t++){r+="L "+3*e.Shape[t].X+" "+3*e.Shape[t].Y+" ";let a=document.createElement("div");a.classList.add("analog-dot"),a.id="dot"+k++,a.style.left=3*e.Shape[t].Y+3*e.Center.X-4+"px",a.style.top=3*e.Shape[t].X*-1+3*e.Center.Y-4+"px",a.oncontextmenu=i,C(a,v.Shape[t]),o("analog").appendChild(a)}r+="L "+3*e.Shape[0].X+" "+3*e.Shape[0].Y+" ",o("analogsvg").innerHTML+='<path d="'+r+'" transform="rotate('+(t-90)+" "+3*e.Center.X+" "+3*e.Center.Y+") translate("+3*e.Center.X+" "+3*e.Center.Y+') " fill="'+s+'" stroke="'+a+'"></path>',"CenterImage"in e&&g.view.setPosN(e.CenterImage,0,"c_an_img")}(v,0),o("analog").onclick=function(e){!function(e){if(k>=12)return;var t=g.editor.getOffsetRect(o("analog")),a=document.createElement("div");a.classList.add("analog-dot"),a.id="dot"+k++,a.style.left=e.pageX-t.left-(e.pageX-t.left)%3+"px",a.style.top=e.pageY-t.top-(e.pageY-t.top)%3+"px",a.oncontextmenu=function(e){e.preventDefault(),L(e)};var r={X:(Number(a.style.top.replace("px",""))+3-3*v.Center.X)/-3,Y:(Number(a.style.left.replace("px",""))+3-3*v.Center.X)/3};v.Shape.push(r),x(N)}(e)},o("analog-center-x").value=v.Center.X,o("analog-center-y").value=v.Center.Y,o("analog-fill").checked=!v.OnlyBorder,o("analog-color").style.backgroundColor=v.Color,o("analog-color").value=""}else o("analog").onclick=function(e){return!1}}function L(e){k>2&&(v.Shape.splice(Number(e.target.id.replace("dot","")),1),k--,x(N))}let v={},N="hours",k=0;function C(e,t){e.onmousedown=function(a){if(1==a.which){var r,n=g.editor.getOffsetRect(o("analog")),s={top:(r=e.getBoundingClientRect()).top+pageYOffset,left:r.left+pageXOffset},i=a.pageX-s.left,c=a.pageY-s.top;e.style.position="absolute",d(a),e.style.zIndex=1e3,o("analog").onmousemove=function(e){d(e)},e.onmouseup=function(){o("analog").onmousemove=null,e.onmouseup=null,e.style.zIndex="auto",e.style.top=g.editor.styleToNum(e.style.top)>0&&g.editor.styleToNum(e.style.top)<528?g.editor.styleToNum(e.style.top)-g.editor.styleToNum(e.style.top)%3+"px":"0px",e.style.left=g.editor.styleToNum(e.style.left)>0&&g.editor.styleToNum(e.style.left)<528?g.editor.styleToNum(e.style.left)-g.editor.styleToNum(e.style.left)%3+"px":"0px",t.X=(Number(e.style.top.replace("px",""))+3-3*v.Center.X)/-3,t.Y=(Number(e.style.left.replace("px",""))+3-3*v.Center.X)/3,x(N)}}function d(t){e.style.left=t.pageX-n.left-i+"px",e.style.top=t.pageY-n.top-c+"px"}},e.ondragstart=function(){return!1}}o("analog-watch-tab").addEventListener("click",()=>{A(),UIkit.tab(o("analog-tab")).show(0)}),o("analog-toggle").addEventListener("click",()=>(function(e){switch(e){case"hours":"analoghours"in g.coords?(delete g.coords.analoghours,"analoghours"in g.coords||"analogseconds"in g.coords||"analogminutes"in g.coords||(g.coords.analog=!1)):(g.coords.analog=!0,g.coords.analoghours={Center:{X:88,Y:88},Color:"0xFFFFFF",OnlyBorder:!1,Shape:[{X:-17,Y:-2},{X:54,Y:-2},{X:54,Y:1},{X:-17,Y:1}]});break;case"minutes":"analogminutes"in g.coords?(delete g.coords.analogminutes,"analoghours"in g.coords||"analogseconds"in g.coords||"analogminutes"in g.coords||(g.coords.analog=!1)):(g.coords.analog=!0,g.coords.analogminutes={Center:{X:88,Y:88},Color:"0xFFFFFF",OnlyBorder:!1,Shape:[{X:-17,Y:-2},{X:68,Y:-2},{X:68,Y:1},{X:-17,Y:1}]});break;case"seconds":"analogseconds"in g.coords?(delete g.coords.analogseconds,"analoghours"in g.coords||"analogseconds"in g.coords||"analogminutes"in g.coords||(g.coords.analog=!1)):(g.coords.analog=!0,g.coords.analogseconds={Center:{X:88,Y:88},Color:"0xFF0000",OnlyBorder:!1,Shape:[{X:-21,Y:-1},{X:82,Y:-1},{X:82,Y:0},{X:-21,Y:0}]})}A()})(N)),o("analog-hours").addEventListener("click",()=>x("hours")),o("analog-minutes").addEventListener("click",()=>x("minutes")),o("analog-seconds").addEventListener("click",()=>x("seconds"));let _={time:{time:function(){var e=g.data.timeOnClock[0];if("amPm"in g.coords){var t=1;Number(e)>12?(1==(e=(Number(e)-12).toString()).length&&(e="0"+e),t=0):12==Number(e)&&(t=0);let a=r(t?g.coords.amPm.ImageIndexAm:g.coords.amPm.ImageIndexPm);M(a,g.coords.amPm),B(a,"c_time_am")}if(O(g.coords.time.Hours.Tens,Number(e[0]),"c_time"),O(g.coords.time.Hours.Ones,Number(e[1]),"c_time"),O(g.coords.time.Minutes.Tens,Number(g.data.timeOnClock[1][0]),"c_time"),O(g.coords.time.Minutes.Ones,Number(g.data.timeOnClock[1][1]),"c_time"),"DrawingOrder"in g.coords.time){var a=document.getElementsByClassName("c_time");a[0].style.zIndex=Number(g.coords.time.DrawingOrder[0]),a[1].style.zIndex=Number(g.coords.time.DrawingOrder[1]),a[2].style.zIndex=Number(g.coords.time.DrawingOrder[2]),a[3].style.zIndex=Number(g.coords.time.DrawingOrder[3])}},seconds:function(){O(g.coords.seconds.Tens,g.data.seconds[0],"c_sec"),O(g.coords.seconds.Ones,g.data.seconds[1],"c_sec")}},date:{weekDay:function(){O(g.coords.weekDay,g.data.weekDay,"c_date_weekDay")},sepday:function(){var e=P(g.coords.dateDay,g.data.day);g.coords.monthandday.TwoDigitsDay&&(n(g.data.day,10)||(e.block.splice(-1,0,r(g.coords.dateDay.ImageIndex)),e.width+=o(g.coords.dateDay.ImageIndex).width+g.coords.dateDay.Spacing)),W(e.block,e.width,g.coords.dateDay,"c_date_sepday")},sepmonth:function(){var e=P(g.coords.dateMonth,g.data.month);g.coords.monthandday.TwoDigitsMonth&&(n(g.data.month,10)||(e.block.splice(-1,0,r(g.coords.dateMonth.ImageIndex)),e.width+=o(g.coords.dateMonth.ImageIndex).width+g.coords.dateMonth.Spacing)),W(e.block,e.width,g.coords.dateMonth,"c_date_sepmonth")},oneline:function(){let e=r(g.coords.dateOneLine.DelimiterImageIndex),t=P(g.coords.dateOneLine.Number,g.data.month);g.coords.monthandday.TwoDigitsMonth&&(n(g.data.month,10)||(t.block.splice(-1,0,r(g.coords.dateOneLine.Number.ImageIndex)),t.width+=o(g.coords.dateOneLine.Number.ImageIndex).width+g.coords.dateOneLine.Number.Spacing)),t.block.push(e),t.width+=e.width+g.coords.dateOneLine.Number.Spacing;var a=P(g.coords.dateOneLine.Number,g.data.day);t.block=t.block.concat(a.block),g.coords.monthandday.TwoDigitsDay&&(n(g.data.day,10)||(t.block.splice(-1,0,r(g.coords.dateOneLine.Number.ImageIndex)),t.width+=o(g.coords.dateOneLine.Number.ImageIndex).width+g.coords.dateOneLine.Number.Spacing)),t.width+=a.width,W(t.block,t.width,g.coords.dateOneLine.Number,"c_date_oneline")}},battery:{icon:function(){var e=Math.round(g.data.battery/(100/(g.coords.batteryIcon.ImagesCount-1)));O(g.coords.batteryIcon,e,"c_battery_icon")},text:function(){Y(g.coords.batteryText,g.data.battery,"c_battery_text")},scale:function(){let e=Math.ceil(g.data.battery/(100/(g.coords.batteryScale.Segments.length-1)));for(var t=0;t<=e;t++){let e=r(g.coords.batteryScale.StartImageIndex+t);M(e,g.coords.batteryScale.Segments[t]),B(e,"c_battery_scale")}}},analog:{hours:function(){X(g.coords.analoghours,g.data.analog[0])},minutes:function(){X(g.coords.analogminutes,g.data.analog[1])},seconds:function(){X(g.coords.analogseconds,g.data.analog[2])}},status:{alarm:function(){let e;if("ImageIndexOff"in g.coords.statAlarm&&!g.data.alarm)e=r(g.coords.statAlarm.ImageIndexOff);else{if(!("ImageIndexOn"in g.coords.statAlarm&&g.data.alarm))return;e=r(g.coords.statAlarm.ImageIndexOn)}e.style.left=g.coords.statAlarm.Coordinates.X+"px",e.style.top=g.coords.statAlarm.Coordinates.Y+"px",B(e,"c_stat_alarm")},bt:function(){let e;if("ImageIndexOff"in g.coords.statBt&&!g.data.bluetooth)e=r(g.coords.statBt.ImageIndexOff);else{if(!("ImageIndexOn"in g.coords.statBt&&g.data.bluetooth))return;e=r(g.coords.statBt.ImageIndexOn)}e.style.left=g.coords.statBt.Coordinates.X+"px",e.style.top=g.coords.statBt.Coordinates.Y+"px",B(e,"c_stat_bt")},dnd:function(){let e;if("ImageIndexOff"in g.coords.statDnd&&!g.data.dnd)e=r(g.coords.statDnd.ImageIndexOff);else{if(!("ImageIndexOn"in g.coords.statDnd&&g.data.dnd))return;e=r(g.coords.statDnd.ImageIndexOn)}e.style.left=g.coords.statDnd.Coordinates.X+"px",e.style.top=g.coords.statDnd.Coordinates.Y+"px",B(e,"c_stat_dnd")},lock:function(){let e;if("ImageIndexOff"in g.coords.statLock&&!g.data.lock)e=r(g.coords.statLock.ImageIndexOff);else{if(!("ImageIndexOn"in g.coords.statLock&&g.data.lock))return;e=r(g.coords.statLock.ImageIndexOn)}e.style.left=g.coords.statLock.Coordinates.X+"px",e.style.top=g.coords.statLock.Coordinates.Y+"px",B(e,"c_stat_lock")}},activity:{cal:function(){Y(g.coords.actCal,g.data.calories,"c_act_cal","cor"==localStorage.device)},steps:function(){Y(g.coords.actSteps,g.data.steps,"c_act_steps","cor"==localStorage.device)},stepsGoal:function(){Y(g.coords.actStepsGoal,g.data.stepsGoal,"c_act_stepsg","cor"==localStorage.device)},pulse:function(){Y(g.coords.actPulse,g.data.pulse,"c_act_pulse","cor"==localStorage.device)},distance:function(){var e=r(g.coords.actDistance.DecimalPointImageIndex),t=r(g.coords.actDistance.SuffixImageIndex);let a=P(g.coords.actDistance.Number,g.data.distance[0]);a.block.push(e),a.width+=e.width+g.coords.actDistance.Number.Spacing;var o=P(g.coords.actDistance.Number,g.data.distance[1]);a.block=a.block.concat(o.block),a.width+=o.width,a.block.push(t),a.width+=t.width,W(a.block,a.width,g.coords.actDistance.Number,"c_act_distance")}},stepsprogress:{circle:function(){var e=g.coords.stepscircle.Color.replace("0x","#"),t=Math.floor(2*g.coords.stepscircle.RadiusX*Math.PI/360*(g.coords.stepscircle.EndAngle-g.coords.stepscircle.StartAngle)),a=Math.round(g.data.steps/(g.data.stepsGoal/t));a>t&&(a=t),o("svg-cont-steps").innerHTML+='<ellipse transform="rotate('+(-90+g.coords.stepscircle.StartAngle)+" "+g.coords.stepscircle.CenterX+" "+g.coords.stepscircle.CenterY+')" cx="'+g.coords.stepscircle.CenterX+'" cy="'+g.coords.stepscircle.CenterY+'" rx="'+g.coords.stepscircle.RadiusX+'" ry="'+g.coords.stepscircle.RadiusY+'" fill="rgba(255,255,255,0)" stroke-width="'+g.coords.stepscircle.Width+'" stroke="'+e+'" stroke-dasharray="'+a+" "+(t-a)+'" stroke-linecap="none"></ellipse>'},linear:function(){var e=Math.floor(g.data.steps/(g.data.stepsGoal/g.coords.stepsLinear.Segments.length))-1;e>g.coords.stepsLinear.Segments.length-1&&(e=g.coords.stepsLinear.Segments.length-1);for(var t=0;t<=e;t++){let e=r(g.coords.stepsLinear.StartImageIndex+t);M(e,g.coords.stepsLinear.Segments[t]),B(e,"c_steps_linear")}},goal:function(){g.data.steps>=g.data.stepsGoal&&O(g.coords.stepsGoal,0,"c_steps_goal")}},weather:{icon:function(){if("CustomIcon"in g.coords.weathericon){let e=r(g.coords.weathericon.CustomIcon.ImageIndex+g.data.weathericon);e.style.left=g.coords.weathericon.CustomIcon.X+"px",e.style.top=g.coords.weathericon.CustomIcon.Y+"px",B(e,"c_weather_icon")}else{let e=r("weather");e.style.left=g.coords.weathericon.Coordinates.X+"px",e.style.top=g.coords.weathericon.Coordinates.Y+"px",B(e,"c_weather_icon")}},temp:{oneline:function(){var e=r(g.coords.weatherOneLine.DelimiterImageIndex),t=r(g.coords.weatherOneLine.DegreesImageIndex),a=g.data.temp[0]<0?r(g.coords.weatherOneLine.MinusSignImageIndex):0;let o=P(g.coords.weatherOneLine.Number,Math.abs(g.data.temp[0]));0!==a&&(o.block.splice(0,0,a),o.width+=a.width),o.block.push(e),o.width+=e.width+g.coords.weatherOneLine.Number.Spacing;var n=P(g.coords.weatherOneLine.Number,Math.abs(g.data.temp[1]));0!==(a=g.data.temp[1]<0?r(g.coords.weatherOneLine.MinusSignImageIndex):0)&&(n.block.splice(0,0,a),n.width+=a.width),o.block=o.block.concat(n.block),o.width+=n.width,o.block.push(t),o.width+=t.width,W(o.block,o.width,g.coords.weatherOneLine.Number,"c_temp_oneline")},sep:{day:function(){if(g.data.weatherAlt)return;let e=g.data.temp[0]<0?r(g.coords.weatherDay.MinusImageIndex):0,t=P(g.coords.weatherDay.Number,Math.abs(g.data.temp[0]));if("DegreesImageIndex"in g.coords.weatherDay){var a=r(g.coords.weatherDay.DegreesImageIndex);t.block.push(a),t.width+=a.width+g.coords.weatherDay.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),W(t.block,t.width,g.coords.weatherDay.Number,"c_temp_sep_day")},night:function(){if(g.data.weatherAlt)return;let e=g.data.temp[1]<0?r(g.coords.weatherNight.MinusImageIndex):0,t=P(g.coords.weatherNight.Number,Math.abs(g.data.temp[1]));if("DegreesImageIndex"in g.coords.weatherNight){var a=r(g.coords.weatherNight.DegreesImageIndex);t.block.push(a),t.width+=a.width+g.coords.weatherNight.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),W(t.block,t.width,g.coords.weatherNight.Number,"c_temp_sep_night")},dayAlt:function(){if(!g.data.weatherAlt)return;let e=g.data.temp[0]<0?r(g.coords.weatherDay.MinusImageIndex):0,t=P(g.coords.weatherDay.Number,Math.abs(g.data.temp[0]));if("DegreesImageIndex"in g.coords.weatherDay){var a=r(g.coords.weatherDay.DegreesImageIndex);t.block.push(a),t.width+=a.width+g.coords.weatherDay.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),W(t.block,t.width,g.coords.weatherDayAlt.Number,"c_temp_sep_day_alt")},nightAlt:function(){if(!g.data.weatherAlt)return;let e=g.data.temp[1]<0?r(g.coords.weatherNight.MinusImageIndex):0,t=P(g.coords.weatherNight.Number,Math.abs(g.data.temp[1]));if("DegreesImageIndex"in g.coords.weatherNight){var a=r(g.coords.weatherNight.DegreesImageIndex);t.block.push(a),t.width+=a.width+g.coords.weatherNight.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),W(t.block,t.width,g.coords.weatherNightAlt.Number,"c_temp_sep_night_alt")}},current:function(){if(g.data.weatherAlt)return;let e=g.data.temp[0]<0?r(g.coords.weatherCurrent.MinusImageIndex):0,t=P(g.coords.weatherCurrent.Number,Math.abs(g.data.temp[0]));if("DegreesImageIndex"in g.coords.weatherCurrent){var a=r(g.coords.weatherCurrent.DegreesImageIndex);t.block.push(a),t.width+=a.width+g.coords.weatherCurrent.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),W(t.block,t.width,g.coords.weatherCurrent.Number,"c_temp_cur")}},airIcon:function(){O(g.coords.weatherAirIcon,0,"c_air_icon")},airText:function(){Y(g.coords.weatherAirText,g.data.air,"c_air_text")}}};function X(e,t){for(var a=e.Color.replace("0x","#"),r="M "+e.Shape[0].X+" "+e.Shape[0].Y,n=e.Shape.length,s=e.OnlyBorder?"none":a,i=0;i<n;i++)r+="L "+e.Shape[i].X+" "+e.Shape[i].Y+" ";r+="L "+e.Shape[0].X+" "+e.Shape[0].Y+" ",o("svg-cont-clock").innerHTML+='<path d="'+r+'" transform="rotate('+(t-90)+" "+e.Center.X+" "+e.Center.Y+") translate("+e.Center.X+" "+e.Center.Y+') " fill="'+s+'" stroke="'+a+'"></path>',"CenterImage"in e&&O(e.CenterImage,0,"c_an_img")}function Y(e,t,a,o){var n=P(e,t);if(o){if("PrefixImageIndex"in e.cor){let t=r(e.cor.PrefixImageIndex);n.block.splice(0,0,t),n.width+=t.width+e.Spacing}if("SuffixImageIndex"in e.cor){let t=r(e.cor.SuffixImageIndex);n.block.push(t),n.width+=t.width+e.Spacing}if("EmptyImageIndex"in e.cor&&0===t){let t=r(e.cor.EmptyImageIndex);n.block=[t],n.width=t.width}}W(n.block,n.width,e,a)}function B(e,t){e.removeAttribute("id"),e.classList.add(t),o("watchface").appendChild(e)}function O(e,t,a){var o=r(e.ImageIndex+t);o.style.left=e.X+"px",o.style.top=e.Y+"px",B(o,a)}function M(e,t){e.style.left=t.X+"px",e.style.top=t.Y+"px"}function W(e,t,a,o){var r,s,i=0;switch(a.Alignment){case 18:case"TopLeft":for(e.reverse();e.length;)(r=e.pop()).style.left=a.TopLeftX+i+"px",r.style.top=a.TopLeftY+"px",B(r,o),i+=r.width+a.Spacing;break;case 24:case"TopCenter":case"Top":for(e.reverse(),i=n(a.BottomRightX-a.TopLeftX+1-t,2);e.length;)(r=e.pop()).style.left=a.TopLeftX+i+"px",r.style.top=a.TopLeftY+"px",B(r,o),i+=r.width+a.Spacing;break;case 20:case"TopRight":for(;e.length;)(r=e.pop()).style.left=a.BottomRightX-r.width+1-i+"px",r.style.top=a.TopLeftY+"px",B(r,o),i+=r.width+a.Spacing;break;case 66:case"CenterLeft":case"Left":for(e.reverse(),s=n(a.BottomRightY-a.TopLeftY+1-e[0].height,2);e.length;)(r=e.pop()).style.left=a.TopLeftX+i+"px",r.style.top=a.TopLeftY+s+"px",B(r,o),i+=r.width+a.Spacing;break;case 72:case"Center":case"VCenter":case"HCenter":for(e.reverse(),i=n(a.BottomRightX-a.TopLeftX+1-t,2),s=n(a.BottomRightY-a.TopLeftY+1-e[0].height,2);e.length;)(r=e.pop()).style.left=a.TopLeftX+i+"px",r.style.top=a.TopLeftY+s+"px",B(r,o),i+=r.width+a.Spacing;break;case 68:case"CenterRight":case"Right":for(s=n(a.BottomRightY-a.TopLeftY+1-e[0].height,2);e.length;)(r=e.pop()).style.left=a.BottomRightX-r.width+1-i+"px",r.style.top=a.TopLeftY+s+"px",B(r,o),i+=r.width+a.Spacing;break;case 34:case"BottomLeft":for(e.reverse();e.length;)(r=e.pop()).style.left=a.TopLeftX+i+"px",r.style.top=a.BottomRightY-r.height+1+"px",B(r,o),i+=r.width+a.Spacing;break;case 40:case"BottomCenter":case"Bottom":for(e.reverse(),i=n(a.BottomRightX-a.TopLeftX+1-t,2);e.length;)(r=e.pop()).style.left=a.TopLeftX+i+"px",r.style.top=a.BottomRightY-r.height+1+"px",B(r,o),i+=r.width+a.Spacing;break;case 36:case"BottomRight":for(;e.length;)(r=e.pop()).style.left=a.BottomRightX-r.width+1-i+"px",r.style.top=a.BottomRightY-r.height+1+"px",B(r,o),i+=r.width+a.Spacing;break;default:UIkit.notification("Alignment <b>("+a.Alignment+")</b> is incorrect. You made a mistake",{status:"danger",pos:"top-left",timeout:7500})}}function P(e,t){t=t.toString();for(var a,o=Array(),n=0;""!==t;)a=r(e.ImageIndex+Number(t[0])),o.push(a),n+=a.width+e.Spacing,t=t.substr(1);return{block:o,width:n-=e.Spacing}}let R={time_change:()=>{var e=o("in-time").value.split(":");g.data.timeOnClock[0]=e[0],g.data.timeOnClock[1]=e[1],g.data.analog[0]=30*(e[0]>12?e[0]-12:e[0])+.5*e[1],g.data.analog[1]=6*e[1],o("svg-cont-clock").innerHTML="","analog"in g.coords&&("analoghours"in g.coords&&_.analog.hours(),"analogminutes"in g.coords&&_.analog.minutes(),"analogseconds"in g.coords&&_.analog.seconds()),s("c_time"),"time"in g.coords&&_.time.time()},date_change:()=>{var e=o("in-date").valueAsDate||new Date(o("in-date").value);try{g.data.day=e.getUTCDate(),g.data.month=e.getUTCMonth()+1,g.data.weekDay=e.getUTCDay()>0?e.getUTCDay()-1:6,s("c_date_sepday"),s("c_date_weekDay"),s("c_date_sepmonth"),s("c_date_oneline"),g.coords.date&&("weekDay"in g.coords&&_.date.weekDay(),"dateDay"in g.coords&&_.date.sepday(),"dateMonth"in g.coords&&_.date.sepmonth(),"dateOneLine"in g.coords&&_.date.oneline())}catch(e){console.warn(e)}},sec_change:()=>{o("in-sec").value>59&&(o("in-sec").value=59),o("in-sec").value<0&&(o("in-sec").value=0);var e=o("in-sec").value;g.data.seconds[0]=Number(e.split("")[0]),g.data.seconds[1]=Number(1==e.split("").length?0:e.split("")[1]),g.data.analog[2]=6*e,o("svg-cont-clock").innerHTML="","analog"in g.coords&&("analoghours"in g.coords&&_.analog.hours(),"analogminutes"in g.coords&&_.analog.minutes(),"analogseconds"in g.coords&&_.analog.seconds()),s("c_sec"),"time"in g.coords&&"seconds"in g.coords&&_.time.seconds()},battery_change:()=>{o("in-battery").value>100&&(o("in-battery").value=100),o("in-battery").value<0&&(o("in-battery").value=0),g.data.battery=o("in-battery").value,s("c_battery_icon"),s("c_battery_scale"),s("c_battery_text"),g.coords.battery&&("batteryIcon"in g.coords&&_.battery.icon(),"batteryText"in g.coords&&_.battery.text(),"batteryScale"in g.coords&&_.battery.scale())},alarm_change:()=>{g.data.alarm=o("in-alarm").checked,s("c_stat_alarm"),g.coords.status&&"statAlarm"in g.coords&&_.status.alarm()},bt_change:()=>{g.data.bluetooth=o("in-bt").checked,s("c_stat_bt"),g.coords.status&&"statBt"in g.coords&&_.status.bt()},dnd_change:()=>{g.data.dnd=o("in-dnd").checked,s("c_stat_dnd"),g.coords.status&&"statDnd"in g.coords&&_.status.dnd()},lock_change:()=>{g.data.lock=o("in-lock").checked,s("c_stat_lock"),g.coords.status&&"statLock"in g.coords&&_.status.lock()},weatherAlt_change:()=>{g.data.weatherAlt=o("in-weatherAlt").checked,g.data.weatherAlt?(s("c_temp_sep_day"),s("c_temp_sep_night"),s("c_temp_cur"),"weatherDayAlt"in g.coords&&_.weather.temp.sep.dayAlt(),"weatherNightAlt"in g.coords&&_.weather.temp.sep.nightAlt()):(s("c_temp_sep_night_alt"),s("c_temp_sep_day_alt"),"weatherDay"in g.coords&&_.weather.temp.sep.day(),"weatherNight"in g.coords&&_.weather.temp.sep.night(),"weatherCurrent"in g.coords&&_.weather.temp.current())},steps_change:()=>{o("in-steps").value>99999&&(o("in-steps").value=99999),o("in-steps").value<0&&(o("in-steps").value=0),g.data.steps=parseInt(o("in-steps").value),s("c_act_steps"),g.coords.activity&&"actSteps"in g.coords&&_.activity.steps(),s("c_steps_linear"),s("c_steps_goal"),o("svg-cont-steps").innerHTML="",g.coords.stepsprogress&&("stepscircle"in g.coords&&_.stepsprogress.circle(),"stepsLinear"in g.coords&&_.stepsprogress.linear(),"stepsGoal"in g.coords&&g.data.steps>=g.data.stepsGoal&&_.stepsprogress.goal())},distance_change:()=>{o("in-distance").value>99&&(o("in-distance").value=99),o("in-distance").value<0&&(o("in-distance").value=0);var e=o("in-distance").value.split(".");g.data.distance[0]=Number(e[0]),g.data.distance[1]=e.length>1?e[1].slice(0,2):"00",s("c_act_distance"),g.coords.activity&&"actDistance"in g.coords&&_.activity.distance()},pulse_change:()=>{o("in-pulse").value>999&&(o("in-pulse").value=999),o("in-pulse").value<0&&(o("in-pulse").value=0),g.data.pulse=o("in-pulse").value,s("c_act_pulse"),g.coords.activity&&"actPulse"in g.coords&&_.activity.pulse()},calories_change:()=>{o("in-calories").value>9999&&(o("in-calories").value=9999),o("in-calories").value<0&&(o("in-calories").value=0),g.data.calories=o("in-calories").value,s("c_act_cal"),g.coords.activity&&"actCal"in g.coords&&_.activity.cal()},stepsGoal_change:()=>{o("in-stepsGoal").value>99999&&(o("in-stepsGoal").value=99999),o("in-stepsGoal").value<0&&(o("in-stepsGoal").value=0),g.data.stepsGoal=parseInt(o("in-stepsGoal").value),s("c_act_stepsGoal"),g.coords.activity&&"statstepsGoal"in g.coords&&_.activity.stepsGoal(),s("c_steps_linear"),s("c_steps_goal"),g.coords.stepsprogress&&("stepscircle"in g.coords&&_.stepsprogress.circle(),"stepsLinear"in g.coords&&_.stepsprogress.linear(),"stepsGoal"in g.coords&&g.data.steps>=g.data.stepsGoal&&_.stepsprogress.goal())},weatherd_change:()=>{o("in-weatherd").value>199&&(o("in-weatherd").value=199),o("in-weatherd").value<-99&&(o("in-weatherd").value=-99),g.data.temp[0]=o("in-weatherd").value,s("c_temp_sep_day"),s("c_temp_cur"),s("c_temp_oneline"),g.coords.weather&&("weatherOneLine"in g.coords&&_.weather.temp.oneline(),"weatherDay"in g.coords&&_.weather.temp.sep.day(),"weatherCurrent"in g.coords&&_.weather.temp.current())},weathern_change:()=>{o("in-weathern").value>199&&(o("in-weathern").value=199),o("in-weathern").value<-99&&(o("in-weathern").value=-99),g.data.temp[1]=o("in-weathern").value,s("c_temp_sep_night"),s("c_temp_oneline"),g.coords.weather&&("weatherOneLine"in g.coords&&_.weather.temp.oneline(),"weatherNight"in g.coords&&_.weather.temp.sep.night())},air_change:()=>{o("in-air").value>500&&(o("in-air").value=500),o("in-air").value<0&&(o("in-air").value=0),g.data.air=o("in-air").value,s("c_air_text"),g.coords.weather&&"weatherAirText"in g.coords&&_.weather.airText()},weathericon_change:()=>{o("in-weathericon").value>26&&(o("in-weathericon").value=26),o("in-weathericon").value<1&&(o("in-weathericon").value=1),g.data.weathericon=o("in-weathericon").value-1,s("c_weather_icon"),g.coords.weather&&g.coords.weathericon&&_.weather.icon()}};o("realsizePreview").addEventListener("click",function(){html2canvas(o("watchfaceimage"),{onrendered:function(e){o("realsizePreview").innerHTML="",o("realsizePreview").appendChild(e)}})}),o("makepng").addEventListener("click",function(){let e="watchfaceblock";o("makepngwithwatch").checked&&(e="watchfaceimage"),html2canvas(o(e),{onrendered:function(e){if(e.getContext("2d"),g.app.notWebkitBased)e.toBlob(function(e){saveAs(e,g.data.wfname+".png")});else{let t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download=g.data.wfname+".png",t.click(),t=null}}})});let G=["time","date","battery","calories","steps","stepsGoal","pulse","distance","weatherd","weathern","weathericon","sec","alarm","bt","dnd","lock","weatherAlt","air"];for(let e in G)o("in-"+G[e]).addEventListener("change",R[G[e]+"_change"]);g.makeWf=function(){try{o("watchface").innerHTML="",o("svg-cont-clock").innerHTML="",o("svg-cont-steps").innerHTML="","cor"==localStorage.device?O({ImageIndex:293,X:0,Y:0},0,"wf_bg"):O({ImageIndex:265,X:0,Y:0},0,"wf_bg"),document.getElementsByClassName("wf_bg")[0].classList.remove("default-image"),"bg"in g.coords&&O(g.coords.bg.Image,0,"c_bg"),"time"in g.coords&&_.time.time(),"seconds"in g.coords&&_.time.seconds(),g.coords.date&&("weekDay"in g.coords&&_.date.weekDay(),"dateDay"in g.coords&&_.date.sepday(),"dateMonth"in g.coords&&_.date.sepmonth(),"dateOneLine"in g.coords&&_.date.oneline()),g.coords.battery&&("batteryIcon"in g.coords&&_.battery.icon(),"batteryText"in g.coords&&_.battery.text(),"batteryScale"in g.coords&&_.battery.scale()),g.coords.status&&("statAlarm"in g.coords&&_.status.alarm(),"statBt"in g.coords&&_.status.bt(),"statDnd"in g.coords&&_.status.dnd(),"statLock"in g.coords&&_.status.lock()),g.coords.activity&&("actCal"in g.coords&&_.activity.cal(),"actSteps"in g.coords&&_.activity.steps(),"actStepsGoal"in g.coords&&_.activity.stepsGoal(),"actPulse"in g.coords&&_.activity.pulse(),"actDistance"in g.coords&&_.activity.distance()),g.coords.weather&&("weathericon"in g.coords&&_.weather.icon(),"weatherOneLine"in g.coords&&_.weather.temp.oneline(),"weatherDay"in g.coords&&_.weather.temp.sep.day(),"weatherNight"in g.coords&&_.weather.temp.sep.night(),"weatherDayAlt"in g.coords&&_.weather.temp.sep.dayAlt(),"weatherNightAlt"in g.coords&&_.weather.temp.sep.nightAlt(),"weatherCurrent"in g.coords&&_.weather.temp.current(),"weatherAirIcon"in g.coords&&_.weather.airIcon(),"weatherAirText"in g.coords&&_.weather.airText()),g.coords.stepsprogress&&("stepscircle"in g.coords&&_.stepsprogress.circle(),"stepsLinear"in g.coords&&_.stepsprogress.linear(),"stepsGoal"in g.coords&&g.data.steps>=g.data.stepsGoal&&_.stepsprogress.goal()),g.coords.analog&&("analoghours"in g.coords&&_.analog.hours(),"analogminutes"in g.coords&&_.analog.minutes(),"analogseconds"in g.coords&&_.analog.seconds())}catch(e){console.warn(e),"ImageError"==e.name&&UIkit.notification(("imagenotfound"in g.app.lang?g.app.lang.imagenotfound:"Image with index $index not found").replace("$index","<b>"+e.imageIndex+"</b>"),{status:"danger",pos:"top-left",timeout:7500}),"TypeError"==e.name&&UIkit.notification("Image for prorety not found",{status:"danger",pos:"top-left",timeout:7500})}},g.view={setPosN:O},g.draw=_;let F=function(e,t){o("editor").innerHTML+='<div id="'+t+'" style="height:'+3*o("ImageIndexOn"in e?e.ImageIndexOn:e.ImageIndexOff).height+"px; width:"+3*o("ImageIndexOn"in e?e.ImageIndexOn:e.ImageIndexOff).width+"px; top:"+3*e.Coordinates.Y+"px; left:"+3*e.Coordinates.X+'px;" class="editor-elem"></div>'},E=function(e){return Number(e.replace("px",""))},H=function(){if(o("editor").innerHTML="","bg"in g.coords){var e=r(g.coords.bg.Image.ImageIndex);e.style.left=3*g.coords.bg.Image.X+"px",e.style.top=3*g.coords.bg.Image.Y+"px",e.style.position="absolute",e.height*=3,e.width*=3,e.removeAttribute("id"),o("editor").appendChild(e),setTimeout(function(){o("editor").childNodes[0].ondragstart=function(){return!1}},10)}if("time"in g.coords&&(J("timeHoursTens"),J("timeHoursOnes"),J("timeMinutesTens"),J("timeMinutesOnes"),"seconds"in g.coords&&(J("timeSecondsTens"),J("timeSecondsOnes")),"amPm"in g.coords&&(o("editor").innerHTML+='<div id="e_time_am" style="height:'+3*o(g.coords.amPm.ImageIndexAm).height+"px; width:"+3*o(g.coords.amPm.ImageIndexAm).width+"px; top:"+3*g.coords.amPm.Y+"px; left:"+3*g.coords.amPm.X+'px;" class="editor-elem"></div>',z("timeM"))),g.coords.date&&("weekDay"in g.coords&&J("dateWeekday"),"dateDay"in g.coords&&U("dateDay"),"dateMonth"in g.coords&&U("dateMonth"),"dateOneLine"in g.coords&&U("dateOneLine")),g.coords.activity&&("actCal"in g.coords&&U("actCalories"),"actSteps"in g.coords&&U("actSteps"),"actStepsGoal"in g.coords&&U("actStepsGoal"),"actPulse"in g.coords&&U("actPulse"),"actDistance"in g.coords&&U("actDistance")),g.coords.battery&&("batteryIcon"in g.coords&&J("batteryIcon"),"batteryText"in g.coords&&U("batteryText"),"batteryScale"in g.coords)){let e=e=>j("e_battery_linar_"+e,g.coords.batteryScale.Segments[e],"c_battery_scale",g.draw.battery.scale);for(let t=0;t<g.coords.batteryScale.Segments.length;t++)o("editor").innerHTML+='<div id="e_battery_linar_'+t+'" style="height:'+3*o(g.coords.batteryScale.StartImageIndex+t).height+"px; width:"+3*o(g.coords.batteryScale.StartImageIndex+t).width+"px; top:"+3*g.coords.batteryScale.Segments[t].Y+"px; left:"+3*g.coords.batteryScale.Segments[t].X+'px;" class="editor-elem"></div>',setTimeout(e,10,t)}if(g.coords.status&&("statAlarm"in g.coords&&(F(g.coords.statAlarm,"e_stat_alarm"),z("statAlarm")),"statBt"in g.coords&&(F(g.coords.statBt,"e_stat_bt"),z("statBluetooth")),"statDnd"in g.coords&&(F(g.coords.statDnd,"e_stat_dnd"),z("statDND")),"statLock"in g.coords&&(F(g.coords.statLock,"e_stat_lock"),z("statLock"))),g.coords.weather&&("weathericon"in g.coords&&("CustomIcon"in g.coords.weathericon?(o("editor").innerHTML+='<div id="e_weather_icon" style="height:'+3*o(g.coords.weathericon.CustomIcon.ImageIndex).height+"px; width:"+3*o(g.coords.weathericon.CustomIcon.ImageIndex).width+"px; top:"+3*g.coords.weathericon.CustomIcon.Y+"px; left:"+3*g.coords.weathericon.CustomIcon.X+'px;" class="editor-elem"></div>',setTimeout(function(){j("e_weather_icon",g.coords.weathericon.CustomIcon,"c_weather_icon",g.draw.weather.icon)},10)):(o("editor").innerHTML+='<div id="e_weather_icon" style="height:'+3*o("weather").height+"px; width:"+3*o("weather").width+"px; top:"+3*g.coords.weathericon.Coordinates.Y+"px; left:"+3*g.coords.weathericon.Coordinates.X+'px;" class="editor-elem"></div>',setTimeout(function(){j("e_weather_icon",g.coords.weathericon.Coordinates,"c_weather_icon",g.draw.weather.icon)},10))),"weatherOneLine"in g.coords&&U("weatherOneLine"),"weatherDay"in g.coords&&U("weatherDay"),"weatherNight"in g.coords&&U("weatherNight"),"weatherDayAlt"in g.coords&&U("weatherDayAlt"),"weatherNightAlt"in g.coords&&U("weatherNightAlt"),"weatherCurrent"in g.coords&&U("weatherCurrent"),"weatherAirIcon"in g.coords&&J("weatherAirIcon"),"weatherAirText"in g.coords&&U("weatherAirText")),g.coords.stepsprogress){if(g.coords,"stepsLinear"in g.coords){let e=e=>j("e_steps_linar_"+e,g.coords.stepsLinear.Segments[e],"c_steps_linear",g.draw.stepsprogress.linear);for(let t=0;t<g.coords.stepsLinear.Segments.length;t++)o("editor").innerHTML+='<div id="e_steps_linar_'+t+'" style="height:'+3*o(g.coords.stepsLinear.StartImageIndex+t).height+"px; width:"+3*o(g.coords.stepsLinear.StartImageIndex+t).width+"px; top:"+3*g.coords.stepsLinear.Segments[t].Y+"px; left:"+3*g.coords.stepsLinear.Segments[t].X+'px;" class="editor-elem"></div>',setTimeout(e,10,t)}"stepsGoal"in g.coords&&J("stepsGoal")}},j=function(e,t,a,r){(e=o(e)).onmousedown=function(n){g.coordsHistory.push(JSON.stringify(g.coords));var i,c=q(o("editor")),d={top:(i=e.getBoundingClientRect()).top+pageYOffset,left:i.left+pageXOffset},l=n.pageX-d.left,m=n.pageY-d.top;function h(t){e.style.left=t.pageX-c.left-l+"px",e.style.top=t.pageY-c.top-m+"px",o("e_coords").innerHTML="X: "+(E(e.style.left)-E(e.style.left)%3)/3+", Y: "+(E(e.style.top)-E(e.style.top)%3)/3}e.style.position="absolute",h(n),e.style.zIndex=1e3,o("editor").onmousemove=function(e){h(e)},e.onmouseup=function(){if(o("editor").onmousemove=null,e.onmouseup=null,e.style.zIndex="auto",e.style.top=E(e.style.top)>0&&E(e.style.top)<528?E(e.style.top)-E(e.style.top)%3+"px":"0px",e.style.left=E(e.style.left)>0&&E(e.style.left)<528?E(e.style.left)-E(e.style.left)%3+"px":"0px","X"in t)t.X=E(e.style.left)/3,t.Y=E(e.style.top)/3;else{var n=t.TopLeftX,i=t.TopLeftY;t.TopLeftX=E(e.style.left)/3,t.TopLeftY=E(e.style.top)/3,t.BottomRightX+=t.TopLeftX-n,t.BottomRightY+=t.TopLeftY-i}s(a),r(),o("e_coords").innerHTML="coordinates"in g.app.lang?g.app.lang.coordinates:"Coordinates"}},e.ondragstart=function(){return!1}},z=function(e){setTimeout(function(){j(g.elements[e].editorId,g.elements[e].coords(),g.elements[e].prewiewClass,g.elements[e].drawFunc)},10)},J=function(e){!function(e){o("editor").innerHTML+='<div id="'+g.elements[e].editorId+'" style="height:'+3*o(g.elements[e].coords().ImageIndex).height+"px; width:"+3*o(g.elements[e].coords().ImageIndex).width+"px; top:"+3*g.elements[e].coords().Y+"px; left:"+3*g.elements[e].coords().X+'px;" class="editor-elem" uk-tooltip="title: '+g.elements[e].name+'; delay: 750; offset: 1"></div>'}(e),z(e)},U=function(e){!function(e){o("editor").innerHTML+='<div id="'+g.elements[e].editorId+'" style="height:'+3*(g.elements[e].coords().BottomRightY-g.elements[e].coords().TopLeftY+1)+"px; width:"+3*(g.elements[e].coords().BottomRightX-g.elements[e].coords().TopLeftX+1)+"px; top:"+3*g.elements[e].coords().TopLeftY+"px; left:"+3*g.elements[e].coords().TopLeftX+'px;" class="editor-elem" uk-tooltip="title: '+g.elements[e].name+'; delay: 750; offset: 1"></div>'}(e),z(e)},q=function(e){var t=e.getBoundingClientRect(),a=document.body,o=document.documentElement,r=window.pageYOffset||o.scrollTop||a.scrollTop,n=window.pageXOffset||o.scrollLeft||a.scrollLeft,s=o.clientTop||a.clientTop||0,i=o.clientLeft||a.clientLeft||0,c=t.top+r-s,d=t.left+n-i;return{top:Math.round(c),left:Math.round(d)}},$=function(e,t){var a=0,r=0;for(let t=0;t<e.ImagesCount;t++)o(e.ImageIndex+t).width>a&&(a=o(e.ImageIndex+t).width),o(e.ImageIndex+t).height>r&&(r=o(e.ImageIndex+t).height);if(a=a*t+e.Spacing*(t-1),arguments.length>2)for(let t=2;t<arguments.length;t++)a+=o(arguments[t]).width+e.Spacing;"TopRight"==e.Alignment?(e.BottomRightY=e.TopLeftY+r-1,e.TopLeftX=e.BottomRightX-a+1):(e.BottomRightY=e.TopLeftY+r-1,e.BottomRightX=e.TopLeftX+a-1)};o("editor-tab").addEventListener("click",H),o("fix-coords").addEventListener("click",function(){g.coords.date&&("dateDay"in g.coords&&$(g.coords.dateDay,2),"dateMonth"in g.coords&&$(g.coords.dateMonth,2),"dateOneLine"in g.coords&&$(g.coords.dateOneLine.Number,4,g.coords.dateOneLine.DelimiterImageIndex)),"batteryText"in g.coords&&$(g.coords.batteryText,3),g.coords.activity&&("actCal"in g.coords&&$(g.coords.actCal,4),"actSteps"in g.coords&&$(g.coords.actSteps,5),"actStepsGoal"in g.coords&&$(g.coords.actStepsGoal,5),"actPulse"in g.coords&&$(g.coords.actPulse,3),"actDistance"in g.coords&&$(g.coords.actDistance.Number,4,g.coords.actDistance.DecimalPointImageIndex,g.coords.actDistance.SuffixImageIndex)),g.coords.weather&&("weatherOneLine"in g.coords&&$(g.coords.weatherOneLine.Number,4,g.coords.weatherOneLine.MinusSignImageIndex,g.coords.weatherOneLine.MinusSignImageIndex,g.coords.weatherOneLine.DelimiterImageIndex,g.coords.weatherOneLine.DegreesImageIndex),"weatherDay"in g.coords&&$(g.coords.weatherDay.Number,2,g.coords.weatherDay.MinusImageIndex,g.coords.weatherDay.DegreesImageIndex),"weatherNight"in g.coords&&$(g.coords.weatherNight.Number,2,g.coords.weatherNight.MinusImageIndex,g.coords.weatherNight.DegreesImageIndex),"weatherCurrent"in g.coords&&$(g.coords.weatherCurrent.Number,2,g.coords.weatherCurrent.MinusImageIndex,g.coords.weatherCurrent.DegreesImageIndex)),H(),g.makeWf()}),o("editor-undo").addEventListener("click",function(){g.coordsHistory.length&&(g.coords=JSON.parse(g.coordsHistory.pop()),H(),g.makeWf())}),g.app={changeThemeBtn:function(){document.body.classList.contains("uk-light")?m.changeTheme("light"):m.changeTheme("dark")},lastimage:301,imagestabversion:2,editortabversion:1,designtabversion:1,analogtabversion:2,notWebkitBased:void 0,lang:{},local:"file:"==location.protocol,firstopen_editor:!("firstopen_editor"in sessionStorage),endLoad:function(){window.onload=function(){"true"==localStorage.showdemo?(g.coords=g.default_coords,g.makeWf(),g.load.disableBtn(1)):o("showdemocheck").checked=!1,UIkit.modal(o("modal-loading")).hide(),localStorage.settingsShown||(UIkit.modal(o("modal-settings")).show(),localStorage.settingsShown=!0)}}},g.init=function(){let e=["bip","cor","band4"];e.includes(location.search.slice(1))?m.change_device(location.search.slice(1),g):e.includes(localStorage.device)?m.change_device(localStorage.device,g):m.change_device("bip",g);let t=document.getElementsByName("device"),a=()=>{for(let e=0;e<t.length;e++)t[e].checked&&(localStorage.device=t[e].value,location.search="")};for(let e=0;e<t.length;e++)t[e].value==localStorage.device&&(t[e].checked=!0),t[e].onchange=a;function r(e){let t=document.createElement("script");t.src=e,t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}"amazfitwatchfaces.com"==location.host&&void 0===localStorage.appTheme&&(localStorage.appTheme="amazfit"),m.changeTheme(localStorage.appTheme),"lang"in localStorage||(localStorage.lang=navigator.language||navigator.userLanguage),localStorage.lang.indexOf("ru")>=0?m.changeLang("russian"):localStorage.lang.indexOf("zh")>=0?m.changeLang("chinese"):localStorage.lang.indexOf("nl")>=0?m.changeLang("dutch"):localStorage.lang.indexOf("de")>=0?m.changeLang("german"):localStorage.lang.indexOf("tr")>=0?m.changeLang("turkish"):localStorage.lang.indexOf("en")<0&&1!=localStorage.translatehelp&&(UIkit.notification("Please contact me if you can help me to translate this app to your language",{status:"primary",pos:"top-left",timeout:7500}),localStorage.translatehelp=1),localStorage.lang.indexOf("ru")>=0&&!localStorage.forumLinkShown&&localStorage.showcount>1&&(UIkit.notification('<a href="http://myamazfit.ru/" style="color: rgb(150, 150, 150)">myamazfit.ru</a> - русскоязычный форум по устройствам Amazfit',{pos:"top-left",timeout:7500}),localStorage.forumLinkShown=!0),void 0===localStorage.showdemo&&(localStorage.showdemo=!0),o("showdemocheck").onchange=function(){localStorage.showdemo=o("showdemocheck").checked,location.reload()},localStorage.biptools=0,localStorage.analogDescription?UIkit.alert(o("analogDescription")).close():UIkit.alert(o("analogDescription"))._events[0]=function(){localStorage.analogDescription=!0};for(let e=200;e<=g.app.lastimage;e++)o("defimages").innerHTML+='<img src="defaultimages/'+e+'.png" id="'+e+'" class="default-image">';g.app.notWebkitBased=navigator.userAgent.search(/Edge/)>0||navigator.userAgent.search(/Firefox/)>0,g.app.notWebkitBased?(UIkit.notification("browserwarn"in g.app.lang?g.app.lang.browserwarn:"Something may not work in your browser. WebKit-based browser recommended",{status:"warning",pos:"top-left",timeout:7500}),r("js/FileSaver.min.js"),r("js/canvas-toBlob.js"),o("inputblock").childNodes[3].childNodes[1].style.overflowX="hidden"):navigator.userAgent.match(/Android|iPhone/i)&&UIkit.notification("This site is not optimized for mobile devices, something may not work",{status:"warning",pos:"top-left",timeout:7500}),o("inputimages").onchange=function(){if(o("inputimages").files.length){let e=0;for(console.log("Images count: ",o("inputimages").files.length);e<o("inputimages").files.length;)g.load.renderImage(o("inputimages").files[e]),e++;g.data.imagesset=!0,o("inputimages").nextElementSibling.classList.contains("uk-button-danger")&&(o("inputimages").nextElementSibling.classList.remove("uk-button-danger"),o("inputimages").nextElementSibling.classList.add("uk-button-default")),o("inputimages").nextElementSibling.classList.add("uk-label-success")}g.data.imagesset&&g.data.jsset?g.load.disableBtn(1):g.load.disableBtn(0)},o("inputjs").onchange=function(){if(o("inputjs").files.length){g.data.wfname=o("inputjs").files[0].name.split(".")[0],console.log("Watchface name: ",g.data.wfname),document.title="WF editor - "+g.data.wfname;let e=new FileReader;e.onload=function(e){try{g.coords=g.converter.import(jsonlint.parse(e.target.result))}catch(e){o("jsonerrortext").innerHTML=e,setTimeout(function(){UIkit.modal(o("jsonerrormodal")).show()},200),console.warn(e)}},e.readAsText(o("inputjs").files[0]),e=null,g.data.jsset=!0,o("inputjs").nextElementSibling.classList.contains("uk-button-danger")&&(o("inputjs").nextElementSibling.classList.remove("uk-button-danger"),o("inputjs").nextElementSibling.classList.add("uk-button-default")),o("inputjs").nextElementSibling.classList.add("uk-label-success")}g.data.imagesset&&g.data.jsset?g.load.disableBtn(1):g.load.disableBtn(0)},UIkit.modal("#donateframe")._events[0]=function(){o("donateframe").innerHTML='<iframe src="https://money.yandex.ru/quickpay/shop-widget?writer=seller&targets=%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D1%82%D1%8C%20watchfaceEditor&targets-hint=&default-sum=100&button-text=14&payment-type-choice=on&hint=%D0%9E%D1%81%D1%82%D0%B0%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BE%D1%82%D0%B7%D1%8B%D0%B2&successURL=&quickpay=shop&account=41001928688597" width="460" height="222" frameborder="0" allowtransparency="true" scrolling="no"></iframe>',setTimeout(function(){o("donateframe").classList.remove("uk-modal")},10)},UIkit.modal("#modal-about")._events[0]=function(){o("siteopened").innerHTML=o("siteopened").innerHTML.replace("$times",localStorage.showcount)},"showcount"in localStorage?(localStorage.showcount++,10==localStorage.showcount&&setTimeout(()=>UIkit.modal(o("modal-donate")).show(),250)):localStorage.showcount=1,navigator.userAgent.indexOf("Electron")>=0&&(r("js/electronApp.js"),g.app.local=!1),g.app.local?r("js/utilit.js"):setTimeout(r,2e3,"js/metrika.js"),g.app.endLoad()},g.load={allinone:function(){g.coords=g.converter.import(JSON.parse('{"Background":{"Image":{"ImageIndex":265,"X":0,"Y":0}},"Time":{"DrawingOrder":"1234","Hours":{"Ones":{"ImageIndex":200,"ImagesCount":10,"X":9,"Y":0},"Tens":{"ImageIndex":200,"ImagesCount":10,"X":0,"Y":0}},"Minutes":{"Ones":{"ImageIndex":200,"ImagesCount":10,"X":29,"Y":0},"Tens":{"ImageIndex":200,"ImagesCount":10,"X":20,"Y":0}},"AmPm":{"X":41,"Y":11,"ImageIndexAm":233,"ImageIndexPm":234},"Seconds":{"Tens":{"X":41,"Y":0,"ImageIndex":200,"ImagesCount":10},"Ones":{"X":51,"Y":0,"ImageIndex":200,"ImagesCount":10}}},"Date":{"WeekDay":{"X":0,"Y":24,"ImageIndex":210,"ImagesCount":7},"MonthAndDay":{"Separate":{"Day":{"TopLeftX":0,"TopLeftY":11,"BottomRightX":15,"BottomRightY":20,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Month":{"TopLeftX":20,"TopLeftY":11,"BottomRightX":35,"BottomRightY":20,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10}},"TwoDigitsMonth":true,"TwoDigitsDay":true}},"Activity":{"Steps":{"TopLeftX":40,"TopLeftY":111,"BottomRightX":82,"BottomRightY":120,"Alignment":"TopRight","Spacing":2,"ImageIndex":200,"ImagesCount":10},"StepsGoal":{"TopLeftX":94,"TopLeftY":111,"BottomRightX":136,"BottomRightY":120,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Pulse":{"TopLeftX":43,"TopLeftY":148,"BottomRightX":67,"BottomRightY":157,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Calories":{"TopLeftX":2,"TopLeftY":148,"BottomRightX":35,"BottomRightY":157,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Distance":{"Number":{"TopLeftX":0,"TopLeftY":162,"BottomRightX":58,"BottomRightY":171,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"SuffixImageIndex":231,"DecimalPointImageIndex":232}},"StepsProgress":{"Linear":{"StartImageIndex":200,"Segments":[{"X":40,"Y":121},{"X":55,"Y":121},{"X":67,"Y":121},{"X":79,"Y":121},{"X":91,"Y":121},{"X":104,"Y":121},{"X":117,"Y":121},{"X":130,"Y":121}]},"Circle":{"CenterX":88,"CenterY":88,"RadiusX":24,"RadiusY":24,"StartAngle":0,"EndAngle":360,"Width":3,"Color":"0x00FF00"},"GoalImage":{"X":83,"Y":111,"ImageIndex":266}},"Status":{"Alarm":{"Coordinates":{"X":140,"Y":0},"ImageIndexOn":224},"Bluetooth":{"Coordinates":{"X":164,"Y":13},"ImageIndexOn":220,"ImageIndexOff":221},"Lock":{"Coordinates":{"X":166,"Y":0},"ImageIndexOn":223},"DoNotDisturb":{"Coordinates":{"X":153,"Y":0},"ImageIndexOn":222}},"Battery":{"Icon":{"X":116,"Y":0,"ImageIndex":225,"ImagesCount":6},"Text":{"TopLeftX":3,"TopLeftY":133,"BottomRightX":27,"BottomRightY":142,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Scale":{"StartImageIndex":200,"Segments":[{"X":90,"Y":64},{"X":104,"Y":73},{"X":100,"Y":93},{"X":80,"Y":106},{"X":65,"Y":95},{"X":63,"Y":76},{"X":69,"Y":64}]}},"Weather":{"Icon":{"CustomIcon":{"X":146,"Y":146,"ImageIndex":267,"ImagesCount":26}},"AirPollution":{"Icon":{"X":79,"Y":136,"ImageIndex":235,"ImagesCount":6}},"Temperature":{"Current":{"Number":{"TopLeftX":142,"TopLeftY":136,"BottomRightX":175,"BottomRightY":145,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"MinusImageIndex":217,"DegreesImageIndex":218},"Today":{"Separate":{"Day":{"Number":{"TopLeftX":93,"TopLeftY":166,"BottomRightX":114,"BottomRightY":175,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"MinusImageIndex":217,"DegreesImageIndex":218},"Night":{"Number":{"TopLeftX":93,"TopLeftY":153,"BottomRightX":114,"BottomRightY":162,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"MinusImageIndex":217,"DegreesImageIndex":218}}}}},"AnalogDialFace":{"Hours":{"OnlyBorder":false,"Color":"0xFFFFFF","Center":{"X":88,"Y":88},"Shape":[{"X":-17,"Y":-2},{"X":54,"Y":-2},{"X":54,"Y":1},{"X":-17,"Y":1}]},"Minutes":{"OnlyBorder":false,"Color":"0xFFFFFF","Center":{"X":88,"Y":88},"Shape":[{"X":-17,"Y":-2},{"X":68,"Y":-2},{"X":68,"Y":1},{"X":-17,"Y":1}]},"Seconds":{"OnlyBorder":false,"Color":"0xFF0000","Center":{"X":88,"Y":88},"Shape":[{"X":-21,"Y":-1},{"X":82,"Y":-1},{"X":82,"Y":0},{"X":-21,"Y":0}],"CenterImage":{"X":84,"Y":84,"ImageIndex":200}}}}')),g.makeWf()},disableBtn:function(e){e?(o("editor-tab").classList.remove("uk-disabled"),o("makepng").removeAttribute("disabled"),o("viewsettings").removeAttribute("disabled"),o("jsonEditor-tab").classList.remove("uk-disabled"),o("resources-tab").classList.remove("uk-disabled"),o("analog-watch-tab").classList.remove("uk-disabled"),setTimeout(g.makeWf,300)):(o("editor-tab").classList.add("uk-disabled"),o("makepng").setAttribute("disabled",""),o("viewsettings").setAttribute("disabled",""),o("jsonEditor-tab").classList.add("uk-disabled"),o("resources-tab").classList.add("uk-disabled"),o("analog-watch-tab").classList.add("uk-disabled"))},clearjs:function(){o("inputjs").value="",g.coords={},g.data.jsset=!1,o("inputjs").nextElementSibling.classList.contains("uk-label-success")&&o("inputjs").nextElementSibling.classList.remove("uk-label-success"),o("inputjs").nextElementSibling.classList.add("uk-button-danger"),o("inputjs").nextElementSibling.classList.remove("uk-button-default"),g.load.disableBtn(0)},clearimg:function(){o("inputimages").value="",o("allimages").innerHTML="",g.data.imagesset=!1,o("inputimages").nextElementSibling.classList.contains("uk-label-success")&&o("inputimages").nextElementSibling.classList.remove("uk-label-success"),o("inputimages").nextElementSibling.classList.add("uk-button-danger"),o("inputimages").nextElementSibling.classList.remove("uk-button-default"),g.load.disableBtn(0)},renderImage:function(e){let t=new FileReader;t.onload=function(t){let a=t.target.result;isNaN(Number(e.name.replace(".png","")))?"weather.png"==e.name&&(o("weather").parentNode.removeChild(o("weather")),o("allimages").innerHTML+='<img src="'+a+'" id="'+e.name.replace(".png","")+'" >'):o("allimages").innerHTML+='<img src="'+a+'" id="'+Number(e.name.replace(".png",""))+'" >'},t.readAsDataURL(e),t=null}},o("inputimages").addEventListener("click",g.load.clearimg),o("inputjs").addEventListener("click",g.load.clearjs),g.init()}]);