!function(e){var t={};function a(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);var o={import:function(e,t){let a={};return"Background"in e&&(a.bg=e.Background),"Time"in e&&(a.time=e.Time,"Seconds"in e.Time&&(a.seconds=e.Time.Seconds,delete a.time.Seconds),"AmPm"in e.Time&&(a.amPm=e.Time.AmPm,delete a.time.AmPm)),"Date"in e?(a.date=!0,"WeekDay"in e.Date&&(a.weekDay=e.Date.WeekDay),"MonthAndDay"in e.Date&&(a.monthandday=e.Date.MonthAndDay,"Separate"in e.Date.MonthAndDay&&("Day"in e.Date.MonthAndDay.Separate&&(a.dateDay=e.Date.MonthAndDay.Separate.Day),"Month"in e.Date.MonthAndDay.Separate&&(a.dateMonth=e.Date.MonthAndDay.Separate.Month),delete a.monthandday.Separate),"OneLine"in e.Date.MonthAndDay&&(a.dateOneLine=e.Date.MonthAndDay.OneLine,delete a.monthandday.OneLine))):a.date=!1,"Battery"in e?(a.battery=!0,"Icon"in e.Battery&&(a.batteryIcon=e.Battery.Icon),"Text"in e.Battery&&(a.batteryText="bip"==t?e.Battery.Text:e.Battery.Text.Number),"Scale"in e.Battery&&(a.batteryScale=e.Battery.Scale)):a.battery=!1,"Status"in e?(a.status=!0,"Alarm"in e.Status&&(a.statAlarm=e.Status.Alarm),"Bluetooth"in e.Status&&(a.statBt=e.Status.Bluetooth),"DoNotDisturb"in e.Status&&(a.statDnd=e.Status.DoNotDisturb),"Lock"in e.Status&&(a.statLock=e.Status.Lock)):a.status=!1,"Activity"in e?(a.activity=!0,"Calories"in e.Activity&&("bip"==t?a.actCal=e.Activity.Calories:(a.actCal=e.Activity.Calories.Number,delete e.Activity.Calories.Number,a.actCal.cor=e.Activity.Calories)),"Steps"in e.Activity&&("bip"==t?a.actSteps=e.Activity.Steps:(a.actSteps=e.Activity.Steps.Number,delete e.Activity.Steps.Number,a.actSteps.cor=e.Activity.Steps)),"StepsGoal"in e.Activity&&("bip"==t?a.actStepsGoal=e.Activity.StepsGoal:(a.actStepsGoal=e.Activity.StepsGoal.Number,delete e.Activity.StepsGoal.Number,a.actStepsGoal.cor=e.Activity.StepsGoal)),"Pulse"in e.Activity&&("bip"==t?a.actPulse=e.Activity.Pulse:(a.actPulse=e.Activity.Pulse.Number,delete e.Activity.Pulse.Number,a.actPulse.cor=e.Activity.Pulse)),"Distance"in e.Activity&&(a.actDistance=e.Activity.Distance)):a.activity=!1,"Weather"in e?(a.weather=!0,"Icon"in e.Weather&&(a.weathericon=e.Weather.Icon),"Temperature"in e.Weather&&("Today"in e.Weather.Temperature&&("OneLine"in e.Weather.Temperature.Today&&(a.weatherOneLine=e.Weather.Temperature.Today.OneLine),"Separate"in e.Weather.Temperature.Today&&("Day"in e.Weather.Temperature.Today.Separate&&(a.weatherDay=e.Weather.Temperature.Today.Separate.Day),"Night"in e.Weather.Temperature.Today.Separate&&(a.weatherNight=e.Weather.Temperature.Today.Separate.Night),"DayAlt"in e.Weather.Temperature.Today.Separate&&(a.weatherDayAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Day)),a.weatherDayAlt.Number.BottomRightX=a.weatherDayAlt.Number.BottomRightX-a.weatherDayAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.DayAlt.X,a.weatherDayAlt.Number.BottomRightY=a.weatherDayAlt.Number.BottomRightY-a.weatherDayAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.DayAlt.Y,a.weatherDayAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.DayAlt.X,a.weatherDayAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.DayAlt.Y),"NightAlt"in e.Weather.Temperature.Today.Separate&&(a.weatherNightAlt=JSON.parse(JSON.stringify(e.Weather.Temperature.Today.Separate.Night)),a.weatherNightAlt.Number.BottomRightX=a.weatherNightAlt.Number.BottomRightX-a.weatherNightAlt.Number.TopLeftX+e.Weather.Temperature.Today.Separate.NightAlt.X,a.weatherNightAlt.Number.BottomRightY=a.weatherNightAlt.Number.BottomRightY-a.weatherNightAlt.Number.TopLeftY+e.Weather.Temperature.Today.Separate.NightAlt.Y,a.weatherNightAlt.Number.TopLeftX=e.Weather.Temperature.Today.Separate.NightAlt.X,a.weatherNightAlt.Number.TopLeftY=e.Weather.Temperature.Today.Separate.NightAlt.Y))),"Current"in e.Weather.Temperature&&(a.weatherCurrent=e.Weather.Temperature.Current)),"AirPollution"in e.Weather&&("Icon"in e.Weather.AirPollution&&(a.weatherAirIcon=e.Weather.AirPollution.Icon),"Index"in e.Weather.AirPollution&&(a.weatherAirText=e.Weather.AirPollution.Index))):a.weather=!1,"StepsProgress"in e?(a.stepsprogress=!0,"Circle"in e.StepsProgress&&(a.stepscircle=e.StepsProgress.Circle),"Linear"in e.StepsProgress&&(a.stepsLinear=e.StepsProgress.Linear),"GoalImage"in e.StepsProgress&&(a.stepsGoal=e.StepsProgress.GoalImage)):a.stepsprogress=!1,"AnalogDialFace"in e?(a.analog=!0,"Hours"in e.AnalogDialFace&&(a.analoghours=e.AnalogDialFace.Hours),"Minutes"in e.AnalogDialFace&&(a.analogminutes=e.AnalogDialFace.Minutes),"Seconds"in e.AnalogDialFace&&(a.analogseconds=e.AnalogDialFace.Seconds)):a.analog=!1,a},export:function(e,t){let a={};return"bg"in e&&(a.Background=e.bg),"time"in e&&(a.Time=JSON.parse(JSON.stringify(e.time)),"seconds"in e&&(a.Time.Seconds=e.seconds),"amPm"in e&&(a.Time.AmPm=e.amPm)),e.date&&(a.Date={},"weekDay"in e&&(a.Date.WeekDay=e.weekDay),"monthandday"in e&&(a.Date.MonthAndDay=e.monthandday,("dateDay"in e||"dateMonth"in e)&&(a.Date.MonthAndDay.Separate={},"dateDay"in e&&(a.Date.MonthAndDay.Separate.Day=e.dateDay),"dateMonth"in e&&(a.Date.MonthAndDay.Separate.Month=e.dateMonth)),"dateOneLine"in e&&(a.Date.MonthAndDay.OneLine=e.dateOneLine))),e.status&&(a.Status={},"statAlarm"in e&&(a.Status.Alarm=e.statAlarm),"statBt"in e&&(a.Status.Bluetooth=e.statBt),"statDnd"in e&&(a.Status.DoNotDisturb=e.statDnd),"statLock"in e&&(a.Status.Lock=e.statLock)),e.battery&&(a.Battery={},"batteryIcon"in e&&(a.Battery.Icon=e.batteryIcon),"batteryText"in e&&("bip"==t?a.Battery.Text=e.batteryText:(a.Battery.Text={},a.Battery.Text.Number=e.batteryText)),"batteryScale"in e&&(a.Battery.Scale=e.batteryScale)),e.activity&&(a.Activity={},"actCal"in e&&("bip"==t?a.Activity.Calories=e.actCal:(a.Activity.Calories=e.actCal.cor,a.Activity.Calories.Number=e.actCal,delete a.Activity.Calories.Number.cor)),"actSteps"in e&&("bip"==t?a.Activity.Steps=e.actSteps:(a.Activity.Steps=e.actSteps.cor,a.Activity.Steps.Number=JSON.parse(JSON.stringify(e.actSteps)),delete a.Activity.Steps.Number.cor)),"actStepsGoal"in e&&("bip"==t?a.Activity.StepsGoal=e.actStepsGoal:(a.Activity.StepsGoal=e.actStepsGoal.cor,a.Activity.StepsGoal.Number=e.actStepsGoal,delete a.Activity.StepsGoal.Number.cor)),"actPulse"in e&&("bip"==t?a.Activity.Pulse=e.actPulse:(a.Activity.Pulse=e.actPulse.cor,a.Activity.Pulse.Number=e.actPulse,delete a.Activity.Pulse.Number.cor)),"actDistance"in e&&(a.Activity.Distance=e.actDistance)),e.weather&&(a.Weather={},"weathericon"in e&&(a.Weather.Icon=e.weathericon),("weatherCurrent"in e||"weatherDay"in e||"weatherNight"in e||"weatherOneLine"in e)&&(a.Weather.Temperature={},("weatherDay"in e||"weatherNight"in e||"weatherOneLine"in e)&&(a.Weather.Temperature.Today={},"weatherOneLine"in e&&(a.Weather.Temperature.Today.OneLine=e.weatherOneLine),("weatherDay"in e||"weatherNight"in e)&&(a.Weather.Temperature.Today.Separate={},"weatherDay"in e&&(a.Weather.Temperature.Today.Separate.Day=e.weatherDay),"weatherNight"in e&&(a.Weather.Temperature.Today.Separate.Night=e.weatherNight),"weatherDayAlt"in e&&(a.Weather.Temperature.Today.Separate.DayAlt={},a.Weather.Temperature.Today.Separate.DayAlt.X=e.weatherDayAlt.Number.TopLeftX,a.Weather.Temperature.Today.Separate.DayAlt.Y=e.weatherDayAlt.Number.TopLeftY),"weatherNightAlt"in e&&(a.Weather.Temperature.Today.Separate.NightAlt={},a.Weather.Temperature.Today.Separate.NightAlt.X=e.weatherNightAlt.Number.TopLeftX,a.Weather.Temperature.Today.Separate.NightAlt.Y=e.weatherNightAlt.Number.TopLeftY))),"weatherCurrent"in e&&(a.Weather.Temperature.Current=e.weatherCurrent)),("weatherAirIcon"in e||"weatherAirText"in e)&&(a.Weather.AirPollution={},"weatherAirIcon"in e&&(a.Weather.AirPollution.Icon=e.weatherAirIcon),"weatherAirText"in e&&(a.Weather.AirPollution.Index=e.weatherAirText))),e.stepsprogress&&(a.StepsProgress={},"stepscircle"in e&&(a.StepsProgress.Circle=e.stepscircle),"stepsLinear"in e&&(a.StepsProgress.Linear=e.stepsLinear),"stepsGoal"in e&&(a.StepsProgress.GoalImage=e.stepsGoal)),e.analog&&(a.AnalogDialFace={},"analoghours"in e&&(a.AnalogDialFace.Hours=e.analoghours),"analogminutes"in e&&(a.AnalogDialFace.Minutes=e.analogminutes),"analogseconds"in e&&(a.AnalogDialFace.Seconds=e.analogseconds)),a}};function n(e){if(null===e)throw{name:"Get element error",element:e};let t=document.getElementById(e);if(null===t)throw{name:"Get element error",element:e};return t}function r(e){if(null===n(e))throw{name:"ImageError",imageIndex:e};return document.getElementById(e).cloneNode(!1)}function s(e,t){return(e-e%t)/t}function i(e){for(var t=document.getElementsByClassName(e),a=0;t.length;a++)n("watchface").removeChild(t[0])}function c(e){try{let a=new XMLHttpRequest;if(a.open("GET","assets/translation/"+e+".json",!1),a.send(),200!=a.status)throw"Respanse status: "+a.status;{e=JSON.parse(a.responseText);let o=document.querySelectorAll("[data-translate-id]");for(var t=0;t<o.length;t++)o[t].dataset.translateId in e&&(void 0===o[t].dataset.link?o[t].innerHTML=e[o[t].dataset.translateId]:o[t].innerHTML=e[o[t].dataset.translateId].replace(/\$link/g,o[t].dataset.link))}}catch(e){console.warn("Loading translation error",e),UIkit.notification("<b>Loading translation error: </b>"+e,{status:"danger",pos:"top-left",timeout:5e3})}}function d(e){switch("amazfit"==localStorage.appTheme&&(document.getElementsByClassName("uk-navbar-left")[0].innerHTML='<a class="uk-navbar-item uk-logo we-white" href="https://v1ack.github.io/watchfaceEditor/"><img src="assets/icon/android-chrome-192x192.png" style="width: auto; height: 60%; margin-right: 10px;">Watchface Editor</a>',document.getElementsByTagName("html")[0].style.background="",document.getElementsByClassName("uk-navbar")[0].style.height="",document.getElementsByClassName("uk-navbar")[0].classList.add("we-white"),document.getElementsByClassName("uk-navbar")[0].classList.remove("amazfit"),document.getElementsByClassName("uk-navbar-container")[0].style.background="linear-gradient(to left, #28a5f5, #1e87f0)",n("menu-amazfit").setAttribute("hidden",""),n("tablist-amazfit").setAttribute("hidden",""),n("tablist").removeAttribute("hidden"),n("donate-link").removeAttribute("hidden"),n("theme-settings").removeAttribute("hidden")),e){case"light":localStorage.appTheme="light",document.body.classList.remove("uk-light"),document.getElementsByTagName("html")[0].classList.remove("uk-background-secondary"),n("vars").classList.remove("uk-card-secondary"),n("modal-howto").childNodes[1].classList.remove("uk-background-secondary"),n("modal-about").childNodes[1].classList.remove("uk-background-secondary"),n("modal-donate").childNodes[1].classList.remove("uk-background-secondary"),n("jsonerrormodal").childNodes[1].classList.remove("uk-background-secondary"),n("modal-preview").childNodes[1].classList.remove("uk-background-secondary"),n("modal-settings").childNodes[1].classList.remove("uk-background-secondary");break;case"dark":localStorage.appTheme="dark",document.body.classList.add("uk-light"),document.getElementsByTagName("html")[0].classList.add("uk-background-secondary"),n("vars").classList.add("uk-card-secondary"),n("modal-howto").childNodes[1].classList.add("uk-background-secondary"),n("modal-about").childNodes[1].classList.add("uk-background-secondary"),n("modal-donate").childNodes[1].classList.add("uk-background-secondary"),n("jsonerrormodal").childNodes[1].classList.add("uk-background-secondary"),n("modal-preview").childNodes[1].classList.add("uk-background-secondary"),n("modal-settings").childNodes[1].classList.add("uk-background-secondary");break;case"amazfit":d("dark"),document.getElementsByClassName("uk-navbar-left")[0].innerHTML='<a class="uk-navbar-item uk-logo we-white" href="https://amazfitwatchfaces.com/"><img src="assets/logo.png" style="width: 200px; image-rendering: auto;"></a>',localStorage.appTheme="amazfit",document.getElementsByTagName("html")[0].style.background="#121314",document.getElementsByClassName("uk-navbar")[0].style.height="50px",document.getElementsByClassName("uk-navbar")[0].classList.remove("we-white"),document.getElementsByClassName("uk-navbar")[0].classList.add("amazfit"),document.getElementsByClassName("uk-navbar-container")[0].style.background="#222",n("menu-amazfit").removeAttribute("hidden"),n("tablist-amazfit").removeAttribute("hidden"),n("tablist").setAttribute("hidden",""),n("donate-link").setAttribute("hidden",""),n("theme-settings").setAttribute("hidden","")}}n("lang-ru").addEventListener("click",()=>{localStorage.lang="ru",c("russian")}),n("lang-en").addEventListener("click",()=>{localStorage.lang="en",c("english")}),n("lang-zh").addEventListener("click",()=>{localStorage.lang="zh",c("chinese")}),n("lang-de").addEventListener("click",()=>{localStorage.lang="de",c("german")}),n("lang-nl").addEventListener("click",()=>{localStorage.lang="nl",c("dutch")}),n("lang-tr").addEventListener("click",()=>{localStorage.lang="tr",c("turkish")}),n("theme-light").addEventListener("click",()=>d("light")),n("theme-dark").addEventListener("click",()=>d("dark"));var l={changeLang:c,changeTheme:d},m={view:{},coords:{},coordsHistory:[],data:{timeOnClock:["20","38"],seconds:[4,3],analog:[259,228,60],weekDay:2,day:6,month:12,battery:20,calories:860,steps:5687,stepsGoal:12e3,distance:[5,67],pulse:72,temp:[22,24],weathericon:0,air:300,alarm:!0,bluetooth:!0,dnd:!0,lock:!0,jsset:!1,imagesset:!1,wfname:"watchface",weatherAlt:!1}};m.elements={timeHoursTens:{name:"Time hours tens",editorId:"e_time_ht",prewiewClass:"c_time",coords:function(){return m.coords.time.Hours.Tens},drawFunc:function(){m.draw.time.time()}},timeHoursOnes:{name:"Time hours ones",editorId:"e_time_ho",prewiewClass:"c_time",coords:function(){return m.coords.time.Hours.Ones},drawFunc:function(){m.draw.time.time()}},timeMinutesTens:{name:"Time minutes tens",editorId:"e_time_mt",prewiewClass:"c_time",coords:function(){return m.coords.time.Minutes.Tens},drawFunc:function(){m.draw.time.time()}},timeMinutesOnes:{name:"Time minutes ones",editorId:"e_time_mo",prewiewClass:"c_time",coords:function(){return m.coords.time.Minutes.Ones},drawFunc:function(){m.draw.time.time()}},timeSecondsTens:{name:"Time seconds tens",editorId:"e_time_st",prewiewClass:"c_sec",coords:function(){return m.coords.seconds.Tens},drawFunc:function(){m.draw.time.seconds()}},timeSecondsOnes:{name:"Time seconds ones",editorId:"e_time_so",prewiewClass:"c_sec",coords:function(){return m.coords.seconds.Ones},drawFunc:function(){m.draw.time.seconds()}},timeM:{name:"AM/PM",editorId:"e_time_am",prewiewClass:"c_time_am",coords:function(){return m.coords.amPm},drawFunc:function(){m.draw.time.time()}},dateWeekday:{name:"Weekday",editorId:"e_date_weekDay",prewiewClass:"c_date_weekDay",coords:function(){return m.coords.weekDay},drawFunc:function(){m.draw.date.weekDay()}},dateDay:{name:"Day",editorId:"e_date_sep_day",prewiewClass:"c_date_sepday",coords:function(){return m.coords.dateDay},drawFunc:function(){m.draw.date.sepday()}},dateMonth:{name:"Month",editorId:"e_date_sep_month",prewiewClass:"c_date_sepmonth",coords:function(){return m.coords.dateMonth},drawFunc:function(){m.draw.date.sepmonth()}},dateOneLine:{name:"Date in one line",editorId:"e_date_oneline",prewiewClass:"c_date_oneline",coords:function(){return m.coords.dateOneLine.Number},drawFunc:function(){m.draw.date.oneline()}},actCalories:{name:"Calories",editorId:"e_act_cal",prewiewClass:"c_act_cal",coords:function(){return m.coords.actCal},drawFunc:function(){m.draw.activity.cal()}},actSteps:{name:"Steps",editorId:"e_act_steps",prewiewClass:"c_act_steps",coords:function(){return m.coords.actSteps},drawFunc:function(){m.draw.activity.steps()}},actStepsGoal:{name:"Steps goal",editorId:"e_act_stepsGoal",prewiewClass:"c_act_stepsg",coords:function(){return m.coords.actStepsGoal},drawFunc:function(){m.draw.activity.stepsGoal()}},actPulse:{name:"Pulse",editorId:"e_act_pulse",prewiewClass:"c_act_pulse",coords:function(){return m.coords.actPulse},drawFunc:function(){m.draw.activity.pulse()}},actDistance:{name:"Distance",editorId:"e_act_distance",prewiewClass:"c_act_distance",coords:function(){return m.coords.actDistance.Number},drawFunc:function(){m.draw.activity.distance()}},batteryIcon:{name:"Battery icon",editorId:"e_battery_icon",prewiewClass:"c_battery_icon",coords:function(){return m.coords.batteryIcon},drawFunc:function(){m.draw.battery.icon()}},batteryText:{name:"Battery text",editorId:"e_battery_text",prewiewClass:"c_battery_text",coords:function(){return m.coords.batteryText},drawFunc:function(){m.draw.battery.text()}},statAlarm:{name:"Alarm",editorId:"e_stat_alarm",prewiewClass:"c_stat_alarm",coords:function(){return m.coords.statAlarm.Coordinates},drawFunc:function(){m.draw.status.alarm()}},statBluetooth:{name:"Bluetooth",editorId:"e_stat_bt",prewiewClass:"c_stat_bt",coords:function(){return m.coords.statBt.Coordinates},drawFunc:function(){m.draw.status.bt()}},statDND:{name:"Do not distrurb",editorId:"e_stat_dnd",prewiewClass:"c_stat_dnd",coords:function(){return m.coords.statDnd.Coordinates},drawFunc:function(){m.draw.status.dnd()}},statLock:{name:"Lock",editorId:"e_stat_lock",prewiewClass:"c_stat_lock",coords:function(){return m.coords.statLock.Coordinates},drawFunc:function(){m.draw.status.lock()}},weatherIcon:{name:"Weather icon",editorId:"e_weather_icon",prewiewClass:"c_weather_icon",coords:function(){return m.coords.weathericon.CustomIcon},drawFunc:function(){m.draw.weather.icon()}},weatherOneLine:{name:"Weather in one line",editorId:"e_weather_temp_today_oneline",prewiewClass:"c_temp_oneline",coords:function(){return m.coords.weatherOneLine.Number},drawFunc:function(){m.draw.weather.temp.oneline()}},weatherDay:{name:"Weather day",editorId:"e_weather_temp_today_sep_day",prewiewClass:"c_temp_sep_day",coords:function(){return m.coords.weatherDay.Number},drawFunc:function(){m.draw.weather.temp.sep.day()}},weatherNight:{name:"Weather night",editorId:"e_weather_temp_today_sep_night",prewiewClass:"c_temp_sep_night",coords:function(){return m.coords.weatherNight.Number},drawFunc:function(){m.draw.weather.temp.sep.night()}},weatherDayAlt:{name:"Weather day alt",editorId:"e_weather_temp_today_sep_day_alt",prewiewClass:"c_temp_sep_day_a",coords:function(){return m.coords.weatherDayAlt.Number},drawFunc:function(){m.draw.weather.temp.sep.dayAlt()}},weatherNightAlt:{name:"Weather night alt",editorId:"e_weather_temp_today_sep_night_alt",prewiewClass:"c_temp_sep_night_a",coords:function(){return m.coords.weatherNightAlt.Number},drawFunc:function(){m.draw.weather.temp.sep.nightAlt()}},weatherCurrent:{name:"Current weather",editorId:"e_weather_temp_current",prewiewClass:"c_temp_cur",coords:function(){return m.coords.weatherCurrent.Number},drawFunc:function(){m.draw.weather.temp.current()}},weatherAirIcon:{name:"Air quality icon",editorId:"e_weather_air_icon",prewiewClass:"c_air_icon",coords:function(){return m.coords.weatherAirIcon},drawFunc:function(){m.draw.weather.airIcon()}},weatherAirText:{name:"Air quality",editorId:"e_weather_air_text",prewiewClass:"c_air_text",coords:function(){return m.coords.weatherAirText},drawFunc:function(){m.draw.weather.airText()}},stepsGoal:{name:"Steps goal",editorId:"e_steps_goal",prewiewClass:"c_steps_goal",coords:function(){return m.coords.stepsGoal},drawFunc:function(){m.draw.stepsprogress.goal()}}};var g=m;function u(e,t,a){"insertto"in e||(e.insertto="imagesinuse"),"addition"in e||(e.addition=""),void 0===a&&(a=1),void 0===t&&(a=0,t="",e.addition=e.addition.slice(2)),n(e.insertto).innerHTML+='<div class="imagessection"><div><span class="imagessection-h">'+e.label+'</span><span class="imagessection-description">ImageIndex: '+t+e.addition+'</span></div><div class="imagessection-images"></div></div>',(t-t%100)/100!=2&&(t-t%100)/100!=3||n(e.insertto).lastChild.classList.add("imagessection-def");for(let o=0;o<a;o++)n(e.insertto).lastChild.lastChild.appendChild(r(t+o)),n(e.insertto).lastChild.lastChild.lastChild.removeAttribute("id");if(arguments.length>3)for(let t=3;t<arguments.length;t++)n(e.insertto).lastChild.lastChild.appendChild(r(arguments[t])),n(e.insertto).lastChild.lastChild.lastChild.removeAttribute("id")}n("imagesbutton").addEventListener("click",()=>(function(e){n("imagesinuse").innerHTML="",n("imagesavalible").innerHTML="","bg"in e&&u({label:"Background"},e.bg.Image.ImageIndex),"time"in e&&(u({label:"Time hours tens"},e.time.Hours.Tens.ImageIndex,e.time.Hours.Tens.ImagesCount),u({label:"Time hours ones"},e.time.Hours.Ones.ImageIndex,e.time.Hours.Ones.ImagesCount),u({label:"Time minutes tens"},e.time.Minutes.Tens.ImageIndex,e.time.Minutes.Tens.ImagesCount),u({label:"Time minutes ones"},e.time.Minutes.Ones.ImageIndex,e.time.Minutes.Ones.ImagesCount),"seconds"in e&&(u({label:"Time seconds tens"},e.seconds.Tens.ImageIndex,e.seconds.Tens.ImagesCount),u({label:"Time seconds ones"},e.seconds.Ones.ImageIndex,e.seconds.Ones.ImagesCount)),"amPm"in e&&u({label:"Time am/pm"},e.amPm.ImageIndexAm,1,e.amPm.ImageIndexPm)),e.date&&("weekDay"in e&&u({label:"Week day"},e.weekDay.ImageIndex,e.weekDay.ImagesCount),"dateDay"in e&&u({label:"Date day"},e.dateDay.ImageIndex,e.dateDay.ImagesCount),"dateMonth"in e&&u({label:"Date month"},e.dateMonth.ImageIndex,e.dateMonth.ImagesCount),"dateOneLine"in e&&u({label:"Date oneline",addition:", "+e.dateOneLine.DelimiterImageIndex},e.dateOneLine.Number.ImageIndex,e.dateOneLine.Number.ImagesCount,e.dateOneLine.DelimiterImageIndex)),e.battery&&("batteryIcon"in e&&u({label:"Battery icon"},e.batteryIcon.ImageIndex,e.batteryIcon.ImagesCount),"batteryText"in e&&u({label:"Battery text"},e.batteryText.ImageIndex,e.batteryText.ImagesCount),"batteryScale"in e&&u({label:"Battery scale"},e.batteryScale.StartImageIndex,e.batteryScale.Segments.length)),e.status&&("statAlarm"in e&&u({label:"Status alarm",addition:", "+e.statAlarm.ImageIndexOff},e.statAlarm.ImageIndexOn,1,e.statAlarm.ImageIndexOff),"statBt"in e&&u({label:"Status bluetooth",addition:", "+e.statBt.ImageIndexOff},e.statBt.ImageIndexOn,1,e.statBt.ImageIndexOff),"statDnd"in e&&u({label:"Status do not disturb",addition:", "+e.statDnd.ImageIndexOff},e.statDnd.ImageIndexOn,1,e.statDnd.ImageIndexOff),"statLock"in e&&u({label:"Status lock",addition:", "+e.statLock.ImageIndexOff},e.statLock.ImageIndexOn,1,e.statLock.ImageIndexOff)),e.activity&&("actCal"in e&&u({label:"Activity calories"},e.actCal.ImageIndex,e.actCal.ImagesCount),"actSteps"in e&&u({label:"Activity steps"},e.actSteps.ImageIndex,e.actSteps.ImagesCount),"statstepsGoal"in e&&u({label:"Activity steps goal"},e.actStepsGoal.ImageIndex,e.actStepsGoal.ImagesCount),"actPulse"in e&&u({label:"Activity pulse"},e.actPulse.ImageIndex,e.actPulse.ImagesCount),"actDistance"in e&&u({label:"Activity distance",addition:", "+e.actDistance.DecimalPointImageIndex+", "+e.actDistance.SuffixImageIndex},e.actDistance.Number.ImageIndex,e.actDistance.Number.ImagesCount,e.actDistance.DecimalPointImageIndex,e.actDistance.SuffixImageIndex)),e.weather&&(e.weathericon&&"CustomIcon"in e.weathericon&&u({label:"Weather icons"},e.weathericon.CustomIcon.ImageIndex,e.weathericon.CustomIcon.ImagesCount),"weatherOneLine"in e&&u({label:"Weather oneline",addition:", "+e.weatherOneLine.MinusSignImageIndex+", "+e.weatherOneLine.DelimiterImageIndex+", "+e.weatherOneLine.DegreesImageIndex},e.weatherOneLine.Number.ImageIndex,e.weatherOneLine.Number.ImagesCount,e.weatherOneLine.MinusSignImageIndex,e.weatherOneLine.DelimiterImageIndex,e.weatherOneLine.DegreesImageIndex),"weatherDay"in e&&u({label:"Weather day",addition:", "+e.weatherDay.MinusImageIndex},e.weatherDay.Number.ImageIndex,e.weatherDay.Number.ImagesCount,e.weatherDay.MinusImageIndex),"weatherNight"in e&&u({label:"Weather night",addition:", "+e.weatherNight.MinusImageIndex},e.weatherNight.Number.ImageIndex,e.weatherNight.Number.ImagesCount,e.weatherNight.MinusImageIndex),"weatherCurrent"in e&&u({label:"Weather current",addition:", "+e.weatherCurrent.MinusImageIndex+", "+e.weatherCurrent.DegreesImageIndex},e.weatherCurrent.Number.ImageIndex,e.weatherCurrent.Number.ImagesCount,e.weatherCurrent.MinusImageIndex,e.weatherCurrent.DegreesImageIndex),"weatherAirIcon"in e&&u({label:"Weather air pollution"},e.weatherAirIcon.ImageIndex,e.weatherAirIcon.ImagesCount)),e.stepsprogress&&("stepsLinear"in e&&u({label:"Steps progress"},e.stepsLinear.StartImageIndex,e.stepsLinear.Segments.length),"stepsGoal"in e&&u({label:"Goal image"},e.stepsGoal.ImageIndex,1)),u({label:"Big digits",insertto:"imagesavalible"},255,10),u({label:"Digits",insertto:"imagesavalible"},200,10),u({label:"Week days",insertto:"imagesavalible"},210,7),u({label:"Week days russian",insertto:"imagesavalible"},241,7),u({label:"Week days russian inverted",insertto:"imagesavalible"},248,7),u({label:"Week days finnish",insertto:"imagesavalible"},294,7),u({label:"Battery icon",insertto:"imagesavalible"},225,6),u({label:"Air pollution",insertto:"imagesavalible"},235,6),u({label:"Weather symbols",insertto:"imagesavalible",addition:", 218, 219"},217,3),u({label:"Bluetooth",insertto:"imagesavalible",addition:", 221"},220,2),u({label:"Distance symbols",insertto:"imagesavalible",addition:", 232"},231,2),u({label:"Am/Pm",insertto:"imagesavalible",addition:", 234"},233,2),u({label:"Status images",insertto:"imagesavalible",addition:", 223, 224"},222,3),u({label:"Steps goal image",insertto:"imagesavalible"},266,1),u({label:"Weather icons",insertto:"imagesavalible"},267,26)})(g.coords));let h=["seconds","amPm","weekDay","dateDay","dateMonth","dateOneLine","batteryIcon","batteryText","batteryScale","statAlarm","statBt","statDnd","statLock","actCal","actSteps","actStepsGoal","actPulse","actDistance","weatherOneLine","weatherDay","weatherNight","weatherCurrent","stepsLinear","stepsGoal","weatherAirIcon","weatherAirText","weatherDayAlt","weatherNightAlt"];function p(e,t){t?(n(e).classList.add("uk-button-primary"),n(e).classList.remove("uk-button-default")):(n(e).classList.remove("uk-button-primary"),n(e).classList.add("uk-button-default"))}function w(){var e;n("codearea").innerHTML=JSON.stringify(o.export(g.coords,localStorage.device),null,4).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"}),f()?n("defaultimages").classList.add("uk-label-success"):n("defaultimages").classList.remove("uk-label-success"),g.makeWf();for(let t in h)(e=h[t])in g.coords?p("tg-"+e,1):p("tg-"+e,0);g.coords.weather&&g.coords.weathericon?"CustomIcon"in g.coords.weathericon?(p("tg-weatherIconCustom",1),p("tg-weatherIcon",0)):(p("tg-weatherIcon",1),p("tg-weatherIconCustom",0)):(p("tg-weatherIcon",0),p("tg-weatherIconCustom",0))}let I={amPm:'"AmPm":',seconds:'"Seconds":',weekDay:'"WeekDay":',dateOneLine:'"MonthAndDay":',dateDay:'"MonthAndDay":',dateMonth:'"Month":',statAlarm:'"Alarm":',statBt:'"Bluetooth":',statLock:'"Lock":',statDnd:'"DoNotDisturb":',actSteps:'"Steps":',actStepsGoal:'"StepsGoal":',actCal:'"Calories":',actDistance:'"Distance":',actPulse:'"Pulse":',batteryIcon:'"Battery":',batteryText:'"Battery":',batteryScale:'"Battery":',weatherIcon:'"Weather":',weatherIconCustom:'"CustomIcon":',weatherAirIcon:'"AirPollution":',weatherAirText:'"AirPollution":',weatherOneLine:'"Temperature":',weatherCurrent:'"Current":',weatherDay:'"Temperature":',weatherNight:'"Night":',stepsGoal:'"GoalImage":',stepsLinear:'"Linear":',weatherDayAlt:'"DayAlt":',weatherNightAlt:'"NightAlt":'};function y(e){switch(e){case"amPm":"amPm"in g.coords?delete g.coords.amPm:g.coords.amPm={X:0,Y:0,ImageIndexAm:233,ImageIndexPm:234};break;case"seconds":"seconds"in g.coords?delete g.coords.seconds:g.coords.seconds={Tens:{X:0,Y:0,ImageIndex:200,ImagesCount:10},Ones:{X:10,Y:0,ImageIndex:200,ImagesCount:10}};break;case"weekDay":"weekDay"in g.coords?(delete g.coords.weekDay,"monthandday"in g.coords||(g.coords.date=!1)):(g.coords.date=!0,g.coords.weekDay={X:0,Y:0,ImageIndex:210,ImagesCount:7});break;case"dateOneLine":"dateOneLine"in g.coords?(delete g.coords.dateOneLine,"weekDay"in g.coords||(g.coords.date=!1),"dateDay"in g.coords||"dateMonth"in g.coords||delete g.coords.monthandday):(g.coords.date=!0,g.coords.monthandday={TwoDigitsMonth:!0,TwoDigitsDay:!0},g.coords.dateOneLine={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:42,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},DelimiterImageIndex:219});break;case"dateDay":"dateDay"in g.coords?(delete g.coords.dateDay,"dateMonth"in g.coords||"dateOneLine"in g.coords||(delete g.coords.monthandday,g.coords.date=!1),"weekDay"in g.coords&&(g.coords.date=!0)):(g.coords.date=!0,"monthandday"in g.coords||(g.coords.monthandday={TwoDigitsMonth:!0,TwoDigitsDay:!0}),g.coords.dateDay={TopLeftX:0,TopLeftY:0,BottomRightX:15,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10});break;case"dateMonth":"dateMonth"in g.coords?(delete g.coords.dateMonth,"dateDay"in g.coords||"dateOneLine"in g.coords||(delete g.coords.monthandday,g.coords.date=!1),"weekDay"in g.coords&&(g.coords.date=!0)):(g.coords.date=!0,"monthandday"in g.coords||(g.coords.monthandday={TwoDigitsMonth:!0,TwoDigitsDay:!0}),g.coords.dateMonth={TopLeftX:0,TopLeftY:0,BottomRightX:15,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10});break;case"statAlarm":g.coords.status||(g.coords.status=!0),"statAlarm"in g.coords?(delete g.coords.statAlarm,"statAlarm"in g.coords||"statBt"in g.coords||"statLock"in g.coords||"statDnd"in g.coords||(g.coords.status=!1)):g.coords.statAlarm={Coordinates:{X:0,Y:0},ImageIndexOn:224};break;case"statBt":g.coords.status||(g.coords.status=!0),"statBt"in g.coords?(delete g.coords.statBt,"statAlarm"in g.coords||"statBt"in g.coords||"statLock"in g.coords||"statDnd"in g.coords||(g.coords.status=!1)):g.coords.statBt={Coordinates:{X:0,Y:0},ImageIndexOn:220,ImageIndexOff:221};break;case"statLock":g.coords.status||(g.coords.status=!0),"statLock"in g.coords?(delete g.coords.statLock,"statAlarm"in g.coords||"statBt"in g.coords||"statLock"in g.coords||"statDnd"in g.coords||(g.coords.status=!1)):g.coords.statLock={Coordinates:{X:0,Y:0},ImageIndexOn:223};break;case"statDnd":g.coords.status||(g.coords.status=!0),"statDnd"in g.coords?(delete g.coords.statDnd,"statAlarm"in g.coords||"statBt"in g.coords||"statLock"in g.coords||"statDnd"in g.coords||(g.coords.status=!1)):g.coords.statDnd={Coordinates:{X:0,Y:0},ImageIndexOn:222};break;case"actSteps":g.coords.activity||(g.coords.activity=!0),"actSteps"in g.coords?(delete g.coords.actSteps,"actSteps"in g.coords||"actStepsGoal"in g.coords||"actCal"in g.coords||"actPulse"in g.coords||"actDistance"in g.coords||(g.coords.activity=!1)):(g.coords.actSteps={TopLeftX:0,TopLeftY:0,BottomRightX:42,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"==localStorage.device&&(g.coords.actSteps.cor={}));break;case"actCal":g.coords.activity||(g.coords.activity=!0),"actCal"in g.coords?(delete g.coords.actCal,"actSteps"in g.coords||"actStepsGoal"in g.coords||"actCal"in g.coords||"actPulse"in g.coords||"actDistance"in g.coords||(g.coords.activity=!1)):(g.coords.actCal={TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"==localStorage.device&&(g.coords.actSteps.cor={}));break;case"actPulse":g.coords.activity||(g.coords.activity=!0),"actPulse"in g.coords?(delete g.coords.actPulse,"actSteps"in g.coords||"actStepsGoal"in g.coords||"actCal"in g.coords||"actPulse"in g.coords||"actDistance"in g.coords||(g.coords.activity=!1)):(g.coords.actPulse={TopLeftX:0,TopLeftY:0,BottomRightX:24,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"==localStorage.device&&(g.coords.actSteps.cor={}));break;case"actStepsGoal":g.coords.activity||(g.coords.activity=!0),"actStepsGoal"in g.coords?(delete g.coords.actStepsGoal,"actSteps"in g.coords||"actStepsGoal"in g.coords||"actCal"in g.coords||"actPulse"in g.coords||"actDistance"in g.coords||(g.coords.activity=!1)):(g.coords.actStepsGoal={TopLeftX:0,TopLeftY:0,BottomRightX:42,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},"cor"==localStorage.device&&(g.coords.actSteps.cor={}));break;case"actDistance":g.coords.activity||(g.coords.activity=!0),"actDistance"in g.coords?(delete g.coords.actDistance,"actSteps"in g.coords||"actStepsGoal"in g.coords||"actCal"in g.coords||"actPulse"in g.coords||"actDistance"in g.coords||(g.coords.activity=!1)):g.coords.actDistance={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:58,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},SuffixImageIndex:231,DecimalPointImageIndex:232};break;case"batteryIcon":g.coords.battery||(g.coords.battery=!0),"batteryIcon"in g.coords?(delete g.coords.batteryIcon,"batteryIcon"in g.coords||"batteryScale"in g.coords||"batteryText"in g.coords||(g.coords.battery=!1)):g.coords.batteryIcon={X:0,Y:0,ImageIndex:225,ImagesCount:6};break;case"batteryText":g.coords.battery||(g.coords.battery=!0),"batteryText"in g.coords?(delete g.coords.batteryText,"batteryIcon"in g.coords||"batteryScale"in g.coords||"batteryText"in g.coords||(g.coords.battery=!1)):g.coords.batteryText={TopLeftX:0,TopLeftY:0,BottomRightX:24,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10};break;case"batteryScale":g.coords.battery||(g.coords.battery=!0),"batteryScale"in g.coords?(delete g.coords.batteryScale,"batteryIcon"in g.coords||"batteryScale"in g.coords||"batteryText"in g.coords||(g.coords.battery=!1)):g.coords.batteryScale={StartImageIndex:200,Segments:[{X:55,Y:0},{X:65,Y:0},{X:75,Y:0},{X:85,Y:0},{X:95,Y:0},{X:105,Y:0},{X:115,Y:0}]};break;case"weatherIcon":g.coords.weather||(g.coords.weather=!0),g.coords.weathericon?(delete g.coords.weathericon,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weathericon={Coordinates:{X:0,Y:0}};break;case"weatherIconCustom":g.coords.weather||(g.coords.weather=!0),g.coords.weathericon?(delete g.coords.weathericon,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weathericon={CustomIcon:{X:0,Y:0,ImageIndex:267,ImagesCount:26}};break;case"weatherAirIcon":g.coords.weather||(g.coords.weather=!0),"weatherAirIcon"in g.coords?(delete g.coords.weatherAirIcon,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherAirIcon={X:0,Y:0,ImageIndex:235,ImagesCount:6};break;case"weatherAirText":g.coords.weather||(g.coords.weather=!0),"weatherAirText"in g.coords?(delete g.coords.weatherAirText,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherAirText={TopLeftX:0,TopLeftY:0,BottomRightX:24,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10};break;case"weatherOneLine":g.coords.weather||(g.coords.weather=!0),"weatherOneLine"in g.coords?(delete g.coords.weatherOneLine,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherOneLine={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:66,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusSignImageIndex:217,DelimiterImageIndex:219,AppendDegreesForBoth:!1,DegreesImageIndex:218};break;case"weatherCurrent":g.coords.weather||(g.coords.weather=!0),"weatherCurrent"in g.coords?(delete g.coords.weatherCurrent,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherCurrent={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218};break;case"weatherDay":g.coords.weather||(g.coords.weather=!0),"weatherDay"in g.coords?(delete g.coords.weatherDay,delete g.coords.weatherDayAlt,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherDay={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218};break;case"weatherNight":g.coords.weather||(g.coords.weather=!0),"weatherNight"in g.coords?(delete g.coords.weatherNight,delete g.coords.weatherNightAlt,"weathericon"in g.coords||"weatherAirIcon"in g.coords||"weatherOneLine"in g.coords||"weatherCurrent"in g.coords||"weatherDay"in g.coords||"weatherNight"in g.coords||"weatherAirText"in g.coords||(g.coords.weather=!1)):g.coords.weatherNight={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218};break;case"weatherDayAlt":"weatherDayAlt"in g.coords?delete g.coords.weatherDayAlt:g.coords.weather&&"weatherDay"in g.coords?g.coords.weatherDayAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:g.coords.weatherDay.Number.BottomRightX-g.coords.weatherDay.Number.TopLeftX+10,BottomRightY:g.coords.weatherDay.Number.BottomRightY-g.coords.weatherDay.Number.TopLeftY+10,Alignment:"TopLeft",Spacing:g.coords.weatherDay.Number.Spacing,ImageIndex:g.coords.weatherDay.Number.ImageIndex,ImagesCount:g.coords.weatherDay.Number.ImagesCount},MinusImageIndex:g.coords.weatherDay.Number.MinusImageIndex,DegreesImageIndex:g.coords.weatherDay.Number.DegreesImageIndex}:(g.coords.weather=!0,g.coords.weatherDay={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218},g.coords.weatherDayAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:43,BottomRightY:19,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218});break;case"weatherNightAlt":"weatherNightAlt"in g.coords?delete g.coords.weatherNightAlt:g.coords.weather&&"weatherNight"in g.coords?g.coords.weatherNightAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:g.coords.weatherNight.Number.BottomRightX-g.coords.weatherNight.Number.TopLeftX+10,BottomRightY:g.coords.weatherNight.Number.BottomRightY-g.coords.weatherNight.Number.TopLeftY+10,Alignment:"TopLeft",Spacing:g.coords.weatherNight.Number.Spacing,ImageIndex:g.coords.weatherNight.Number.ImageIndex,ImagesCount:g.coords.weatherNight.Number.ImagesCount},MinusImageIndex:g.coords.weatherNight.Number.MinusImageIndex,DegreesImageIndex:g.coords.weatherNight.Number.DegreesImageIndex}:(g.coords.weather=!0,g.coords.weatherNight={Number:{TopLeftX:0,TopLeftY:0,BottomRightX:33,BottomRightY:9,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218},g.coords.weatherNightAlt={Number:{TopLeftX:10,TopLeftY:10,BottomRightX:43,BottomRightY:19,Alignment:"TopLeft",Spacing:2,ImageIndex:200,ImagesCount:10},MinusImageIndex:217,DegreesImageIndex:218});break;case"stepsGoal":g.coords.stepsprogress||(g.coords.stepsprogress=!0),"stepsGoal"in g.coords?(delete g.coords.stepsGoal,"stepsLinear"in g.coords||"stepsGoal"in g.coords||"stepscircle"in g.coords||(g.coords.stepsprogress=!1)):g.coords.stepsGoal={X:0,Y:0,ImageIndex:266};break;case"stepsLinear":g.coords.stepsprogress||(g.coords.stepsprogress=!0),"stepsLinear"in g.coords?(delete g.coords.stepsLinear,"stepsLinear"in g.coords||"stepsGoal"in g.coords||"stepscircle"in g.coords||(g.coords.stepsprogress=!1)):g.coords.stepsLinear={StartImageIndex:200,Segments:[{X:50,Y:160},{X:60,Y:160},{X:70,Y:160},{X:80,Y:160},{X:90,Y:160},{X:100,Y:160},{X:110,Y:160},{X:120,Y:160}]};break;default:console.error("Error in toggle: ",e)}w(),function(e){var t,a,o=function(e){for(var t=0;t<n("codearea").childNodes.length;t++)if("SPAN"==n("codearea").childNodes[t].tagName&&n("codearea").childNodes[t].childNodes[0].data==e)return n("codearea").childNodes[t]}(e);if(!o)return 0;(t=document.createRange()).selectNode(o.childNodes[0]),(a=window.getSelection()).removeAllRanges(),a.addRange(t),n("codearea").scrollTop=o.offsetTop-200}(I[e])}function f(e){var t=Array();for(let e=0;e<n("watchface").childNodes.length;e++)n("watchface").childNodes[e].classList.contains("default-image")&&t.push(n("watchface").childNodes[e].src.slice(-7,-4));t.sort();for(let e=t.length-1;e>0;e--)t[e]==t[e-1]&&t.splice(e,1);return e&&t.length&&UIkit.notification(("checkImages"in g.app.lang?g.app.lang.checkImages:"Check images in watchface folder. At least images with index(s): ")+t,{status:"warning",pos:"top-left",timeout:5e3}),t.length}function b(){var e;if(f(1),"stepsLinear"in g.coords&&g.coords.stepsLinear.Segments.length>20&&(e="imagesLimitSteps"in g.app.lang?g.app.lang.imagesLimitSteps:"Image limit for steps progress is 20. If you use more, they won't be dispaly",UIkit.notification(e,{status:"warning",pos:"top-left",timeout:5e3})),g.app.notWebkitBased){var t=new Blob([JSON.stringify(o.export(g.coords,localStorage.device),null,4)],{type:"text/plain;charset=utf-8"});saveAs(t,g.data.wfname+".json")}else{var a=document.createElement("a");a.href="data:application/octet-stream;base64, "+btoa(JSON.stringify(o.export(g.coords,localStorage.device),null,4)),a.download=g.data.wfname+".json",a.click()}}n("codeopenbutton").addEventListener("click",()=>(w(),void(g.app.firstopen_editor&&localStorage.showcount<8&&(sessionStorage.firstopen_editor=!1,UIkit.notification("jsonupdate"in g.app.lang?g.app.lang.jsonupdate:"To update pre.just click out of JSON input",{status:"primary",pos:"top-left",timeout:3e3}),g.app.firstopen_editor=!1)))),n("editor-export").addEventListener("click",()=>b()),n("jsoneditor-export").addEventListener("click",()=>b()),n("jsoneditor-undo").addEventListener("click",()=>void(g.coordsHistory.length&&(g.coords=JSON.parse(g.coordsHistory.pop()),w()))),n("codearea").addEventListener("blur",()=>(function(){try{g.coordsHistory.push(JSON.stringify(g.coords)),g.coords=o.import(jsonlint.parse(n("codearea").innerText),localStorage.device),w()}catch(e){n("jsonerrortext").innerHTML=e,setTimeout(function(){UIkit.modal(n("jsonerrormodal")).show()},250),console.warn(e)}})());let x=document.getElementsByClassName("editor-button"),L=e=>{y(e.target.id.split("-")[1])};for(let e=0;e<x.length;e++)x[e].addEventListener("click",L);function S(){if("bg"in g.coords){var e=r(g.coords.bg.Image.ImageIndex);e.style.left=3*g.coords.bg.Image.X+"px",e.style.top=3*g.coords.bg.Image.Y+"px",e.style.position="absolute",e.style.zIndex=-1,e.height*=3,e.width*=3,e.removeAttribute("id"),e.ondragstart=function(){return!1},n("analog-bg").appendChild(e)}n("analog-color").onchange=function(){D.Color=n("analog-color").value,v()},n("analog-center-x").onchange=function(){D.Center.X=Number(n("analog-center-x").value),v()},n("analog-center-y").onchange=function(){D.Center.Y=Number(n("analog-center-y").value),v()},n("analog-fill").onchange=function(){n("analog-fill").checked?D.OnlyBorder=!1:D.OnlyBorder=!0,v()},v(void 0!==k?k:"hours")}function v(e){if(void 0!==e){switch(e){case"hours":D=g.coords.analoghours;break;case"minutes":D=g.coords.analogminutes;break;case"seconds":D=g.coords.analogseconds}k=e}if(_=0,g.makeWf(),n("analog").innerHTML="","analog"+k in g.coords){for(var t in n("analog").innerHTML+='<div class="analog-center" style="left: '+(3*D.Center.X-11)+"px;top:"+(3*D.Center.Y-11)+'px"></div>',n("analog").innerHTML+='<div class="analog-line" style="left: '+(3*D.Center.X-3)+"px;height:"+(3*D.Center.Y-11)+'px"></div>',n("analog").innerHTML+='<svg id="analogsvg" width="528" height="528"></svg>',n("analog").childNodes.length)n("analog").childNodes[t].oncontextmenu=event.preventDefault();!function(e,t){let a=e.Color.replace("0x","#"),o="M "+3*e.Shape[0].X+" "+3*e.Shape[0].Y,r=e.Shape.length,s=e.OnlyBorder?"none":a,i=e=>{e.preventDefault(),T(e)};for(let t=0;t<r;t++){o+="L "+3*e.Shape[t].X+" "+3*e.Shape[t].Y+" ";let a=document.createElement("div");a.classList.add("analog-dot"),a.id="dot"+_++,a.style.left=3*e.Shape[t].Y+3*e.Center.X-4+"px",a.style.top=3*e.Shape[t].X*-1+3*e.Center.Y-4+"px",a.oncontextmenu=i,C(a,D.Shape[t]),n("analog").appendChild(a)}o+="L "+3*e.Shape[0].X+" "+3*e.Shape[0].Y+" ",n("analogsvg").innerHTML+='<path d="'+o+'" transform="rotate('+(t-90)+" "+3*e.Center.X+" "+3*e.Center.Y+") translate("+3*e.Center.X+" "+3*e.Center.Y+') " fill="'+s+'" stroke="'+a+'"></path>',"CenterImage"in e&&g.view.setPosN(e.CenterImage,0,"c_an_img")}(D,0),n("analog").onclick=function(e){!function(e){if(_>=12)return;var t=g.editor.getOffsetRect(n("analog")),a=document.createElement("div");a.classList.add("analog-dot"),a.id="dot"+_++,a.style.left=e.pageX-t.left-(e.pageX-t.left)%3+"px",a.style.top=e.pageY-t.top-(e.pageY-t.top)%3+"px",a.oncontextmenu=function(e){e.preventDefault(),T(e)};var o={X:(Number(a.style.top.replace("px",""))+3-3*D.Center.X)/-3,Y:(Number(a.style.left.replace("px",""))+3-3*D.Center.X)/3};D.Shape.push(o),v(k)}(e)},n("analog-center-x").value=D.Center.X,n("analog-center-y").value=D.Center.Y,n("analog-fill").checked=!D.OnlyBorder,n("analog-color").style.backgroundColor=D.Color,n("analog-color").value=""}else n("analog").onclick=function(e){return!1}}function T(e){_>2&&(D.Shape.splice(Number(e.target.id.replace("dot","")),1),_--,v(k))}let D={},k="hours",_=0;function C(e,t){e.onmousedown=function(a){if(1==a.which){var o,r=g.editor.getOffsetRect(n("analog")),s={top:(o=e.getBoundingClientRect()).top+pageYOffset,left:o.left+pageXOffset},i=a.pageX-s.left,c=a.pageY-s.top;e.style.position="absolute",d(a),e.style.zIndex=1e3,n("analog").onmousemove=function(e){d(e)},e.onmouseup=function(){n("analog").onmousemove=null,e.onmouseup=null,e.style.zIndex="auto",e.style.top=g.editor.styleToNum(e.style.top)>0&&g.editor.styleToNum(e.style.top)<528?g.editor.styleToNum(e.style.top)-g.editor.styleToNum(e.style.top)%3+"px":"0px",e.style.left=g.editor.styleToNum(e.style.left)>0&&g.editor.styleToNum(e.style.left)<528?g.editor.styleToNum(e.style.left)-g.editor.styleToNum(e.style.left)%3+"px":"0px",t.X=(Number(e.style.top.replace("px",""))+3-3*D.Center.X)/-3,t.Y=(Number(e.style.left.replace("px",""))+3-3*D.Center.X)/3,v(k)}}function d(t){e.style.left=t.pageX-r.left-i+"px",e.style.top=t.pageY-r.top-c+"px"}},e.ondragstart=function(){return!1}}n("analogbutton").addEventListener("click",()=>{S(),UIkit.tab(n("analog-tab")).show(0)}),n("analog-toggle").addEventListener("click",()=>(function(e){switch(e){case"hours":"analoghours"in g.coords?(delete g.coords.analoghours,"analoghours"in g.coords||"analogseconds"in g.coords||"analogminutes"in g.coords||(g.coords.analog=!1)):(g.coords.analog=!0,g.coords.analoghours={Center:{X:88,Y:88},Color:"0xFFFFFF",OnlyBorder:!1,Shape:[{X:-17,Y:-2},{X:54,Y:-2},{X:54,Y:1},{X:-17,Y:1}]});break;case"minutes":"analogminutes"in g.coords?(delete g.coords.analogminutes,"analoghours"in g.coords||"analogseconds"in g.coords||"analogminutes"in g.coords||(g.coords.analog=!1)):(g.coords.analog=!0,g.coords.analogminutes={Center:{X:88,Y:88},Color:"0xFFFFFF",OnlyBorder:!1,Shape:[{X:-17,Y:-2},{X:68,Y:-2},{X:68,Y:1},{X:-17,Y:1}]});break;case"seconds":"analogseconds"in g.coords?(delete g.coords.analogseconds,"analoghours"in g.coords||"analogseconds"in g.coords||"analogminutes"in g.coords||(g.coords.analog=!1)):(g.coords.analog=!0,g.coords.analogseconds={Center:{X:88,Y:88},Color:"0xFF0000",OnlyBorder:!1,Shape:[{X:-21,Y:-1},{X:82,Y:-1},{X:82,Y:0},{X:-21,Y:0}]})}S()})(k)),n("analog-hours").addEventListener("click",()=>v("hours")),n("analog-minutes").addEventListener("click",()=>v("minutes")),n("analog-seconds").addEventListener("click",()=>v("seconds"));let A={time:{time:function(){var e=g.data.timeOnClock[0];if("amPm"in g.coords){var t=1;Number(e)>12?(1==(e=(Number(e)-12).toString()).length&&(e="0"+e),t=0):12==Number(e)&&(t=0);let a=r(t?g.coords.amPm.ImageIndexAm:g.coords.amPm.ImageIndexPm);O(a,g.coords.amPm),Y(a,"c_time_am")}if(B(g.coords.time.Hours.Tens,Number(e[0]),"c_time"),B(g.coords.time.Hours.Ones,Number(e[1]),"c_time"),B(g.coords.time.Minutes.Tens,Number(g.data.timeOnClock[1][0]),"c_time"),B(g.coords.time.Minutes.Ones,Number(g.data.timeOnClock[1][1]),"c_time"),"DrawingOrder"in g.coords.time){var a=document.getElementsByClassName("c_time");a[0].style.zIndex=Number(g.coords.time.DrawingOrder[0]),a[1].style.zIndex=Number(g.coords.time.DrawingOrder[1]),a[2].style.zIndex=Number(g.coords.time.DrawingOrder[2]),a[3].style.zIndex=Number(g.coords.time.DrawingOrder[3])}},seconds:function(){B(g.coords.seconds.Tens,g.data.seconds[0],"c_sec"),B(g.coords.seconds.Ones,g.data.seconds[1],"c_sec")}},date:{weekDay:function(){B(g.coords.weekDay,g.data.weekDay,"c_date_weekDay")},sepday:function(){var e=P(g.coords.dateDay,g.data.day);g.coords.monthandday.TwoDigitsDay&&(s(g.data.day,10)||(e.block.splice(-1,0,r(g.coords.dateDay.ImageIndex)),e.width+=n(g.coords.dateDay.ImageIndex).width+g.coords.dateDay.Spacing)),M(e.block,e.width,g.coords.dateDay,"c_date_sepday")},sepmonth:function(){var e=P(g.coords.dateMonth,g.data.month);g.coords.monthandday.TwoDigitsMonth&&(s(g.data.month,10)||(e.block.splice(-1,0,r(g.coords.dateMonth.ImageIndex)),e.width+=n(g.coords.dateMonth.ImageIndex).width+g.coords.dateMonth.Spacing)),M(e.block,e.width,g.coords.dateMonth,"c_date_sepmonth")},oneline:function(){let e=r(g.coords.dateOneLine.DelimiterImageIndex),t=P(g.coords.dateOneLine.Number,g.data.month);g.coords.monthandday.TwoDigitsMonth&&(s(g.data.month,10)||(t.block.splice(-1,0,r(g.coords.dateOneLine.Number.ImageIndex)),t.width+=n(g.coords.dateOneLine.Number.ImageIndex).width+g.coords.dateOneLine.Number.Spacing)),t.block.push(e),t.width+=e.width+g.coords.dateOneLine.Number.Spacing;var a=P(g.coords.dateOneLine.Number,g.data.day);t.block=t.block.concat(a.block),g.coords.monthandday.TwoDigitsDay&&(s(g.data.day,10)||(t.block.splice(-1,0,r(g.coords.dateOneLine.Number.ImageIndex)),t.width+=n(g.coords.dateOneLine.Number.ImageIndex).width+g.coords.dateOneLine.Number.Spacing)),t.width+=a.width,M(t.block,t.width,g.coords.dateOneLine.Number,"c_date_oneline")}},battery:{icon:function(){var e=Math.round(g.data.battery/(100/(g.coords.batteryIcon.ImagesCount-1)));B(g.coords.batteryIcon,e,"c_battery_icon")},text:function(){X(g.coords.batteryText,g.data.battery,"c_battery_text")},scale:function(){let e=Math.ceil(g.data.battery/(100/(g.coords.batteryScale.Segments.length-1)));for(var t=0;t<=e;t++){let e=r(g.coords.batteryScale.StartImageIndex+t);O(e,g.coords.batteryScale.Segments[t]),Y(e,"c_battery_scale")}}},analog:{hours:function(){N(g.coords.analoghours,g.data.analog[0])},minutes:function(){N(g.coords.analogminutes,g.data.analog[1])},seconds:function(){N(g.coords.analogseconds,g.data.analog[2])}},status:{alarm:function(){let e;if("ImageIndexOff"in g.coords.statAlarm&&!g.data.alarm)e=r(g.coords.statAlarm.ImageIndexOff);else{if(!("ImageIndexOn"in g.coords.statAlarm&&g.data.alarm))return;e=r(g.coords.statAlarm.ImageIndexOn)}e.style.left=g.coords.statAlarm.Coordinates.X+"px",e.style.top=g.coords.statAlarm.Coordinates.Y+"px",Y(e,"c_stat_alarm")},bt:function(){let e;if("ImageIndexOff"in g.coords.statBt&&!g.data.bluetooth)e=r(g.coords.statBt.ImageIndexOff);else{if(!("ImageIndexOn"in g.coords.statBt&&g.data.bluetooth))return;e=r(g.coords.statBt.ImageIndexOn)}e.style.left=g.coords.statBt.Coordinates.X+"px",e.style.top=g.coords.statBt.Coordinates.Y+"px",Y(e,"c_stat_bt")},dnd:function(){let e;if("ImageIndexOff"in g.coords.statDnd&&!g.data.dnd)e=r(g.coords.statDnd.ImageIndexOff);else{if(!("ImageIndexOn"in g.coords.statDnd&&g.data.dnd))return;e=r(g.coords.statDnd.ImageIndexOn)}e.style.left=g.coords.statDnd.Coordinates.X+"px",e.style.top=g.coords.statDnd.Coordinates.Y+"px",Y(e,"c_stat_dnd")},lock:function(){let e;if("ImageIndexOff"in g.coords.statLock&&!g.data.lock)e=r(g.coords.statLock.ImageIndexOff);else{if(!("ImageIndexOn"in g.coords.statLock&&g.data.lock))return;e=r(g.coords.statLock.ImageIndexOn)}e.style.left=g.coords.statLock.Coordinates.X+"px",e.style.top=g.coords.statLock.Coordinates.Y+"px",Y(e,"c_stat_lock")}},activity:{cal:function(){X(g.coords.actCal,g.data.calories,"c_act_cal","cor"==localStorage.device)},steps:function(){X(g.coords.actSteps,g.data.steps,"c_act_steps","cor"==localStorage.device)},stepsGoal:function(){X(g.coords.actStepsGoal,g.data.stepsGoal,"c_act_stepsg","cor"==localStorage.device)},pulse:function(){X(g.coords.actPulse,g.data.pulse,"c_act_pulse","cor"==localStorage.device)},distance:function(){var e=r(g.coords.actDistance.DecimalPointImageIndex),t=r(g.coords.actDistance.SuffixImageIndex);let a=P(g.coords.actDistance.Number,g.data.distance[0]);a.block.push(e),a.width+=e.width+g.coords.actDistance.Number.Spacing;var o=P(g.coords.actDistance.Number,g.data.distance[1]);a.block=a.block.concat(o.block),a.width+=o.width,a.block.push(t),a.width+=t.width,M(a.block,a.width,g.coords.actDistance.Number,"c_act_distance")}},stepsprogress:{circle:function(){var e=g.coords.stepscircle.Color.replace("0x","#"),t=Math.floor(2*g.coords.stepscircle.RadiusX*Math.PI/360*(g.coords.stepscircle.EndAngle-g.coords.stepscircle.StartAngle)),a=Math.round(g.data.steps/(g.data.stepsGoal/t));a>t&&(a=t),n("svg-cont-steps").innerHTML+='<ellipse transform="rotate('+(-90+g.coords.stepscircle.StartAngle)+" "+g.coords.stepscircle.CenterX+" "+g.coords.stepscircle.CenterY+')" cx="'+g.coords.stepscircle.CenterX+'" cy="'+g.coords.stepscircle.CenterY+'" rx="'+g.coords.stepscircle.RadiusX+'" ry="'+g.coords.stepscircle.RadiusY+'" fill="rgba(255,255,255,0)" stroke-width="'+g.coords.stepscircle.Width+'" stroke="'+e+'" stroke-dasharray="'+a+" "+(t-a)+'" stroke-linecap="none"></ellipse>'},linear:function(){var e=Math.floor(g.data.steps/(g.data.stepsGoal/g.coords.stepsLinear.Segments.length))-1;e>g.coords.stepsLinear.Segments.length-1&&(e=g.coords.stepsLinear.Segments.length-1);for(var t=0;t<=e;t++){let e=r(g.coords.stepsLinear.StartImageIndex+t);O(e,g.coords.stepsLinear.Segments[t]),Y(e,"c_steps_linear")}},goal:function(){g.data.steps>=g.data.stepsGoal&&B(g.coords.stepsGoal,0,"c_steps_goal")}},weather:{icon:function(){if("CustomIcon"in g.coords.weathericon){let e=r(g.coords.weathericon.CustomIcon.ImageIndex+g.data.weathericon);e.style.left=g.coords.weathericon.CustomIcon.X+"px",e.style.top=g.coords.weathericon.CustomIcon.Y+"px",Y(e,"c_weather_icon")}else{let e=r("weather");e.style.left=g.coords.weathericon.Coordinates.X+"px",e.style.top=g.coords.weathericon.Coordinates.Y+"px",Y(e,"c_weather_icon")}},temp:{oneline:function(){var e=r(g.coords.weatherOneLine.DelimiterImageIndex),t=r(g.coords.weatherOneLine.DegreesImageIndex),a=g.data.temp[0]<0?r(g.coords.weatherOneLine.MinusSignImageIndex):0;let o=P(g.coords.weatherOneLine.Number,Math.abs(g.data.temp[0]));0!==a&&(o.block.splice(0,0,a),o.width+=a.width),o.block.push(e),o.width+=e.width+g.coords.weatherOneLine.Number.Spacing;var n=P(g.coords.weatherOneLine.Number,Math.abs(g.data.temp[1]));0!==(a=g.data.temp[1]<0?r(g.coords.weatherOneLine.MinusSignImageIndex):0)&&(n.block.splice(0,0,a),n.width+=a.width),o.block=o.block.concat(n.block),o.width+=n.width,o.block.push(t),o.width+=t.width,M(o.block,o.width,g.coords.weatherOneLine.Number,"c_temp_oneline")},sep:{day:function(){if(g.data.weatherAlt)return;let e=g.data.temp[0]<0?r(g.coords.weatherDay.MinusImageIndex):0,t=P(g.coords.weatherDay.Number,Math.abs(g.data.temp[0]));if("DegreesImageIndex"in g.coords.weatherDay){var a=r(g.coords.weatherDay.DegreesImageIndex);t.block.push(a),t.width+=a.width+g.coords.weatherDay.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),M(t.block,t.width,g.coords.weatherDay.Number,"c_temp_sep_day")},night:function(){if(g.data.weatherAlt)return;let e=g.data.temp[1]<0?r(g.coords.weatherNight.MinusImageIndex):0,t=P(g.coords.weatherNight.Number,Math.abs(g.data.temp[1]));if("DegreesImageIndex"in g.coords.weatherNight){var a=r(g.coords.weatherNight.DegreesImageIndex);t.block.push(a),t.width+=a.width+g.coords.weatherNight.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),M(t.block,t.width,g.coords.weatherNight.Number,"c_temp_sep_night")},dayAlt:function(){if(!g.data.weatherAlt)return;let e=g.data.temp[0]<0?r(g.coords.weatherDay.MinusImageIndex):0,t=P(g.coords.weatherDay.Number,Math.abs(g.data.temp[0]));if("DegreesImageIndex"in g.coords.weatherDay){var a=r(g.coords.weatherDay.DegreesImageIndex);t.block.push(a),t.width+=a.width+g.coords.weatherDay.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),M(t.block,t.width,g.coords.weatherDayAlt.Number,"c_temp_sep_day_alt")},nightAlt:function(){if(!g.data.weatherAlt)return;let e=g.data.temp[1]<0?r(g.coords.weatherNight.MinusImageIndex):0,t=P(g.coords.weatherNight.Number,Math.abs(g.data.temp[1]));if("DegreesImageIndex"in g.coords.weatherNight){var a=r(g.coords.weatherNight.DegreesImageIndex);t.block.push(a),t.width+=a.width+g.coords.weatherNight.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),M(t.block,t.width,g.coords.weatherNightAlt.Number,"c_temp_sep_night_alt")}},current:function(){if(g.data.weatherAlt)return;let e=g.data.temp[0]<0?r(g.coords.weatherCurrent.MinusImageIndex):0,t=P(g.coords.weatherCurrent.Number,Math.abs(g.data.temp[0]));if("DegreesImageIndex"in g.coords.weatherCurrent){var a=r(g.coords.weatherCurrent.DegreesImageIndex);t.block.push(a),t.width+=a.width+g.coords.weatherCurrent.Number.Spacing}0!==e&&(t.block.splice(0,0,e),t.width+=e.width),M(t.block,t.width,g.coords.weatherCurrent.Number,"c_temp_cur")}},airIcon:function(){B(g.coords.weatherAirIcon,0,"c_air_icon")},airText:function(){X(g.coords.weatherAirText,g.data.air,"c_air_text")}}};function N(e,t){for(var a=e.Color.replace("0x","#"),o="M "+e.Shape[0].X+" "+e.Shape[0].Y,r=e.Shape.length,s=e.OnlyBorder?"none":a,i=0;i<r;i++)o+="L "+e.Shape[i].X+" "+e.Shape[i].Y+" ";o+="L "+e.Shape[0].X+" "+e.Shape[0].Y+" ",n("svg-cont-clock").innerHTML+='<path d="'+o+'" transform="rotate('+(t-90)+" "+e.Center.X+" "+e.Center.Y+") translate("+e.Center.X+" "+e.Center.Y+') " fill="'+s+'" stroke="'+a+'"></path>',"CenterImage"in e&&B(e.CenterImage,0,"c_an_img")}function X(e,t,a,o){var n=P(e,t);if(o){if("PrefixImageIndex"in e.cor){let t=r(e.cor.PrefixImageIndex);n.block.splice(0,0,t),n.width+=t.width+e.Spacing}if("SuffixImageIndex"in e.cor){let t=r(e.cor.SuffixImageIndex);n.block.push(t),n.width+=t.width+e.Spacing}if("EmptyImageIndex"in e.cor&&0===t){let t=r(e.cor.EmptyImageIndex);n.block=[t],n.width=t.width}}M(n.block,n.width,e,a)}function Y(e,t){e.removeAttribute("id"),e.classList.add(t),n("watchface").appendChild(e)}function B(e,t,a){var o=r(e.ImageIndex+t);o.style.left=e.X+"px",o.style.top=e.Y+"px",Y(o,a)}function O(e,t){e.style.left=t.X+"px",e.style.top=t.Y+"px"}function M(e,t,a,o){var n,r,i=0;switch(a.Alignment){case 18:case"TopLeft":for(e.reverse();e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.TopLeftY+"px",Y(n,o),i+=n.width+a.Spacing;break;case 24:case"TopCenter":case"Top":for(e.reverse(),i=s(a.BottomRightX-a.TopLeftX+1-t,2);e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.TopLeftY+"px",Y(n,o),i+=n.width+a.Spacing;break;case 20:case"TopRight":for(;e.length;)(n=e.pop()).style.left=a.BottomRightX-n.width+1-i+"px",n.style.top=a.TopLeftY+"px",Y(n,o),i+=n.width+a.Spacing;break;case 66:case"CenterLeft":case"Left":for(e.reverse(),r=s(a.BottomRightY-a.TopLeftY+1-e[0].height,2);e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.TopLeftY+r+"px",Y(n,o),i+=n.width+a.Spacing;break;case 72:case"Center":case"VCenter":case"HCenter":for(e.reverse(),i=s(a.BottomRightX-a.TopLeftX+1-t,2),r=s(a.BottomRightY-a.TopLeftY+1-e[0].height,2);e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.TopLeftY+r+"px",Y(n,o),i+=n.width+a.Spacing;break;case 68:case"CenterRight":case"Right":for(r=s(a.BottomRightY-a.TopLeftY+1-e[0].height,2);e.length;)(n=e.pop()).style.left=a.BottomRightX-n.width+1-i+"px",n.style.top=a.TopLeftY+r+"px",Y(n,o),i+=n.width+a.Spacing;break;case 34:case"BottomLeft":for(e.reverse();e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.BottomRightY-n.height+1+"px",Y(n,o),i+=n.width+a.Spacing;break;case 40:case"BottomCenter":case"Bottom":for(e.reverse(),i=s(a.BottomRightX-a.TopLeftX+1-t,2);e.length;)(n=e.pop()).style.left=a.TopLeftX+i+"px",n.style.top=a.BottomRightY-n.height+1+"px",Y(n,o),i+=n.width+a.Spacing;break;case 36:case"BottomRight":for(;e.length;)(n=e.pop()).style.left=a.BottomRightX-n.width+1-i+"px",n.style.top=a.BottomRightY-n.height+1+"px",Y(n,o),i+=n.width+a.Spacing;break;default:UIkit.notification("Alignment <b>("+a.Alignment+")</b> is incorrect. You made a mistake",{status:"danger",pos:"top-left",timeout:7500})}}function P(e,t){t=t.toString();for(var a,o=Array(),n=0;""!==t;)a=r(e.ImageIndex+Number(t[0])),o.push(a),n+=a.width+e.Spacing,t=t.substr(1);return{block:o,width:n-=e.Spacing}}let R={time_change:()=>{var e=n("in-time").value.split(":");g.data.timeOnClock[0]=e[0],g.data.timeOnClock[1]=e[1],g.data.analog[0]=30*(e[0]>12?e[0]-12:e[0])+.5*e[1],g.data.analog[1]=6*e[1],n("svg-cont-clock").innerHTML="","analog"in g.coords&&("analoghours"in g.coords&&A.analog.hours(),"analogminutes"in g.coords&&A.analog.minutes(),"analogseconds"in g.coords&&A.analog.seconds()),i("c_time"),"time"in g.coords&&A.time.time()},date_change:()=>{var e=n("in-date").valueAsDate||new Date(n("in-date").value);try{g.data.day=e.getUTCDate(),g.data.month=e.getUTCMonth()+1,g.data.weekDay=e.getUTCDay()>0?e.getUTCDay()-1:6,i("c_date_sepday"),i("c_date_weekDay"),i("c_date_sepmonth"),i("c_date_oneline"),g.coords.date&&("weekDay"in g.coords&&A.date.weekDay(),"dateDay"in g.coords&&A.date.sepday(),"dateMonth"in g.coords&&A.date.sepmonth(),"dateOneLine"in g.coords&&A.date.oneline())}catch(e){console.warn(e)}},sec_change:()=>{n("in-sec").value>59&&(n("in-sec").value=59),n("in-sec").value<0&&(n("in-sec").value=0);var e=n("in-sec").value;g.data.seconds[0]=Number(e.split("")[0]),g.data.seconds[1]=Number(1==e.split("").length?0:e.split("")[1]),g.data.analog[2]=6*e,n("svg-cont-clock").innerHTML="","analog"in g.coords&&("analoghours"in g.coords&&A.analog.hours(),"analogminutes"in g.coords&&A.analog.minutes(),"analogseconds"in g.coords&&A.analog.seconds()),i("c_sec"),"time"in g.coords&&"seconds"in g.coords&&A.time.seconds()},battery_change:()=>{n("in-battery").value>100&&(n("in-battery").value=100),n("in-battery").value<0&&(n("in-battery").value=0),g.data.battery=n("in-battery").value,i("c_battery_icon"),i("c_battery_scale"),i("c_battery_text"),g.coords.battery&&("batteryIcon"in g.coords&&A.battery.icon(),"batteryText"in g.coords&&A.battery.text(),"batteryScale"in g.coords&&A.battery.scale())},alarm_change:()=>{g.data.alarm=n("in-alarm").checked,i("c_stat_alarm"),g.coords.status&&"statAlarm"in g.coords&&A.status.alarm()},bt_change:()=>{g.data.bluetooth=n("in-bt").checked,i("c_stat_bt"),g.coords.status&&"statBt"in g.coords&&A.status.bt()},dnd_change:()=>{g.data.dnd=n("in-dnd").checked,i("c_stat_dnd"),g.coords.status&&"statDnd"in g.coords&&A.status.dnd()},lock_change:()=>{g.data.lock=n("in-lock").checked,i("c_stat_lock"),g.coords.status&&"statLock"in g.coords&&A.status.lock()},weatherAlt_change:()=>{g.data.weatherAlt=n("in-weatherAlt").checked,g.data.weatherAlt?(i("c_temp_sep_day"),i("c_temp_sep_night"),i("c_temp_cur"),"weatherDayAlt"in g.coords&&A.weather.temp.sep.dayAlt(),"weatherNightAlt"in g.coords&&A.weather.temp.sep.nightAlt()):(i("c_temp_sep_night_alt"),i("c_temp_sep_day_alt"),"weatherDay"in g.coords&&A.weather.temp.sep.day(),"weatherNight"in g.coords&&A.weather.temp.sep.night(),"weatherCurrent"in g.coords&&A.weather.temp.current())},steps_change:()=>{n("in-steps").value>99999&&(n("in-steps").value=99999),n("in-steps").value<0&&(n("in-steps").value=0),g.data.steps=parseInt(n("in-steps").value),i("c_act_steps"),g.coords.activity&&"actSteps"in g.coords&&A.activity.steps(),i("c_steps_linear"),i("c_steps_goal"),n("svg-cont-steps").innerHTML="",g.coords.stepsprogress&&("stepscircle"in g.coords&&A.stepsprogress.circle(),"stepsLinear"in g.coords&&A.stepsprogress.linear(),"stepsGoal"in g.coords&&g.data.steps>=g.data.stepsGoal&&A.stepsprogress.goal())},distance_change:()=>{n("in-distance").value>99&&(n("in-distance").value=99),n("in-distance").value<0&&(n("in-distance").value=0);var e=n("in-distance").value.split(".");g.data.distance[0]=Number(e[0]),g.data.distance[1]=e.length>1?e[1].slice(0,2):"00",i("c_act_distance"),g.coords.activity&&"actDistance"in g.coords&&A.activity.distance()},pulse_change:()=>{n("in-pulse").value>999&&(n("in-pulse").value=999),n("in-pulse").value<0&&(n("in-pulse").value=0),g.data.pulse=n("in-pulse").value,i("c_act_pulse"),g.coords.activity&&"actPulse"in g.coords&&A.activity.pulse()},calories_change:()=>{n("in-calories").value>9999&&(n("in-calories").value=9999),n("in-calories").value<0&&(n("in-calories").value=0),g.data.calories=n("in-calories").value,i("c_act_cal"),g.coords.activity&&"actCal"in g.coords&&A.activity.cal()},stepsGoal_change:()=>{n("in-stepsGoal").value>99999&&(n("in-stepsGoal").value=99999),n("in-stepsGoal").value<0&&(n("in-stepsGoal").value=0),g.data.stepsGoal=parseInt(n("in-stepsGoal").value),i("c_act_stepsGoal"),g.coords.activity&&"statstepsGoal"in g.coords&&A.activity.stepsGoal(),i("c_steps_linear"),i("c_steps_goal"),g.coords.stepsprogress&&("stepscircle"in g.coords&&A.stepsprogress.circle(),"stepsLinear"in g.coords&&A.stepsprogress.linear(),"stepsGoal"in g.coords&&g.data.steps>=g.data.stepsGoal&&A.stepsprogress.goal())},weatherd_change:()=>{n("in-weatherd").value>199&&(n("in-weatherd").value=199),n("in-weatherd").value<-99&&(n("in-weatherd").value=-99),g.data.temp[0]=n("in-weatherd").value,i("c_temp_sep_day"),i("c_temp_cur"),i("c_temp_oneline"),g.coords.weather&&("weatherOneLine"in g.coords&&A.weather.temp.oneline(),"weatherDay"in g.coords&&A.weather.temp.sep.day(),"weatherCurrent"in g.coords&&A.weather.temp.current())},weathern_change:()=>{n("in-weathern").value>199&&(n("in-weathern").value=199),n("in-weathern").value<-99&&(n("in-weathern").value=-99),g.data.temp[1]=n("in-weathern").value,i("c_temp_sep_night"),i("c_temp_oneline"),g.coords.weather&&("weatherOneLine"in g.coords&&A.weather.temp.oneline(),"weatherNight"in g.coords&&A.weather.temp.sep.night())},air_change:()=>{n("in-air").value>500&&(n("in-air").value=500),n("in-air").value<0&&(n("in-air").value=0),g.data.air=n("in-air").value,i("c_air_text"),g.coords.weather&&"weatherAirText"in g.coords&&A.weather.airText()},weathericon_change:()=>{n("in-weathericon").value>26&&(n("in-weathericon").value=26),n("in-weathericon").value<1&&(n("in-weathericon").value=1),g.data.weathericon=n("in-weathericon").value-1,i("c_weather_icon"),g.coords.weather&&g.coords.weathericon&&A.weather.icon()}};n("realsizePreview").addEventListener("click",function(){html2canvas(n("watchfaceimage"),{onrendered:function(e){n("realsizePreview").innerHTML="",n("realsizePreview").appendChild(e)}})}),n("makepng").addEventListener("click",function(){let e="watchfaceblock";n("makepngwithwatch").checked&&(e="watchfaceimage"),html2canvas(n(e),{onrendered:function(e){if(e.getContext("2d"),g.app.notWebkitBased)e.toBlob(function(e){saveAs(e,g.data.wfname+".png")});else{let t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download=g.data.wfname+".png",t.click(),t=null}}})});let W=["time","date","battery","calories","steps","stepsGoal","pulse","distance","weatherd","weathern","weathericon","sec","alarm","bt","dnd","lock","weatherAlt","air"];for(let e in W)n("in-"+W[e]).addEventListener("change",R[W[e]+"_change"]);g.makeWf=function(){try{n("watchface").innerHTML="",n("svg-cont-clock").innerHTML="",n("svg-cont-steps").innerHTML="","cor"==localStorage.device?B({ImageIndex:293,X:0,Y:0},0,"wf_bg"):B({ImageIndex:265,X:0,Y:0},0,"wf_bg"),document.getElementsByClassName("wf_bg")[0].classList.remove("default-image"),"bg"in g.coords&&B(g.coords.bg.Image,0,"c_bg"),"time"in g.coords&&A.time.time(),"seconds"in g.coords&&A.time.seconds(),g.coords.date&&("weekDay"in g.coords&&A.date.weekDay(),"dateDay"in g.coords&&A.date.sepday(),"dateMonth"in g.coords&&A.date.sepmonth(),"dateOneLine"in g.coords&&A.date.oneline()),g.coords.battery&&("batteryIcon"in g.coords&&A.battery.icon(),"batteryText"in g.coords&&A.battery.text(),"batteryScale"in g.coords&&A.battery.scale()),g.coords.status&&("statAlarm"in g.coords&&A.status.alarm(),"statBt"in g.coords&&A.status.bt(),"statDnd"in g.coords&&A.status.dnd(),"statLock"in g.coords&&A.status.lock()),g.coords.activity&&("actCal"in g.coords&&A.activity.cal(),"actSteps"in g.coords&&A.activity.steps(),"actStepsGoal"in g.coords&&A.activity.stepsGoal(),"actPulse"in g.coords&&A.activity.pulse(),"actDistance"in g.coords&&A.activity.distance()),g.coords.weather&&("weathericon"in g.coords&&A.weather.icon(),"weatherOneLine"in g.coords&&A.weather.temp.oneline(),"weatherDay"in g.coords&&A.weather.temp.sep.day(),"weatherNight"in g.coords&&A.weather.temp.sep.night(),"weatherDayAlt"in g.coords&&A.weather.temp.sep.dayAlt(),"weatherNightAlt"in g.coords&&A.weather.temp.sep.nightAlt(),"weatherCurrent"in g.coords&&A.weather.temp.current(),"weatherAirIcon"in g.coords&&A.weather.airIcon(),"weatherAirText"in g.coords&&A.weather.airText()),g.coords.stepsprogress&&("stepscircle"in g.coords&&A.stepsprogress.circle(),"stepsLinear"in g.coords&&A.stepsprogress.linear(),"stepsGoal"in g.coords&&g.data.steps>=g.data.stepsGoal&&A.stepsprogress.goal()),g.coords.analog&&("analoghours"in g.coords&&A.analog.hours(),"analogminutes"in g.coords&&A.analog.minutes(),"analogseconds"in g.coords&&A.analog.seconds())}catch(e){console.warn(e),"ImageError"==e.name&&UIkit.notification(("imagenotfound"in g.app.lang?g.app.lang.imagenotfound:"Image with index $index not found").replace("$index","<b>"+e.imageIndex+"</b>"),{status:"danger",pos:"top-left",timeout:7500}),"TypeError"==e.name&&UIkit.notification("Image for prorety not found",{status:"danger",pos:"top-left",timeout:7500})}},g.view={setPosN:B},g.draw=A;let G=function(e,t){n("editor").innerHTML+='<div id="'+t+'" style="height:'+3*n("ImageIndexOn"in e?e.ImageIndexOn:e.ImageIndexOff).height+"px; width:"+3*n("ImageIndexOn"in e?e.ImageIndexOn:e.ImageIndexOff).width+"px; top:"+3*e.Coordinates.Y+"px; left:"+3*e.Coordinates.X+'px;" class="editor-elem"></div>'},E=function(e){return Number(e.replace("px",""))},F=function(){if(n("editor").innerHTML="","bg"in g.coords){var e=r(g.coords.bg.Image.ImageIndex);e.style.left=3*g.coords.bg.Image.X+"px",e.style.top=3*g.coords.bg.Image.Y+"px",e.style.position="absolute",e.height*=3,e.width*=3,e.removeAttribute("id"),n("editor").appendChild(e),setTimeout(function(){n("editor").childNodes[0].ondragstart=function(){return!1}},10)}if("time"in g.coords&&(z("timeHoursTens"),z("timeHoursOnes"),z("timeMinutesTens"),z("timeMinutesOnes"),"seconds"in g.coords&&(z("timeSecondsTens"),z("timeSecondsOnes")),"amPm"in g.coords&&(n("editor").innerHTML+='<div id="e_time_am" style="height:'+3*n(g.coords.amPm.ImageIndexAm).height+"px; width:"+3*n(g.coords.amPm.ImageIndexAm).width+"px; top:"+3*g.coords.amPm.Y+"px; left:"+3*g.coords.amPm.X+'px;" class="editor-elem"></div>',j("timeM"))),g.coords.date&&("weekDay"in g.coords&&z("dateWeekday"),"dateDay"in g.coords&&U("dateDay"),"dateMonth"in g.coords&&U("dateMonth"),"dateOneLine"in g.coords&&U("dateOneLine")),g.coords.activity&&("actCal"in g.coords&&U("actCalories"),"actSteps"in g.coords&&U("actSteps"),"actStepsGoal"in g.coords&&U("actStepsGoal"),"actPulse"in g.coords&&U("actPulse"),"actDistance"in g.coords&&U("actDistance")),g.coords.battery&&("batteryIcon"in g.coords&&z("batteryIcon"),"batteryText"in g.coords&&U("batteryText"),"batteryScale"in g.coords)){let e=e=>H("e_battery_linar_"+e,g.coords.batteryScale.Segments[e],"c_battery_scale",g.draw.battery.scale);for(let t=0;t<g.coords.batteryScale.Segments.length;t++)n("editor").innerHTML+='<div id="e_battery_linar_'+t+'" style="height:'+3*n(g.coords.batteryScale.StartImageIndex+t).height+"px; width:"+3*n(g.coords.batteryScale.StartImageIndex+t).width+"px; top:"+3*g.coords.batteryScale.Segments[t].Y+"px; left:"+3*g.coords.batteryScale.Segments[t].X+'px;" class="editor-elem"></div>',setTimeout(e,10,t)}if(g.coords.status&&("statAlarm"in g.coords&&(G(g.coords.statAlarm,"e_stat_alarm"),j("statAlarm")),"statBt"in g.coords&&(G(g.coords.statBt,"e_stat_bt"),j("statBluetooth")),"statDnd"in g.coords&&(G(g.coords.statDnd,"e_stat_dnd"),j("statDND")),"statLock"in g.coords&&(G(g.coords.statLock,"e_stat_lock"),j("statLock"))),g.coords.weather&&("weathericon"in g.coords&&("CustomIcon"in g.coords.weathericon?(n("editor").innerHTML+='<div id="e_weather_icon" style="height:'+3*n(g.coords.weathericon.CustomIcon.ImageIndex).height+"px; width:"+3*n(g.coords.weathericon.CustomIcon.ImageIndex).width+"px; top:"+3*g.coords.weathericon.CustomIcon.Y+"px; left:"+3*g.coords.weathericon.CustomIcon.X+'px;" class="editor-elem"></div>',setTimeout(function(){H("e_weather_icon",g.coords.weathericon.CustomIcon,"c_weather_icon",g.draw.weather.icon)},10)):(n("editor").innerHTML+='<div id="e_weather_icon" style="height:'+3*n("weather").height+"px; width:"+3*n("weather").width+"px; top:"+3*g.coords.weathericon.Coordinates.Y+"px; left:"+3*g.coords.weathericon.Coordinates.X+'px;" class="editor-elem"></div>',setTimeout(function(){H("e_weather_icon",g.coords.weathericon.Coordinates,"c_weather_icon",g.draw.weather.icon)},10))),"weatherOneLine"in g.coords&&U("weatherOneLine"),"weatherDay"in g.coords&&U("weatherDay"),"weatherNight"in g.coords&&U("weatherNight"),"weatherDayAlt"in g.coords&&U("weatherDayAlt"),"weatherNightAlt"in g.coords&&U("weatherNightAlt"),"weatherCurrent"in g.coords&&U("weatherCurrent"),"weatherAirIcon"in g.coords&&z("weatherAirIcon"),"weatherAirText"in g.coords&&U("weatherAirText")),g.coords.stepsprogress){if(g.coords,"stepsLinear"in g.coords){let e=e=>H("e_steps_linar_"+e,g.coords.stepsLinear.Segments[e],"c_steps_linear",g.draw.stepsprogress.linear);for(let t=0;t<g.coords.stepsLinear.Segments.length;t++)n("editor").innerHTML+='<div id="e_steps_linar_'+t+'" style="height:'+3*n(g.coords.stepsLinear.StartImageIndex+t).height+"px; width:"+3*n(g.coords.stepsLinear.StartImageIndex+t).width+"px; top:"+3*g.coords.stepsLinear.Segments[t].Y+"px; left:"+3*g.coords.stepsLinear.Segments[t].X+'px;" class="editor-elem"></div>',setTimeout(e,10,t)}"stepsGoal"in g.coords&&z("stepsGoal")}},H=function(e,t,a,o){(e=n(e)).onmousedown=function(r){g.coordsHistory.push(JSON.stringify(g.coords));var s,c=J(n("editor")),d={top:(s=e.getBoundingClientRect()).top+pageYOffset,left:s.left+pageXOffset},l=r.pageX-d.left,m=r.pageY-d.top;function u(t){e.style.left=t.pageX-c.left-l+"px",e.style.top=t.pageY-c.top-m+"px",n("e_coords").innerHTML="X: "+(E(e.style.left)-E(e.style.left)%3)/3+", Y: "+(E(e.style.top)-E(e.style.top)%3)/3}e.style.position="absolute",u(r),e.style.zIndex=1e3,n("editor").onmousemove=function(e){u(e)},e.onmouseup=function(){if(n("editor").onmousemove=null,e.onmouseup=null,e.style.zIndex="auto",e.style.top=E(e.style.top)>0&&E(e.style.top)<528?E(e.style.top)-E(e.style.top)%3+"px":"0px",e.style.left=E(e.style.left)>0&&E(e.style.left)<528?E(e.style.left)-E(e.style.left)%3+"px":"0px","X"in t)t.X=E(e.style.left)/3,t.Y=E(e.style.top)/3;else{var r=t.TopLeftX,s=t.TopLeftY;t.TopLeftX=E(e.style.left)/3,t.TopLeftY=E(e.style.top)/3,t.BottomRightX+=t.TopLeftX-r,t.BottomRightY+=t.TopLeftY-s}i(a),o(),n("e_coords").innerHTML="coordinates"in g.app.lang?g.app.lang.coordinates:"Coordinates"}},e.ondragstart=function(){return!1}},j=function(e){setTimeout(function(){H(g.elements[e].editorId,g.elements[e].coords(),g.elements[e].prewiewClass,g.elements[e].drawFunc)},10)},z=function(e){!function(e){n("editor").innerHTML+='<div id="'+g.elements[e].editorId+'" style="height:'+3*n(g.elements[e].coords().ImageIndex).height+"px; width:"+3*n(g.elements[e].coords().ImageIndex).width+"px; top:"+3*g.elements[e].coords().Y+"px; left:"+3*g.elements[e].coords().X+'px;" class="editor-elem" uk-tooltip="title: '+g.elements[e].name+'; delay: 750; offset: 1"></div>'}(e),j(e)},U=function(e){!function(e){n("editor").innerHTML+='<div id="'+g.elements[e].editorId+'" style="height:'+3*(g.elements[e].coords().BottomRightY-g.elements[e].coords().TopLeftY+1)+"px; width:"+3*(g.elements[e].coords().BottomRightX-g.elements[e].coords().TopLeftX+1)+"px; top:"+3*g.elements[e].coords().TopLeftY+"px; left:"+3*g.elements[e].coords().TopLeftX+'px;" class="editor-elem" uk-tooltip="title: '+g.elements[e].name+'; delay: 750; offset: 1"></div>'}(e),j(e)},J=function(e){var t=e.getBoundingClientRect(),a=document.body,o=document.documentElement,n=window.pageYOffset||o.scrollTop||a.scrollTop,r=window.pageXOffset||o.scrollLeft||a.scrollLeft,s=o.clientTop||a.clientTop||0,i=o.clientLeft||a.clientLeft||0,c=t.top+n-s,d=t.left+r-i;return{top:Math.round(c),left:Math.round(d)}},q=function(e,t){var a=0,o=0;for(let t=0;t<e.ImagesCount;t++)n(e.ImageIndex+t).width>a&&(a=n(e.ImageIndex+t).width),n(e.ImageIndex+t).height>o&&(o=n(e.ImageIndex+t).height);if(a=a*t+e.Spacing*(t-1),arguments.length>2)for(let t=2;t<arguments.length;t++)a+=n(arguments[t]).width+e.Spacing;"TopRight"==e.Alignment?(e.BottomRightY=e.TopLeftY+o-1,e.TopLeftX=e.BottomRightX-a+1):(e.BottomRightY=e.TopLeftY+o-1,e.BottomRightX=e.TopLeftX+a-1)};n("editbutton").addEventListener("click",F),n("fix-coords").addEventListener("click",function(){g.coords.date&&("dateDay"in g.coords&&q(g.coords.dateDay,2),"dateMonth"in g.coords&&q(g.coords.dateMonth,2),"dateOneLine"in g.coords&&q(g.coords.dateOneLine.Number,4,g.coords.dateOneLine.DelimiterImageIndex)),"batteryText"in g.coords&&q(g.coords.batteryText,3),g.coords.activity&&("actCal"in g.coords&&q(g.coords.actCal,4),"actSteps"in g.coords&&q(g.coords.actSteps,5),"actStepsGoal"in g.coords&&q(g.coords.actStepsGoal,5),"actPulse"in g.coords&&q(g.coords.actPulse,3),"actDistance"in g.coords&&q(g.coords.actDistance.Number,4,g.coords.actDistance.DecimalPointImageIndex,g.coords.actDistance.SuffixImageIndex)),g.coords.weather&&("weatherOneLine"in g.coords&&q(g.coords.weatherOneLine.Number,4,g.coords.weatherOneLine.MinusSignImageIndex,g.coords.weatherOneLine.MinusSignImageIndex,g.coords.weatherOneLine.DelimiterImageIndex,g.coords.weatherOneLine.DegreesImageIndex),"weatherDay"in g.coords&&q(g.coords.weatherDay.Number,2,g.coords.weatherDay.MinusImageIndex,g.coords.weatherDay.DegreesImageIndex),"weatherNight"in g.coords&&q(g.coords.weatherNight.Number,2,g.coords.weatherNight.MinusImageIndex,g.coords.weatherNight.DegreesImageIndex),"weatherCurrent"in g.coords&&q(g.coords.weatherCurrent.Number,2,g.coords.weatherCurrent.MinusImageIndex,g.coords.weatherCurrent.DegreesImageIndex)),F(),g.makeWf()}),n("editor-undo").addEventListener("click",function(){g.coordsHistory.length&&(g.coords=JSON.parse(g.coordsHistory.pop()),F(),g.makeWf())}),g.app={changeThemeBtn:function(){document.body.classList.contains("uk-light")?l.changeTheme("light"):l.changeTheme("dark")},lastimage:300,imagestabversion:2,editortabversion:1,designtabversion:1,analogtabversion:2,notWebkitBased:void 0,lang:{},local:"file:"==location.protocol,firstopen_editor:!("firstopen_editor"in sessionStorage),endLoad:function(){window.onload=function(){"true"==localStorage.showdemo?("cor"==localStorage.device?g.coords=JSON.parse('{"bg":{"Image":{"ImageIndex":293,"X":0,"Y":0}},"time":{"Hours":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":45,"Y":9},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":8,"Y":9}},"Minutes":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":45,"Y":84},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":8,"Y":83}}},"date":false,"battery":false,"status":false,"activity":false,"weather":false,"stepsprogress":false,"analog":false}'):g.coords=JSON.parse('{"bg":{"Image":{"ImageIndex":265,"X":0,"Y":0}},"time":{"Hours":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":87,"Y":26},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":37,"Y":26}},"Minutes":{"Ones":{"ImageIndex":255,"ImagesCount":10,"X":112,"Y":77},"Tens":{"ImageIndex":255,"ImagesCount":10,"X":62,"Y":77}}},"date":false,"battery":false,"status":false,"activity":false,"weather":false,"stepsprogress":false,"analog":false}'),g.makeWf(),g.load.disableBtn(1)):n("showdemocheck").checked=!1,UIkit.modal(n("modal-loading")).hide(),localStorage.settingsShown||(UIkit.modal(n("modal-settings")).show(),localStorage.settingsShown=!0)}}},g.init=function(){void 0===localStorage.device&&(localStorage.device="bip"),"cor"==location.search.slice(1)?localStorage.device="cor":"bip"==location.search.slice(1)&&(localStorage.device="bip");let e=document.getElementsByName("device"),t=()=>{for(let t=0;t<e.length;t++)e[t].checked&&(localStorage.device=e[t].value,location.search="")};for(let a=0;a<e.length;a++)e[a].value==localStorage.device&&(e[a].checked=!0),e[a].onchange=t;function a(e){var t=document.createElement("script");t.src=e,t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t)}"cor"==localStorage.device&&(document.getElementsByTagName("main")[0].classList.remove("bip"),document.getElementsByTagName("main")[0].classList.add("cor"),n("svg-cont-steps").attributes.width.value=80,n("svg-cont-steps").attributes.height.value=160,n("svg-cont-clock").attributes.width.value=80,n("svg-cont-clock").attributes.height.value=160,n("amazfit-upload").href="https://amazfitwatchfaces.com/cor/upload",n("amazfit-editor-bip").removeAttribute("hidden"),n("amazfit-editor-cor").setAttribute("hidden",""),n("analogbutton").setAttribute("hidden","")),"amazfitwatchfaces.com"==location.host&&void 0===localStorage.appTheme&&(localStorage.appTheme="amazfit"),l.changeTheme(localStorage.appTheme),"lang"in localStorage||(localStorage.lang=navigator.language||navigator.userLanguage),localStorage.lang.indexOf("ru")>=0?l.changeLang("russian"):localStorage.lang.indexOf("zh")>=0?l.changeLang("chinese"):localStorage.lang.indexOf("nl")>=0?l.changeLang("dutch"):localStorage.lang.indexOf("de")>=0?l.changeLang("german"):localStorage.lang.indexOf("tr")>=0?l.changeLang("turkish"):localStorage.lang.indexOf("en")<0&&1!=localStorage.translatehelp&&(UIkit.notification("Please contact me if you can help me to translate this app to your language",{status:"primary",pos:"top-left",timeout:7500}),localStorage.translatehelp=1),localStorage.lang.indexOf("ru")>=0&&!localStorage.forumLinkShown&&localStorage.showcount>1&&(UIkit.notification('<a href="http://myamazfit.ru/" style="color: rgb(150, 150, 150)">myamazfit.ru</a> - русскоязычный форум по устройствам Amazfit',{pos:"top-left",timeout:7500}),localStorage.forumLinkShown=!0),void 0===localStorage.showdemo&&(localStorage.showdemo=!0),n("showdemocheck").onchange=function(){localStorage.showdemo=n("showdemocheck").checked,location.reload()},localStorage.biptools=0,localStorage.analogDescription?UIkit.alert(n("analogDescription")).close():UIkit.alert(n("analogDescription"))._events[0]=function(){localStorage.analogDescription=!0};for(let e=200;e<=g.app.lastimage;e++)n("defimages").innerHTML+='<img src="defaultimages/'+e+'.png" id="'+e+'" class="default-image">';g.app.notWebkitBased=navigator.userAgent.search(/Edge/)>0||navigator.userAgent.search(/Firefox/)>0,g.app.notWebkitBased?(UIkit.notification("browserwarn"in g.app.lang?g.app.lang.browserwarn:"Something may not work in your browser. WebKit-based browser recommended",{status:"warning",pos:"top-left",timeout:7500}),a("js/FileSaver.min.js"),a("js/canvas-toBlob.js"),n("inputblock").childNodes[3].childNodes[1].style.overflowX="hidden"):navigator.userAgent.match(/Android|iPhone/i)&&UIkit.notification("This site is not optimized for mobile devices, something may not work",{status:"warning",pos:"top-left",timeout:7500}),n("inputimages").onchange=function(){if(n("inputimages").files.length){var e=0;for(console.log("Images count: ",n("inputimages").files.length);e<n("inputimages").files.length;)g.load.renderImage(n("inputimages").files[e]),e++;g.data.imagesset=!0,n("inputimages").nextElementSibling.classList.contains("uk-button-danger")&&(n("inputimages").nextElementSibling.classList.remove("uk-button-danger"),n("inputimages").nextElementSibling.classList.add("uk-button-default")),n("inputimages").nextElementSibling.classList.add("uk-label-success")}g.data.imagesset&&g.data.jsset?g.load.disableBtn(1):g.load.disableBtn(0)},n("inputjs").onchange=function(){if(n("inputjs").files.length){g.data.wfname=n("inputjs").files[0].name.split(".")[0],console.log("Watchface name: ",g.data.wfname),document.title="WF editor - "+g.data.wfname;var e=new FileReader;e.onload=function(e){try{g.coords=o.import(jsonlint.parse(e.target.result),localStorage.device)}catch(e){n("jsonerrortext").innerHTML=e,setTimeout(function(){UIkit.modal(n("jsonerrormodal")).show()},200),console.warn(e)}},e.readAsText(n("inputjs").files[0]),e=null,g.data.jsset=!0,n("inputjs").nextElementSibling.classList.contains("uk-button-danger")&&(n("inputjs").nextElementSibling.classList.remove("uk-button-danger"),n("inputjs").nextElementSibling.classList.add("uk-button-default")),n("inputjs").nextElementSibling.classList.add("uk-label-success")}g.data.imagesset&&g.data.jsset?g.load.disableBtn(1):g.load.disableBtn(0)},UIkit.modal("#donateframe")._events[0]=function(){n("donateframe").innerHTML='<iframe src="https://money.yandex.ru/quickpay/shop-widget?writer=seller&targets=%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%B0%D1%82%D1%8C%20watchfaceEditor&targets-hint=&default-sum=100&button-text=14&payment-type-choice=on&hint=%D0%9E%D1%81%D1%82%D0%B0%D0%B2%D0%B8%D1%82%D1%8C%20%D0%BE%D1%82%D0%B7%D1%8B%D0%B2&successURL=&quickpay=shop&account=41001928688597" width="460" height="222" frameborder="0" allowtransparency="true" scrolling="no"></iframe>',setTimeout(function(){n("donateframe").classList.remove("uk-modal")},10)},UIkit.modal("#modal-about")._events[0]=function(){n("siteopened").innerHTML=n("siteopened").innerHTML.replace("$times",localStorage.showcount)},"showcount"in localStorage?(localStorage.showcount++,10==localStorage.showcount&&setTimeout(()=>UIkit.modal(n("modal-donate")).show(),250)):localStorage.showcount=1,navigator.userAgent.indexOf("Electron")>=0&&(a("js/electronApp.js"),g.app.local=!1),g.app.local?a("js/utilit.js"):setTimeout(a,2e3,"js/metrika.js"),g.app.endLoad()},g.load={allinone:function(){g.coords=o.import(JSON.parse('{"Background":{"Image":{"ImageIndex":265,"X":0,"Y":0}},"Time":{"DrawingOrder":"1234","Hours":{"Ones":{"ImageIndex":200,"ImagesCount":10,"X":9,"Y":0},"Tens":{"ImageIndex":200,"ImagesCount":10,"X":0,"Y":0}},"Minutes":{"Ones":{"ImageIndex":200,"ImagesCount":10,"X":29,"Y":0},"Tens":{"ImageIndex":200,"ImagesCount":10,"X":20,"Y":0}},"AmPm":{"X":41,"Y":11,"ImageIndexAm":233,"ImageIndexPm":234},"Seconds":{"Tens":{"X":41,"Y":0,"ImageIndex":200,"ImagesCount":10},"Ones":{"X":51,"Y":0,"ImageIndex":200,"ImagesCount":10}}},"Date":{"WeekDay":{"X":0,"Y":24,"ImageIndex":210,"ImagesCount":7},"MonthAndDay":{"Separate":{"Day":{"TopLeftX":0,"TopLeftY":11,"BottomRightX":15,"BottomRightY":20,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Month":{"TopLeftX":20,"TopLeftY":11,"BottomRightX":35,"BottomRightY":20,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10}},"TwoDigitsMonth":true,"TwoDigitsDay":true}},"Activity":{"Steps":{"TopLeftX":40,"TopLeftY":111,"BottomRightX":82,"BottomRightY":120,"Alignment":"TopRight","Spacing":2,"ImageIndex":200,"ImagesCount":10},"StepsGoal":{"TopLeftX":94,"TopLeftY":111,"BottomRightX":136,"BottomRightY":120,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Pulse":{"TopLeftX":43,"TopLeftY":148,"BottomRightX":67,"BottomRightY":157,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Calories":{"TopLeftX":2,"TopLeftY":148,"BottomRightX":35,"BottomRightY":157,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Distance":{"Number":{"TopLeftX":0,"TopLeftY":162,"BottomRightX":58,"BottomRightY":171,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"SuffixImageIndex":231,"DecimalPointImageIndex":232}},"StepsProgress":{"Linear":{"StartImageIndex":200,"Segments":[{"X":40,"Y":121},{"X":55,"Y":121},{"X":67,"Y":121},{"X":79,"Y":121},{"X":91,"Y":121},{"X":104,"Y":121},{"X":117,"Y":121},{"X":130,"Y":121}]},"Circle":{"CenterX":88,"CenterY":88,"RadiusX":24,"RadiusY":24,"StartAngle":0,"EndAngle":360,"Width":3,"Color":"0x00FF00"},"GoalImage":{"X":83,"Y":111,"ImageIndex":266}},"Status":{"Alarm":{"Coordinates":{"X":140,"Y":0},"ImageIndexOn":224},"Bluetooth":{"Coordinates":{"X":164,"Y":13},"ImageIndexOn":220,"ImageIndexOff":221},"Lock":{"Coordinates":{"X":166,"Y":0},"ImageIndexOn":223},"DoNotDisturb":{"Coordinates":{"X":153,"Y":0},"ImageIndexOn":222}},"Battery":{"Icon":{"X":116,"Y":0,"ImageIndex":225,"ImagesCount":6},"Text":{"TopLeftX":3,"TopLeftY":133,"BottomRightX":27,"BottomRightY":142,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"Scale":{"StartImageIndex":200,"Segments":[{"X":90,"Y":64},{"X":104,"Y":73},{"X":100,"Y":93},{"X":80,"Y":106},{"X":65,"Y":95},{"X":63,"Y":76},{"X":69,"Y":64}]}},"Weather":{"Icon":{"CustomIcon":{"X":146,"Y":146,"ImageIndex":267,"ImagesCount":26}},"AirPollution":{"Icon":{"X":79,"Y":136,"ImageIndex":235,"ImagesCount":6}},"Temperature":{"Current":{"Number":{"TopLeftX":142,"TopLeftY":136,"BottomRightX":175,"BottomRightY":145,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"MinusImageIndex":217,"DegreesImageIndex":218},"Today":{"Separate":{"Day":{"Number":{"TopLeftX":93,"TopLeftY":166,"BottomRightX":114,"BottomRightY":175,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"MinusImageIndex":217,"DegreesImageIndex":218},"Night":{"Number":{"TopLeftX":93,"TopLeftY":153,"BottomRightX":114,"BottomRightY":162,"Alignment":"TopLeft","Spacing":2,"ImageIndex":200,"ImagesCount":10},"MinusImageIndex":217,"DegreesImageIndex":218}}}}},"AnalogDialFace":{"Hours":{"OnlyBorder":false,"Color":"0xFFFFFF","Center":{"X":88,"Y":88},"Shape":[{"X":-17,"Y":-2},{"X":54,"Y":-2},{"X":54,"Y":1},{"X":-17,"Y":1}]},"Minutes":{"OnlyBorder":false,"Color":"0xFFFFFF","Center":{"X":88,"Y":88},"Shape":[{"X":-17,"Y":-2},{"X":68,"Y":-2},{"X":68,"Y":1},{"X":-17,"Y":1}]},"Seconds":{"OnlyBorder":false,"Color":"0xFF0000","Center":{"X":88,"Y":88},"Shape":[{"X":-21,"Y":-1},{"X":82,"Y":-1},{"X":82,"Y":0},{"X":-21,"Y":0}],"CenterImage":{"X":84,"Y":84,"ImageIndex":200}}}}'),localStorage.device),g.makeWf()},disableBtn:function(e){e?(n("editbutton").classList.remove("uk-disabled"),n("makepng").removeAttribute("disabled"),n("viewsettings").removeAttribute("disabled"),n("codeopenbutton").classList.remove("uk-disabled"),n("imagesbutton").classList.remove("uk-disabled"),n("analogbutton").classList.remove("uk-disabled"),setTimeout(g.makeWf,300)):(n("editbutton").classList.add("uk-disabled"),n("makepng").setAttribute("disabled",""),n("viewsettings").setAttribute("disabled",""),n("codeopenbutton").classList.add("uk-disabled"),n("imagesbutton").classList.add("uk-disabled"),n("analogbutton").classList.add("uk-disabled"))},clearjs:function(){n("inputjs").value="",g.coords={},g.data.jsset=!1,n("inputjs").nextElementSibling.classList.contains("uk-label-success")&&n("inputjs").nextElementSibling.classList.remove("uk-label-success"),n("inputjs").nextElementSibling.classList.add("uk-button-danger"),n("inputjs").nextElementSibling.classList.remove("uk-button-default"),g.load.disableBtn(0)},clearimg:function(){n("inputimages").value="",n("allimages").innerHTML="",g.data.imagesset=!1,n("inputimages").nextElementSibling.classList.contains("uk-label-success")&&n("inputimages").nextElementSibling.classList.remove("uk-label-success"),n("inputimages").nextElementSibling.classList.add("uk-button-danger"),n("inputimages").nextElementSibling.classList.remove("uk-button-default"),g.load.disableBtn(0)},renderImage:function(e){var t=new FileReader;t.onload=function(t){let a=t.target.result;isNaN(Number(e.name.replace(".png","")))?"weather.png"==e.name&&(n("weather").parentNode.removeChild(n("weather")),n("allimages").innerHTML+='<img src="'+a+'" id="'+e.name.replace(".png","")+'" >'):n("allimages").innerHTML+='<img src="'+a+'" id="'+Number(e.name.replace(".png",""))+'" >'},t.readAsDataURL(e),t=null}},n("inputimages").addEventListener("click",g.load.clearimg),n("inputjs").addEventListener("click",g.load.clearjs),g.init()}]);